var Bv=Object.create;var Fc=Object.defineProperty;var Mv=Object.getOwnPropertyDescriptor;var Lv=Object.getOwnPropertyNames;var Fv=Object.getPrototypeOf,Uv=Object.prototype.hasOwnProperty;var N=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var qe=(t,e)=>()=>(t&&(e=t(t=0)),e);var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Po=(t,e)=>{for(var r in e)Fc(t,r,{get:e[r],enumerable:!0})},PE=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Lv(e))!Uv.call(t,s)&&s!==r&&Fc(t,s,{get:()=>e[s],enumerable:!(n=Mv(e,s))||n.enumerable});return t};var jt=(t,e,r)=>(r=t!=null?Bv(Fv(t)):{},PE(e||!t||!t.__esModule?Fc(r,"default",{value:t,enumerable:!0}):r,t)),Oo=t=>PE(Fc({},"__esModule",{value:!0}),t);var Uc=C(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.toCommandProperties=vo.toCommandValue=void 0;function zv(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}vo.toCommandValue=zv;function $v(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}vo.toCommandProperties=$v});var DE=C(Jt=>{"use strict";var qv=Jt&&Jt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hv=Jt&&Jt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jv=Jt&&Jt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&qv(e,t,r);return Hv(e,t),e};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.issue=Jt.issueCommand=void 0;var Gv=jv(N("os")),vE=Uc();function IE(t,e,r){let n=new lf(t,e,r);process.stdout.write(n.toString()+Gv.EOL)}Jt.issueCommand=IE;function Kv(t,e=""){IE(t,{},e)}Jt.issue=Kv;var OE="::",lf=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=OE+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let s=this.properties[n];s&&(r?r=!1:e+=",",e+=`${n}=${Wv(s)}`)}}return e+=`${OE}${Vv(this.message)}`,e}};function Vv(t){return vE.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Wv(t){return vE.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});import Yv from"crypto";function pa(){return zc>$c.length-16&&(Yv.randomFillSync($c),zc=0),$c.slice(zc,zc+=16)}var $c,zc,uf=qe(()=>{$c=new Uint8Array(256),zc=$c.length});var BE,ME=qe(()=>{BE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Xv(t){return typeof t=="string"&&BE.test(t)}var Bn,ya=qe(()=>{ME();Bn=Xv});function Qv(t,e=0){let r=(ot[t[e+0]]+ot[t[e+1]]+ot[t[e+2]]+ot[t[e+3]]+"-"+ot[t[e+4]]+ot[t[e+5]]+"-"+ot[t[e+6]]+ot[t[e+7]]+"-"+ot[t[e+8]]+ot[t[e+9]]+"-"+ot[t[e+10]]+ot[t[e+11]]+ot[t[e+12]]+ot[t[e+13]]+ot[t[e+14]]+ot[t[e+15]]).toLowerCase();if(!Bn(r))throw TypeError("Stringified UUID is invalid");return r}var ot,Mn,ga=qe(()=>{ya();ot=[];for(let t=0;t<256;++t)ot.push((t+256).toString(16).substr(1));Mn=Qv});function Zv(t,e,r){let n=e&&r||0,s=e||new Array(16);t=t||{};let o=t.node||LE,i=t.clockseq!==void 0?t.clockseq:ff;if(o==null||i==null){let u=t.random||(t.rng||pa)();o==null&&(o=LE=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),i==null&&(i=ff=(u[6]<<8|u[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:mf+1,d=a-hf+(c-mf)/1e4;if(d<0&&t.clockseq===void 0&&(i=i+1&16383),(d<0||a>hf)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");hf=a,mf=c,ff=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;s[n++]=l>>>24&255,s[n++]=l>>>16&255,s[n++]=l>>>8&255,s[n++]=l&255;let f=a/4294967296*1e4&268435455;s[n++]=f>>>8&255,s[n++]=f&255,s[n++]=f>>>24&15|16,s[n++]=f>>>16&255,s[n++]=i>>>8|128,s[n++]=i&255;for(let u=0;u<6;++u)s[n+u]=o[u];return e||Mn(s)}var LE,ff,hf,mf,FE,UE=qe(()=>{uf();ga();hf=0,mf=0;FE=Zv});function Jv(t){if(!Bn(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var qc,pf=qe(()=>{ya();qc=Jv});function eI(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Hc(t,e,r){function n(s,o,i,a){if(typeof s=="string"&&(s=eI(s)),typeof o=="string"&&(o=qc(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(o),c.set(s,o.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return Mn(c)}try{n.name=t}catch{}return n.DNS=tI,n.URL=rI,n}var tI,rI,yf=qe(()=>{ga();pf();tI="6ba7b810-9dad-11d1-80b4-00c04fd430c8",rI="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import nI from"crypto";function sI(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),nI.createHash("md5").update(t).digest()}var zE,$E=qe(()=>{zE=sI});var oI,qE,HE=qe(()=>{yf();$E();oI=Hc("v3",48,zE),qE=oI});function iI(t,e,r){t=t||{};let n=t.random||(t.rng||pa)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let s=0;s<16;++s)e[r+s]=n[s];return e}return Mn(n)}var jc,jE=qe(()=>{uf();ga();jc=iI});import aI from"crypto";function cI(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),aI.createHash("sha1").update(t).digest()}var GE,KE=qe(()=>{GE=cI});var dI,VE,WE=qe(()=>{yf();KE();dI=Hc("v5",80,GE),VE=dI});var YE,XE=qe(()=>{YE="00000000-0000-0000-0000-000000000000"});function lI(t){if(!Bn(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var QE,ZE=qe(()=>{ya();QE=lI});var JE={};Po(JE,{NIL:()=>YE,parse:()=>qc,stringify:()=>Mn,v1:()=>FE,v3:()=>qE,v4:()=>jc,v5:()=>VE,validate:()=>Bn,version:()=>QE});var gf=qe(()=>{UE();HE();jE();WE();XE();ZE();ya();ga();pf()});var nS=C(er=>{"use strict";var uI=er&&er.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fI=er&&er.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tS=er&&er.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&uI(e,t,r);return fI(e,t),e};Object.defineProperty(er,"__esModule",{value:!0});er.prepareKeyValueMessage=er.issueFileCommand=void 0;var eS=tS(N("fs")),Ef=tS(N("os")),hI=(gf(),Oo(JE)),rS=Uc();function mI(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!eS.existsSync(r))throw new Error(`Missing file at path: ${r}`);eS.appendFileSync(r,`${rS.toCommandValue(e)}${Ef.EOL}`,{encoding:"utf8"})}er.issueFileCommand=mI;function pI(t,e){let r=`ghadelimiter_${hI.v4()}`,n=rS.toCommandValue(e);if(t.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${t}<<${r}${Ef.EOL}${n}${Ef.EOL}${r}`}er.prepareKeyValueMessage=pI});var oS=C(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.checkBypass=Io.getProxyUrl=void 0;function yI(t){let e=t.protocol==="https:";if(sS(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Io.getProxyUrl=yI;function sS(t){if(!t.hostname)return!1;let e=t.hostname;if(gI(e))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;t.port?n=Number(t.port):t.protocol==="http:"?n=80:t.protocol==="https:"&&(n=443);let s=[t.hostname.toUpperCase()];typeof n=="number"&&s.push(`${s[0]}:${n}`);for(let o of r.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(o==="*"||s.some(i=>i===o||i.endsWith(`.${o}`)||o.startsWith(".")&&i.endsWith(`${o}`)))return!0;return!1}Io.checkBypass=sS;function gI(t){let e=t.toLowerCase();return e==="localhost"||e.startsWith("127.")||e.startsWith("[::1]")||e.startsWith("[0:0:0:0:0:0:0:1]")}});var dS=C(Do=>{"use strict";var XK=N("net"),EI=N("tls"),Sf=N("http"),iS=N("https"),SI=N("events"),QK=N("assert"),wI=N("util");Do.httpOverHttp=xI;Do.httpsOverHttp=CI;Do.httpOverHttps=bI;Do.httpsOverHttps=_I;function xI(t){var e=new en(t);return e.request=Sf.request,e}function CI(t){var e=new en(t);return e.request=Sf.request,e.createSocket=aS,e.defaultPort=443,e}function bI(t){var e=new en(t);return e.request=iS.request,e}function _I(t){var e=new en(t);return e.request=iS.request,e.createSocket=aS,e.defaultPort=443,e}function en(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||Sf.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,s,o,i){for(var a=cS(s,o,i),c=0,d=e.requests.length;c<d;++c){var l=e.requests[c];if(l.host===a.host&&l.port===a.port){e.requests.splice(c,1),l.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}wI.inherits(en,SI.EventEmitter);en.prototype.addRequest=function(e,r,n,s){var o=this,i=wf({request:e},o.options,cS(r,n,s));if(o.sockets.length>=this.maxSockets){o.requests.push(i);return}o.createSocket(i,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),e.onSocket(a);function c(){o.emit("free",a,i)}function d(l){o.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};en.prototype.createSocket=function(e,r){var n=this,s={};n.sockets.push(s);var o=wf({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(o.localAddress=e.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),Ln("making CONNECT request");var i=n.request(o);i.useChunkedEncodingByDefault=!1,i.once("response",a),i.once("upgrade",c),i.once("connect",d),i.once("error",l),i.end();function a(f){f.upgrade=!0}function c(f,u,g){process.nextTick(function(){d(f,u,g)})}function d(f,u,g){if(i.removeAllListeners(),u.removeAllListeners(),f.statusCode!==200){Ln("tunneling socket could not be established, statusCode=%d",f.statusCode),u.destroy();var y=new Error("tunneling socket could not be established, statusCode="+f.statusCode);y.code="ECONNRESET",e.request.emit("error",y),n.removeSocket(s);return}if(g.length>0){Ln("got illegal response body from proxy"),u.destroy();var y=new Error("got illegal response body from proxy");y.code="ECONNRESET",e.request.emit("error",y),n.removeSocket(s);return}return Ln("tunneling connection has established"),n.sockets[n.sockets.indexOf(s)]=u,r(u)}function l(f){i.removeAllListeners(),Ln(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var u=new Error("tunneling socket could not be established, cause="+f.message);u.code="ECONNRESET",e.request.emit("error",u),n.removeSocket(s)}};en.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(s){n.request.onSocket(s)})}};function aS(t,e){var r=this;en.prototype.createSocket.call(r,t,function(n){var s=t.request.getHeader("host"),o=wf({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):t.host}),i=EI.connect(0,o);r.sockets[r.sockets.indexOf(n)]=i,e(i)})}function cS(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function wf(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var s=Object.keys(n),o=0,i=s.length;o<i;++o){var a=s[o];n[a]!==void 0&&(t[a]=n[a])}}return t}var Ln;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Ln=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:Ln=function(){};Do.debug=Ln});var uS=C((JK,lS)=>{lS.exports=dS()});var hS=C(ge=>{"use strict";var RI=ge&&ge.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),AI=ge&&ge.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yc=ge&&ge.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&RI(e,t,r);return AI(e,t),e},Ye=ge&&ge.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ge,"__esModule",{value:!0});ge.HttpClient=ge.isHttps=ge.HttpClientResponse=ge.HttpClientError=ge.getProxyUrl=ge.MediaTypes=ge.Headers=ge.HttpCodes=void 0;var Gc=Yc(N("http")),xf=Yc(N("https")),fS=Yc(oS()),Kc=Yc(uS()),gr;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(gr=ge.HttpCodes||(ge.HttpCodes={}));var kt;(function(t){t.Accept="accept",t.ContentType="content-type"})(kt=ge.Headers||(ge.Headers={}));var Fn;(function(t){t.ApplicationJson="application/json"})(Fn=ge.MediaTypes||(ge.MediaTypes={}));function kI(t){let e=fS.getProxyUrl(new URL(t));return e?e.href:""}ge.getProxyUrl=kI;var TI=[gr.MovedPermanently,gr.ResourceMoved,gr.SeeOther,gr.TemporaryRedirect,gr.PermanentRedirect],NI=[gr.BadGateway,gr.ServiceUnavailable,gr.GatewayTimeout],PI=["OPTIONS","GET","DELETE","HEAD"],OI=10,vI=5,Bo=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Bo.prototype)}};ge.HttpClientError=Bo;var Wc=class{constructor(e){this.message=e}readBody(){return Ye(this,void 0,void 0,function*(){return new Promise(e=>Ye(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{e(r.toString())})}))})}};ge.HttpClientResponse=Wc;function II(t){return new URL(t).protocol==="https:"}ge.isHttps=II;var Cf=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return Ye(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return Ye(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return Ye(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,n){return Ye(this,void 0,void 0,function*(){return this.request("POST",e,r,n||{})})}patch(e,r,n){return Ye(this,void 0,void 0,function*(){return this.request("PATCH",e,r,n||{})})}put(e,r,n){return Ye(this,void 0,void 0,function*(){return this.request("PUT",e,r,n||{})})}head(e,r){return Ye(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,n,s){return Ye(this,void 0,void 0,function*(){return this.request(e,r,n,s)})}getJson(e,r={}){return Ye(this,void 0,void 0,function*(){r[kt.Accept]=this._getExistingOrDefaultHeader(r,kt.Accept,Fn.ApplicationJson);let n=yield this.get(e,r);return this._processResponse(n,this.requestOptions)})}postJson(e,r,n={}){return Ye(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[kt.Accept]=this._getExistingOrDefaultHeader(n,kt.Accept,Fn.ApplicationJson),n[kt.ContentType]=this._getExistingOrDefaultHeader(n,kt.ContentType,Fn.ApplicationJson);let o=yield this.post(e,s,n);return this._processResponse(o,this.requestOptions)})}putJson(e,r,n={}){return Ye(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[kt.Accept]=this._getExistingOrDefaultHeader(n,kt.Accept,Fn.ApplicationJson),n[kt.ContentType]=this._getExistingOrDefaultHeader(n,kt.ContentType,Fn.ApplicationJson);let o=yield this.put(e,s,n);return this._processResponse(o,this.requestOptions)})}patchJson(e,r,n={}){return Ye(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[kt.Accept]=this._getExistingOrDefaultHeader(n,kt.Accept,Fn.ApplicationJson),n[kt.ContentType]=this._getExistingOrDefaultHeader(n,kt.ContentType,Fn.ApplicationJson);let o=yield this.patch(e,s,n);return this._processResponse(o,this.requestOptions)})}request(e,r,n,s){return Ye(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let o=new URL(r),i=this._prepareRequest(e,o,s),a=this._allowRetries&&PI.includes(e)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(i,n),d&&d.message&&d.message.statusCode===gr.Unauthorized){let f;for(let u of this.handlers)if(u.canHandleAuthentication(d)){f=u;break}return f?f.handleAuthentication(this,i,n):d}let l=this._maxRedirects;for(;d.message.statusCode&&TI.includes(d.message.statusCode)&&this._allowRedirects&&l>0;){let f=d.message.headers.location;if(!f)break;let u=new URL(f);if(o.protocol==="https:"&&o.protocol!==u.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),u.hostname!==o.hostname)for(let g in s)g.toLowerCase()==="authorization"&&delete s[g];i=this._prepareRequest(e,u,s),d=yield this.requestRaw(i,n),l--}if(!d.message.statusCode||!NI.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return Ye(this,void 0,void 0,function*(){return new Promise((n,s)=>{function o(i,a){i?s(i):a?n(a):s(new Error("Unknown error"))}this.requestRawWithCallback(e,r,o)})})}requestRawWithCallback(e,r,n){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let s=!1;function o(c,d){s||(s=!0,n(c,d))}let i=e.httpModule.request(e.options,c=>{let d=new Wc(c);o(void 0,d)}),a;i.on("socket",c=>{a=c}),i.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),o(new Error(`Request timeout: ${e.options.path}`))}),i.on("error",function(c){o(c)}),r&&typeof r=="string"&&i.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){i.end()}),r.pipe(i)):i.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let s={};s.parsedUrl=r;let o=s.parsedUrl.protocol==="https:";s.httpModule=o?xf:Gc;let i=o?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):i,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=e,s.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(s.options);return s}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Vc(this.requestOptions.headers),Vc(e||{})):Vc(e||{})}_getExistingOrDefaultHeader(e,r,n){let s;return this.requestOptions&&this.requestOptions.headers&&(s=Vc(this.requestOptions.headers)[r]),e[r]||s||n}_getAgent(e){let r,n=fS.getProxyUrl(e),s=n&&n.hostname;if(this._keepAlive&&s&&(r=this._proxyAgent),this._keepAlive&&!s&&(r=this._agent),r)return r;let o=e.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||Gc.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";o?c=d?Kc.httpsOverHttps:Kc.httpsOverHttp:c=d?Kc.httpOverHttps:Kc.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:i};r=o?new xf.Agent(a):new Gc.Agent(a),this._agent=r}return r||(r=o?xf.globalAgent:Gc.globalAgent),o&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return Ye(this,void 0,void 0,function*(){e=Math.min(OI,e);let r=vI*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(e,r){return Ye(this,void 0,void 0,function*(){return new Promise((n,s)=>Ye(this,void 0,void 0,function*(){let o=e.message.statusCode||0,i={statusCode:o,result:null,headers:{}};o===gr.NotFound&&n(i);function a(l,f){if(typeof f=="string"){let u=new Date(f);if(!isNaN(u.valueOf()))return u}return f}let c,d;try{d=yield e.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),i.result=c),i.headers=e.message.headers}catch{}if(o>299){let l;c&&c.message?l=c.message:d&&d.length>0?l=d:l=`Failed request: (${o})`;let f=new Bo(l,o);f.result=i.result,s(f)}else n(i)}))})}};ge.HttpClient=Cf;var Vc=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var mS=C(_r=>{"use strict";var Af=_r&&_r.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(_r,"__esModule",{value:!0});_r.PersonalAccessTokenCredentialHandler=_r.BearerCredentialHandler=_r.BasicCredentialHandler=void 0;var bf=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Af(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_r.BasicCredentialHandler=bf;var _f=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Af(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_r.BearerCredentialHandler=_f;var Rf=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Af(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_r.PersonalAccessTokenCredentialHandler=Rf});var gS=C(Mo=>{"use strict";var pS=Mo&&Mo.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.OidcClient=void 0;var DI=hS(),BI=mS(),yS=kf(),Un=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new DI.HttpClient("actions/oidc-client",[new BI.BearerCredentialHandler(Un.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return pS(this,void 0,void 0,function*(){let o=(r=(yield Un.createHttpClient().getJson(e).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(e){return pS(this,void 0,void 0,function*(){try{let r=Un.getIDTokenUrl();if(e){let s=encodeURIComponent(e);r=`${r}&audience=${s}`}yS.debug(`ID token url is ${r}`);let n=yield Un.getCall(r);return yS.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Mo.OidcClient=Un});var Of=C(Tt=>{"use strict";var Tf=Tt&&Tt.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.summary=Tt.markdownSummary=Tt.SUMMARY_DOCS_URL=Tt.SUMMARY_ENV_VAR=void 0;var MI=N("os"),Nf=N("fs"),{access:LI,appendFile:FI,writeFile:UI}=Nf.promises;Tt.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";Tt.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Pf=class{constructor(){this._buffer=""}filePath(){return Tf(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[Tt.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${Tt.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield LI(e,Nf.constants.R_OK|Nf.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let s=Object.entries(n).map(([o,i])=>` ${o}="${i}"`).join("");return r?`<${e}${s}>${r}</${e}>`:`<${e}${s}>`}write(e){return Tf(this,void 0,void 0,function*(){let r=!!(e!=null&&e.overwrite),n=yield this.filePath();return yield(r?UI:FI)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Tf(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(MI.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),s=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(s).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",s=e.map(i=>this.wrap("li",i)).join(""),o=this.wrap(n,s);return this.addRaw(o).addEOL()}addTable(e){let r=e.map(s=>{let o=s.map(i=>{if(typeof i=="string")return this.wrap("td",i);let{header:a,data:c,colspan:d,rowspan:l}=i,f=a?"th":"td",u=Object.assign(Object.assign({},d&&{colspan:d}),l&&{rowspan:l});return this.wrap(f,c,u)}).join("");return this.wrap("tr",o)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:s,height:o}=n||{},i=Object.assign(Object.assign({},s&&{width:s}),o&&{height:o}),a=this.wrap("img",null,Object.assign({src:e,alt:r},i));return this.addRaw(a).addEOL()}addHeading(e,r){let n=`h${r}`,s=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",o=this.wrap(s,e);return this.addRaw(o).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),s=this.wrap("blockquote",e,n);return this.addRaw(s).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}},ES=new Pf;Tt.markdownSummary=ES;Tt.summary=ES});var SS=C(Nt=>{"use strict";var zI=Nt&&Nt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$I=Nt&&Nt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qI=Nt&&Nt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&zI(e,t,r);return $I(e,t),e};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.toPlatformPath=Nt.toWin32Path=Nt.toPosixPath=void 0;var HI=qI(N("path"));function jI(t){return t.replace(/[\\]/g,"/")}Nt.toPosixPath=jI;function GI(t){return t.replace(/[/]/g,"\\")}Nt.toWin32Path=GI;function KI(t){return t.replace(/[/\\]/g,HI.sep)}Nt.toPlatformPath=KI});var kf=C(z=>{"use strict";var VI=z&&z.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WI=z&&z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wS=z&&z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&VI(e,t,r);return WI(e,t),e},xS=z&&z.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(z,"__esModule",{value:!0});z.getIDToken=z.getState=z.saveState=z.group=z.endGroup=z.startGroup=z.info=z.notice=z.warning=z.error=z.debug=z.isDebug=z.setFailed=z.setCommandEcho=z.setOutput=z.getBooleanInput=z.getMultilineInput=z.getInput=z.addPath=z.setSecret=z.exportVariable=z.ExitCode=void 0;var tr=DE(),Ks=nS(),Lo=Uc(),CS=wS(N("os")),YI=wS(N("path")),XI=gS(),bS;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(bS=z.ExitCode||(z.ExitCode={}));function QI(t,e){let r=Lo.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||"")return Ks.issueFileCommand("ENV",Ks.prepareKeyValueMessage(t,e));tr.issueCommand("set-env",{name:t},r)}z.exportVariable=QI;function ZI(t){tr.issueCommand("add-mask",{},t)}z.setSecret=ZI;function JI(t){process.env.GITHUB_PATH||""?Ks.issueFileCommand("PATH",t):tr.issueCommand("add-path",{},t),process.env.PATH=`${t}${YI.delimiter}${process.env.PATH}`}z.addPath=JI;function vf(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}z.getInput=vf;function eD(t,e){let r=vf(t,e).split(`
`).filter(n=>n!=="");return e&&e.trimWhitespace===!1?r:r.map(n=>n.trim())}z.getMultilineInput=eD;function tD(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],s=vf(t,e);if(r.includes(s))return!0;if(n.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}z.getBooleanInput=tD;function rD(t,e){if(process.env.GITHUB_OUTPUT||"")return Ks.issueFileCommand("OUTPUT",Ks.prepareKeyValueMessage(t,e));process.stdout.write(CS.EOL),tr.issueCommand("set-output",{name:t},Lo.toCommandValue(e))}z.setOutput=rD;function nD(t){tr.issue("echo",t?"on":"off")}z.setCommandEcho=nD;function sD(t){process.exitCode=bS.Failure,_S(t)}z.setFailed=sD;function oD(){return process.env.RUNNER_DEBUG==="1"}z.isDebug=oD;function iD(t){tr.issueCommand("debug",{},t)}z.debug=iD;function _S(t,e={}){tr.issueCommand("error",Lo.toCommandProperties(e),t instanceof Error?t.toString():t)}z.error=_S;function aD(t,e={}){tr.issueCommand("warning",Lo.toCommandProperties(e),t instanceof Error?t.toString():t)}z.warning=aD;function cD(t,e={}){tr.issueCommand("notice",Lo.toCommandProperties(e),t instanceof Error?t.toString():t)}z.notice=cD;function dD(t){process.stdout.write(t+CS.EOL)}z.info=dD;function RS(t){tr.issue("group",t)}z.startGroup=RS;function AS(){tr.issue("endgroup")}z.endGroup=AS;function lD(t,e){return xS(this,void 0,void 0,function*(){RS(t);let r;try{r=yield e()}finally{AS()}return r})}z.group=lD;function uD(t,e){if(process.env.GITHUB_STATE||"")return Ks.issueFileCommand("STATE",Ks.prepareKeyValueMessage(t,e));tr.issueCommand("save-state",{name:t},Lo.toCommandValue(e))}z.saveState=uD;function fD(t){return process.env[`STATE_${t}`]||""}z.getState=fD;function hD(t){return xS(this,void 0,void 0,function*(){return yield XI.OidcClient.getIDToken(t)})}z.getIDToken=hD;var mD=Of();Object.defineProperty(z,"summary",{enumerable:!0,get:function(){return mD.summary}});var pD=Of();Object.defineProperty(z,"markdownSummary",{enumerable:!0,get:function(){return pD.markdownSummary}});var If=SS();Object.defineProperty(z,"toPosixPath",{enumerable:!0,get:function(){return If.toPosixPath}});Object.defineProperty(z,"toWin32Path",{enumerable:!0,get:function(){return If.toWin32Path}});Object.defineProperty(z,"toPlatformPath",{enumerable:!0,get:function(){return If.toPlatformPath}})});var jf=C(rn=>{"use strict";var VS=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",VD=VS+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",WS="["+VS+"]["+VD+"]*",WD=new RegExp("^"+WS+"$"),YD=function(t,e){let r=[],n=e.exec(t);for(;n;){let s=[];s.startIndex=e.lastIndex-n[0].length;let o=n.length;for(let i=0;i<o;i++)s.push(n[i]);r.push(s),n=e.exec(t)}return r},XD=function(t){let e=WD.exec(t);return!(e===null||typeof e>"u")};rn.isExist=function(t){return typeof t<"u"};rn.isEmptyObject=function(t){return Object.keys(t).length===0};rn.merge=function(t,e,r){if(e){let n=Object.keys(e),s=n.length;for(let o=0;o<s;o++)r==="strict"?t[n[o]]=[e[n[o]]]:t[n[o]]=e[n[o]]}};rn.getValue=function(t){return rn.isExist(t)?t:""};rn.isName=XD;rn.getAllMatches=YD;rn.nameRegexp=WS});var Kf=C(JS=>{"use strict";var Gf=jf(),QD={allowBooleanAttributes:!1,unpairedTags:[]};JS.validate=function(t,e){e=Object.assign({},QD,e);let r=[],n=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=XS(t,o),o.err)return o}else if(t[o]==="<"){let i=o;if(o++,t[o]==="!"){o=QS(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!oB(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",Ke("InvalidTag",f,Ot(t,o))}let d=eB(t,o);if(d===!1)return Ke("InvalidAttr","Attributes for '"+c+"' have open quote.",Ot(t,o));let l=d.value;if(o=d.index,l[l.length-1]==="/"){let f=o-l.length;l=l.substring(0,l.length-1);let u=ZS(l,e);if(u===!0)n=!0;else return Ke(u.err.code,u.err.msg,Ot(t,f+u.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return Ke("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ot(t,i));{let f=r.pop();if(c!==f.tagName){let u=Ot(t,f.tagStartPos);return Ke("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+u.line+", col "+u.col+") instead of closing tag '"+c+"'.",Ot(t,i))}r.length==0&&(s=!0)}}else return Ke("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ot(t,o));else{let f=ZS(l,e);if(f!==!0)return Ke(f.err.code,f.err.msg,Ot(t,o-l.length+f.err.line));if(s===!0)return Ke("InvalidXml","Multiple possible root nodes found.",Ot(t,o));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=QS(t,o);continue}else if(t[o+1]==="?"){if(o=XS(t,++o),o.err)return o}else break;else if(t[o]==="&"){let f=nB(t,o);if(f==-1)return Ke("InvalidChar","char '&' is not expected.",Ot(t,o));o=f}else if(s===!0&&!YS(t[o]))return Ke("InvalidXml","Extra text at the end",Ot(t,o));t[o]==="<"&&o--}}else{if(YS(t[o]))continue;return Ke("InvalidChar","char '"+t[o]+"' is not expected.",Ot(t,o))}if(n){if(r.length==1)return Ke("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ot(t,r[0].tagStartPos));if(r.length>0)return Ke("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Ke("InvalidXml","Start tag expected.",1);return!0};function YS(t){return t===" "||t==="	"||t===`
`||t==="\r"}function XS(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return Ke("InvalidXml","XML declaration allowed only at the start of the document.",Ot(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function QS(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var ZD='"',JD="'";function eB(t,e){let r="",n="",s=!1;for(;e<t.length;e++){if(t[e]===ZD||t[e]===JD)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){s=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:s}}var tB=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function ZS(t,e){let r=Gf.getAllMatches(t,tB),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return Ke("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",_a(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return Ke("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",_a(r[s]));if(r[s][3]===void 0&&!e.allowBooleanAttributes)return Ke("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",_a(r[s]));let o=r[s][2];if(!sB(o))return Ke("InvalidAttr","Attribute '"+o+"' is an invalid name.",_a(r[s]));if(!n.hasOwnProperty(o))n[o]=1;else return Ke("InvalidAttr","Attribute '"+o+"' is repeated.",_a(r[s]))}return!0}function rB(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function nB(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,rB(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function Ke(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function sB(t){return Gf.isName(t)}function oB(t){return Gf.isName(t)}function Ot(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function _a(t){return t.startIndex+t[1].length}});var tw=C(Vf=>{var ew={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},iB=function(t){return Object.assign({},ew,t)};Vf.buildOptions=iB;Vf.defaultOptions=ew});var nw=C((E5,rw)=>{"use strict";var Wf=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,[":@"]:e[":@"]}):this.child.push({[e.tagname]:e.child})}};rw.exports=Wf});var ow=C((S5,sw)=>{function aB(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,s=!1,o=!1,i=!1,a="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(s&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y")e+=7,o=!0;else if(s&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T")e+=8;else if(s&&t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T")e+=8;else if(s&&t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N")e+=9;else if(t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,n--):(o&&(dB(a,r),o=!1),n--),n===0)break}else t[e]==="["?s=!0:a+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}var cB=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function dB(t,e){let r=cB.exec(t);r&&(e[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}sw.exports=aB});var aw=C((w5,iw)=>{var lB=/^[-+]?0x[a-fA-F0-9]+$/,uB=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var fB={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function hB(t,e={}){if(e=Object.assign({},fB,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&lB.test(r))return Number.parseInt(r,16);{let n=uB.exec(r);if(n){let s=n[1],o=n[2],i=mB(n[3]),a=n[4]||n[6];if(!e.leadingZeros&&o.length>0&&s&&r[2]!==".")return t;if(!e.leadingZeros&&o.length>0&&!s&&r[1]!==".")return t;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?e.eNotation?c:t:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||s&&d==="-"+i?c:t:o?i===d||s+i===d?c:t:r===d||r===s+d?c:t}}else return t}}function mB(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}iw.exports=hB});var dw=C((C5,cw)=>{"use strict";var Zf=jf(),Ra=nw(),pB=ow(),yB=aw(),x5="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Zf.nameRegexp),Yf=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=gB,this.parseXml=CB,this.parseTextData=EB,this.resolveNameSpace=SB,this.buildAttributesMap=xB,this.isItStopNode=RB,this.replaceEntitiesValue=bB,this.readStopNodeData=kB,this.saveTextToParentTag=_B}};function gB(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function EB(t,e,r,n,s,o,i){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){i||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,s,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?Qf(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?Qf(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function SB(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var wB=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function xB(t,e){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=Zf.getAllMatches(t,wB),n=r.length,s={};for(let o=0;o<n;o++){let i=this.resolveNameSpace(r[o][1]),a=r[o][4],c=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(i,a,e);d==null?s[c]=a:typeof d!=typeof a||d!==a?s[c]=d:s[c]=Qf(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var CB=function(t){t=t.replace(/\r\n?/g,`
`);let e=new Ra("!xml"),r=e,n="",s="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=Ys(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s)),s=s.substr(0,s.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",o=a}else if(t[o+1]==="?"){let a=Xf(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Ra(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s)),r.addChild(c)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=Ys(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=pB(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=Ys(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,s,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}o=a+2}else{let a=Xf(t,o,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1)),c!==e.tagname&&(s+=s?"."+c:c);let u=r;if(u&&this.options.unpairedTags.indexOf(u.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,c)){let g="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let x=this.readStopNodeData(t,c,f+1);if(!x)throw new Error(`Unexpected end of ${c}`);o=x.i,g=x.tagContent}let y=new Ra(c);c!==d&&l&&(y[":@"]=this.buildAttributesMap(d,s)),g&&(g=this.parseTextData(g,c,s,!0,l,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),y.add(this.options.textNodeName,g),r.addChild(y)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let g=new Ra(c);c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s)),s=s.substr(0,s.lastIndexOf(".")),r.addChild(g)}else{let g=new Ra(c);this.tagsNodeStack.push(r),c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s)),r.addChild(g),r=g}n="",o=f}}else n+=t[o];return e.child},bB=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function _B(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function RB(t,e,r){let n="*."+r;for(let s in t){let o=t[s];if(n===o||e===o)return!0}return!1}function AB(t,e,r=">"){let n,s="";for(let o=e;o<t.length;o++){let i=t[o];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(t[o+1]===r[1])return{data:s,index:o}}else return{data:s,index:o};else i==="	"&&(i=" ");s+=i}}function Ys(t,e,r,n){let s=t.indexOf(e,r);if(s===-1)throw new Error(n);return s+e.length-1}function Xf(t,e,r,n=">"){let s=AB(t,e+1,n);if(!s)return;let o=s.data,i=s.index,a=o.search(/\s/),c=o,d=!0;if(a!==-1&&(c=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),d=c!==s.data.substr(l+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:d}}function kB(t,e,r){let n=r,s=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let o=Ys(t,">",r,`${e} is not closed`);if(t.substring(r+2,o).trim()===e&&(s--,s===0))return{tagContent:t.substring(n,r),i:o};r=o}else if(t[r+1]==="?")r=Ys(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=Ys(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=Ys(t,"]]>",r,"StopNode is not closed.")-2;else{let o=Xf(t,r,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,r=o.closeIndex)}}function Qf(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:yB(t,r)}else return Zf.isExist(t)?t:""}cw.exports=Yf});var fw=C(uw=>{"use strict";function TB(t,e){return lw(t,e)}function lw(t,e,r){let n,s={};for(let o=0;o<t.length;o++){let i=t[o],a=NB(i),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=lw(i[a],e,c),l=OB(d,e);i[":@"]?PB(d,i[":@"],c,e):Object.keys(d).length===1&&d[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?d=d[e.textNodeName]:Object.keys(d).length===0&&(e.alwaysCreateTextNode?d[e.textNodeName]="":d=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(d)):e.isArray(a,c,l)?s[a]=[d]:s[a]=d}}}return typeof n=="string"?n.length>0&&(s[e.textNodeName]=n):n!==void 0&&(s[e.textNodeName]=n),s}function NB(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function PB(t,e,r,n){if(e){let s=Object.keys(e),o=s.length;for(let i=0;i<o;i++){let a=s[i];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function OB(t,e){let r=Object.keys(t).length;return!!(r===0||r===1&&t[e.textNodeName])}uw.prettify=TB});var mw=C((_5,hw)=>{var{buildOptions:vB}=tw(),IB=dw(),{prettify:DB}=fw(),BB=Kf(),Jf=class{constructor(e){this.externalEntities={},this.options=vB(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=BB.validate(e,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new IB(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(e);return this.options.preserveOrder||s===void 0?s:DB(s,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};hw.exports=Jf});var Sw=C((R5,Ew)=>{var MB=`
`;function LB(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=MB),yw(t,e,"",r)}function yw(t,e,r,n){let s="",o=!1;for(let i=0;i<t.length;i++){let a=t[i],c=FB(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===e.textNodeName){let y=a[c];UB(d,e)||(y=e.tagValueProcessor(c,y),y=gw(y,e)),o&&(s+=n),s+=y,o=!1;continue}else if(c===e.cdataPropName){o&&(s+=n),s+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,o=!1;continue}else if(c===e.commentPropName){s+=n+`<!--${a[c][0][e.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){let y=pw(a[":@"],e),x=c==="?xml"?"":n,R=a[c][0][e.textNodeName];R=R.length!==0?" "+R:"",s+=x+`<${c}${R}${y}?>`,o=!0;continue}let l=n;l!==""&&(l+=e.indentBy);let f=pw(a[":@"],e),u=n+`<${c}${f}`,g=yw(a[c],e,d,l);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?s+=u+">":s+=u+"/>":(!g||g.length===0)&&e.suppressEmptyNode?s+=u+"/>":g&&g.endsWith(">")?s+=u+`>${g}${n}</${c}>`:(s+=u+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?s+=n+e.indentBy+g+n:s+=g,s+=`</${c}>`),o=!0}return s}function FB(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function pw(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let s=e.attributeValueProcessor(n,t[n]);s=gw(s,e),s===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${s}"`}return r}function UB(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function gw(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}Ew.exports=LB});var xw=C((A5,ww)=>{"use strict";var zB=Sw(),$B={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Kn(t){this.options=Object.assign({},$B,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=jB),this.processTextOrObjNode=qB,this.options.format?(this.indentate=HB,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Kn.prototype.build=function(t){return this.options.preserveOrder?zB(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Kn.prototype.j2x=function(t,e){let r="",n="";for(let s in t)if(!(typeof t[s]>"u"))if(t[s]===null)s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)n+=this.buildTextValNode(t[s],s,"",e);else if(typeof t[s]!="object"){let o=this.isAttribute(s);if(o)r+=this.buildAttrPairStr(o,""+t[s]);else if(s===this.options.textNodeName){let i=this.options.tagValueProcessor(s,""+t[s]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(t[s],s,"",e)}else if(Array.isArray(t[s])){let o=t[s].length;for(let i=0;i<o;i++){let a=t[s][i];typeof a>"u"||(a===null?s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,s,e):n+=this.buildTextValNode(a,s,"",e))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let o=Object.keys(t[s]),i=o.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(o[a],""+t[s][o[a]])}else n+=this.processTextOrObjNode(t[s],s,e);return{attrStr:r,val:n}};Kn.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function qB(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}Kn.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let s="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",s=""),r&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+o+">"+t+s:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+o+this.tagEndChar+t+this.indentate(n)+s}};Kn.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Kn.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+s+"</"+e+this.tagEndChar}};Kn.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function HB(t){return this.options.indentBy.repeat(t)}function jB(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}ww.exports=Kn});var eh=C((k5,Cw)=>{"use strict";var GB=Kf(),KB=mw(),VB=xw();Cw.exports={XMLParser:KB,XMLValidator:GB,XMLBuilder:VB}});var dh={};Po(dh,{__assign:()=>ah,__asyncDelegator:()=>v1,__asyncGenerator:()=>O1,__asyncValues:()=>I1,__await:()=>ka,__awaiter:()=>R1,__classPrivateFieldGet:()=>L1,__classPrivateFieldSet:()=>F1,__createBinding:()=>k1,__decorate:()=>C1,__exportStar:()=>T1,__extends:()=>w1,__generator:()=>A1,__importDefault:()=>M1,__importStar:()=>B1,__makeTemplateObject:()=>D1,__metadata:()=>_1,__param:()=>b1,__read:()=>nx,__rest:()=>x1,__spread:()=>N1,__spreadArrays:()=>P1,__values:()=>ch});function w1(t,e){ih(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function x1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function C1(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function b1(t,e){return function(r,n){e(r,n,t)}}function _1(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function R1(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function A1(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(l){d=[6,l],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function k1(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function T1(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ch(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nx(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function N1(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nx(arguments[e]));return t}function P1(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function ka(t){return this instanceof ka?(this.v=t,this):new ka(t)}function O1(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(u){n[u]&&(s[u]=function(g){return new Promise(function(y,x){o.push([u,g,y,x])>1||a(u,g)})})}function a(u,g){try{c(n[u](g))}catch(y){f(o[0][3],y)}}function c(u){u.value instanceof ka?Promise.resolve(u.value.v).then(d,l):f(o[0][2],u)}function d(u){a("next",u)}function l(u){a("throw",u)}function f(u,g){u(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v1(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:ka(t[s](i)),done:s==="return"}:o?o(i):i}:o}}function I1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ch=="function"?ch(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},i)}}function D1(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function B1(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function M1(t){return t&&t.__esModule?t:{default:t}}function L1(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function F1(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var ih,ah,lh=qe(()=>{ih=function(t,e){return ih=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},ih(t,e)};ah=function(){return ah=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ah.apply(this,arguments)}});var sx,ox,ix=qe(()=>{sx=t=>{let e=[];for(let r=0,n=t.length;r<n;r++){let s=t.charCodeAt(r);if(s<128)e.push(s);else if(s<2048)e.push(s>>6|192,s&63|128);else if(r+1<t.length&&(s&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){let o=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else e.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(e)},ox=t=>{let e="";for(let r=0,n=t.length;r<n;r++){let s=t[r];if(s<128)e+=String.fromCharCode(s);else if(192<=s&&s<224){let o=t[++r];e+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){let i="%"+[s,t[++r],t[++r],t[++r]].map(a=>a.toString(16)).join("%");e+=decodeURIComponent(i)}else e+=String.fromCharCode((s&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e}});function ax(t){return new TextEncoder().encode(t)}function cx(t){return new TextDecoder("utf-8").decode(t)}var dx=qe(()=>{});var lx={};Po(lx,{fromUtf8:()=>U1,toUtf8:()=>z1});var U1,z1,ux=qe(()=>{ix();dx();U1=t=>typeof TextEncoder=="function"?ax(t):sx(t),z1=t=>typeof TextDecoder=="function"?cx(t):ox(t)});var fx=C(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.convertToBuffer=void 0;var $1=(ux(),Oo(lx)),q1=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:$1.fromUtf8;function H1(t){return t instanceof Uint8Array?t:typeof t=="string"?q1(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}od.convertToBuffer=H1});var hx=C(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.isEmptyData=void 0;function j1(t){return typeof t=="string"?t.length===0:t.byteLength===0}id.isEmptyData=j1});var mx=C(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.numToUint8=void 0;function G1(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}ad.numToUint8=G1});var px=C(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.uint32ArrayFrom=void 0;function K1(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}cd.uint32ArrayFrom=K1});var Ta=C(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.uint32ArrayFrom=Tr.numToUint8=Tr.isEmptyData=Tr.convertToBuffer=void 0;var V1=fx();Object.defineProperty(Tr,"convertToBuffer",{enumerable:!0,get:function(){return V1.convertToBuffer}});var W1=hx();Object.defineProperty(Tr,"isEmptyData",{enumerable:!0,get:function(){return W1.isEmptyData}});var Y1=mx();Object.defineProperty(Tr,"numToUint8",{enumerable:!0,get:function(){return Y1.numToUint8}});var X1=px();Object.defineProperty(Tr,"uint32ArrayFrom",{enumerable:!0,get:function(){return X1.uint32ArrayFrom}})});var Ex=C(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.AwsCrc32=void 0;var yx=(lh(),Oo(dh)),uh=Ta(),gx=Na(),Q1=function(){function t(){this.crc32=new gx.Crc32}return t.prototype.update=function(e){(0,uh.isEmptyData)(e)||this.crc32.update((0,uh.convertToBuffer)(e))},t.prototype.digest=function(){return yx.__awaiter(this,void 0,void 0,function(){return yx.__generator(this,function(e){return[2,(0,uh.numToUint8)(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new gx.Crc32},t}();dd.AwsCrc32=Q1});var Na=C(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.AwsCrc32=Wn.Crc32=Wn.crc32=void 0;var Z1=(lh(),Oo(dh)),J1=Ta();function eM(t){return new Sx().update(t).digest()}Wn.crc32=eM;var Sx=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=Z1.__values(e),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^rM[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();Wn.Crc32=Sx;var tM=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],rM=(0,J1.uint32ArrayFrom)(tM),nM=Ex();Object.defineProperty(Wn,"AwsCrc32",{enumerable:!0,get:function(){return nM.AwsCrc32}})});var ph={};Po(ph,{__assign:()=>hh,__asyncDelegator:()=>yM,__asyncGenerator:()=>pM,__asyncValues:()=>gM,__await:()=>Pa,__awaiter:()=>dM,__classPrivateFieldGet:()=>xM,__classPrivateFieldSet:()=>CM,__createBinding:()=>uM,__decorate:()=>iM,__exportStar:()=>fM,__extends:()=>sM,__generator:()=>lM,__importDefault:()=>wM,__importStar:()=>SM,__makeTemplateObject:()=>EM,__metadata:()=>cM,__param:()=>aM,__read:()=>wx,__rest:()=>oM,__spread:()=>hM,__spreadArrays:()=>mM,__values:()=>mh});function sM(t,e){fh(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function oM(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function iM(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function aM(t,e){return function(r,n){e(r,n,t)}}function cM(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function dM(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function lM(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(l){d=[6,l],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function uM(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function fM(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function mh(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wx(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function hM(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(wx(arguments[e]));return t}function mM(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Pa(t){return this instanceof Pa?(this.v=t,this):new Pa(t)}function pM(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(u){n[u]&&(s[u]=function(g){return new Promise(function(y,x){o.push([u,g,y,x])>1||a(u,g)})})}function a(u,g){try{c(n[u](g))}catch(y){f(o[0][3],y)}}function c(u){u.value instanceof Pa?Promise.resolve(u.value.v).then(d,l):f(o[0][2],u)}function d(u){a("next",u)}function l(u){a("throw",u)}function f(u,g){u(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function yM(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:Pa(t[s](i)),done:s==="return"}:o?o(i):i}:o}}function gM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof mh=="function"?mh(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},i)}}function EM(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function SM(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function wM(t){return t&&t.__esModule?t:{default:t}}function xM(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function CM(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var fh,hh,yh=qe(()=>{fh=function(t,e){return fh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},fh(t,e)};hh=function(){return hh=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},hh.apply(this,arguments)}});var bx=C(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.AwsCrc32c=void 0;var xx=(yh(),Oo(ph)),gh=Ta(),Cx=Eh(),bM=function(){function t(){this.crc32c=new Cx.Crc32c}return t.prototype.update=function(e){(0,gh.isEmptyData)(e)||this.crc32c.update((0,gh.convertToBuffer)(e))},t.prototype.digest=function(){return xx.__awaiter(this,void 0,void 0,function(){return xx.__generator(this,function(e){return[2,(0,gh.numToUint8)(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new Cx.Crc32c},t}();ld.AwsCrc32c=bM});var Eh=C(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.AwsCrc32c=Yn.Crc32c=Yn.crc32c=void 0;var _M=(yh(),Oo(ph)),RM=Ta();function AM(t){return new _x().update(t).digest()}Yn.crc32c=AM;var _x=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=_M.__values(e),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^TM[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();Yn.Crc32c=_x;var kM=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],TM=(0,RM.uint32ArrayFrom)(kM),NM=bx();Object.defineProperty(Yn,"AwsCrc32c",{enumerable:!0,get:function(){return NM.AwsCrc32c}})});var Ii=C((Jle,nA)=>{"use strict";var rA=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);nA.exports=t=>t?Object.keys(t).map(e=>[rA.has(e)?rA.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var Rl=C((eue,hA)=>{"use strict";var sA=typeof process=="object"&&process?process:{stdout:null,stderr:null},MU=N("events"),oA=N("stream"),LU=N("string_decoder"),iA=LU.StringDecoder,hn=Symbol("EOF"),mn=Symbol("maybeEmitEnd"),Rs=Symbol("emittedEnd"),Sl=Symbol("emittingEnd"),nc=Symbol("emittedError"),wl=Symbol("closed"),aA=Symbol("read"),xl=Symbol("flush"),cA=Symbol("flushChunk"),Lt=Symbol("encoding"),pn=Symbol("decoder"),Cl=Symbol("flowing"),sc=Symbol("paused"),Di=Symbol("resume"),Fe=Symbol("buffer"),qr=Symbol("pipes"),tt=Symbol("bufferLength"),Gm=Symbol("bufferPush"),Km=Symbol("bufferShift"),ut=Symbol("objectMode"),Ue=Symbol("destroyed"),Vm=Symbol("error"),Wm=Symbol("emitData"),dA=Symbol("emitEnd"),Ym=Symbol("emitEnd2"),yn=Symbol("async"),Xm=Symbol("abort"),bl=Symbol("aborted"),lo=Symbol("signal"),oc=t=>Promise.resolve().then(t),fA=global._MP_NO_ITERATOR_SYMBOLS_!=="1",lA=fA&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),uA=fA&&Symbol.iterator||Symbol("iterator not implemented"),FU=t=>t==="end"||t==="finish"||t==="prefinish",UU=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,zU=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),_l=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Di](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Qm=class extends _l{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=s=>r.emit("error",s),e.on("error",this.proxyErrors)}},ic=class extends oA{constructor(e){super(),this[Cl]=!1,this[sc]=!1,this[qr]=[],this[Fe]=[],this[ut]=e&&e.objectMode||!1,this[ut]?this[Lt]=null:this[Lt]=e&&e.encoding||null,this[Lt]==="buffer"&&(this[Lt]=null),this[yn]=e&&!!e.async||!1,this[pn]=this[Lt]?new iA(this[Lt]):null,this[hn]=!1,this[Rs]=!1,this[Sl]=!1,this[wl]=!1,this[nc]=null,this.writable=!0,this.readable=!0,this[tt]=0,this[Ue]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Fe]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[qr]}),this[lo]=e&&e.signal,this[bl]=!1,this[lo]&&(this[lo].addEventListener("abort",()=>this[Xm]()),this[lo].aborted&&this[Xm]())}get bufferLength(){return this[tt]}get encoding(){return this[Lt]}set encoding(e){if(this[ut])throw new Error("cannot set encoding in objectMode");if(this[Lt]&&e!==this[Lt]&&(this[pn]&&this[pn].lastNeed||this[tt]))throw new Error("cannot change encoding");this[Lt]!==e&&(this[pn]=e?new iA(e):null,this[Fe].length&&(this[Fe]=this[Fe].map(r=>this[pn].write(r)))),this[Lt]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ut]}set objectMode(e){this[ut]=this[ut]||!!e}get async(){return this[yn]}set async(e){this[yn]=this[yn]||!!e}[Xm](){this[bl]=!0,this.emit("abort",this[lo].reason),this.destroy(this[lo].reason)}get aborted(){return this[bl]}set aborted(e){}write(e,r,n){if(this[bl])return!1;if(this[hn])throw new Error("write after end");if(this[Ue])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[yn]?oc:o=>o();return!this[ut]&&!Buffer.isBuffer(e)&&(zU(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):UU(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ut]?(this.flowing&&this[tt]!==0&&this[xl](!0),this.flowing?this.emit("data",e):this[Gm](e),this[tt]!==0&&this.emit("readable"),n&&s(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Lt]&&!this[pn].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Lt]&&(e=this[pn].write(e)),this.flowing&&this[tt]!==0&&this[xl](!0),this.flowing?this.emit("data",e):this[Gm](e),this[tt]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[tt]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(e){if(this[Ue])return null;if(this[tt]===0||e===0||e>this[tt])return this[mn](),null;this[ut]&&(e=null),this[Fe].length>1&&!this[ut]&&(this.encoding?this[Fe]=[this[Fe].join("")]:this[Fe]=[Buffer.concat(this[Fe],this[tt])]);let r=this[aA](e||null,this[Fe][0]);return this[mn](),r}[aA](e,r){return e===r.length||e===null?this[Km]():(this[Fe][0]=r.slice(e),r=r.slice(0,e),this[tt]-=e),this.emit("data",r),!this[Fe].length&&!this[hn]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[hn]=!0,this.writable=!1,(this.flowing||!this[sc])&&this[mn](),this}[Di](){this[Ue]||(this[sc]=!1,this[Cl]=!0,this.emit("resume"),this[Fe].length?this[xl]():this[hn]?this[mn]():this.emit("drain"))}resume(){return this[Di]()}pause(){this[Cl]=!1,this[sc]=!0}get destroyed(){return this[Ue]}get flowing(){return this[Cl]}get paused(){return this[sc]}[Gm](e){this[ut]?this[tt]+=1:this[tt]+=e.length,this[Fe].push(e)}[Km](){return this[ut]?this[tt]-=1:this[tt]-=this[Fe][0].length,this[Fe].shift()}[xl](e){do;while(this[cA](this[Km]())&&this[Fe].length);!e&&!this[Fe].length&&!this[hn]&&this.emit("drain")}[cA](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[Ue])return;let n=this[Rs];return r=r||{},e===sA.stdout||e===sA.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[qr].push(r.proxyErrors?new Qm(this,e,r):new _l(this,e,r)),this[yn]?oc(()=>this[Di]()):this[Di]()),e}unpipe(e){let r=this[qr].find(n=>n.dest===e);r&&(this[qr].splice(this[qr].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[qr].length&&!this.flowing?this[Di]():e==="readable"&&this[tt]!==0?super.emit("readable"):FU(e)&&this[Rs]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[nc]&&(this[yn]?oc(()=>r.call(this,this[nc])):r.call(this,this[nc])),n}get emittedEnd(){return this[Rs]}[mn](){!this[Sl]&&!this[Rs]&&!this[Ue]&&this[Fe].length===0&&this[hn]&&(this[Sl]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[wl]&&this.emit("close"),this[Sl]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Ue&&this[Ue])return;if(e==="data")return!this[ut]&&!r?!1:this[yn]?oc(()=>this[Wm](r)):this[Wm](r);if(e==="end")return this[dA]();if(e==="close"){if(this[wl]=!0,!this[Rs]&&!this[Ue])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[nc]=r,super.emit(Vm,r);let o=!this[lo]||this.listeners("error").length?super.emit("error",r):!1;return this[mn](),o}else if(e==="resume"){let o=super.emit("resume");return this[mn](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let s=super.emit(e,r,...n);return this[mn](),s}[Wm](e){for(let n of this[qr])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[mn](),r}[dA](){this[Rs]||(this[Rs]=!0,this.readable=!1,this[yn]?oc(()=>this[Ym]()):this[Ym]())}[Ym](){if(this[pn]){let r=this[pn].end();if(r){for(let n of this[qr])n.dest.write(r);super.emit("data",r)}}for(let r of this[qr])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ut]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[ut]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[ut]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ut]?Promise.reject(new Error("cannot concat in objectMode")):this[Lt]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Ue,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[lA](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[hn])return r();let o=null,i=null,a=f=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener(Ue,l),r(),i(f)},c=f=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener(Ue,l),this.pause(),o({value:f,done:!!this[hn]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(Ue,l),r(),o({done:!0})},l=()=>a(new Error("stream destroyed"));return new Promise((f,u)=>{i=u,o=f,this.once(Ue,l),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:r,return:r,[lA](){return this}}}[uA](){let e=!1,r=()=>(this.pause(),this.removeListener(Vm,r),this.removeListener(Ue,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let s=this.read();return s===null?r():{value:s}};return this.once("end",r),this.once(Vm,r),this.once(Ue,r),{next:n,throw:r,return:r,[uA](){return this}}}destroy(e){return this[Ue]?(e?this.emit("error",e):this.emit(Ue),this):(this[Ue]=!0,this[Fe].length=0,this[tt]=0,typeof this.close=="function"&&!this[wl]&&this.close(),e?this.emit("error",e):this.emit(Ue),this)}static isStream(e){return!!e&&(e instanceof ic||e instanceof oA||e instanceof MU&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};hA.exports=ic});var pA=C((tue,mA)=>{var $U=N("zlib").constants||{ZLIB_VERNUM:4736};mA.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},$U))});var RA=C((rue,_A)=>{"use strict";var yA=typeof process=="object"&&process?process:{stdout:null,stderr:null},qU=N("events"),gA=N("stream"),EA=N("string_decoder").StringDecoder,gn=Symbol("EOF"),En=Symbol("maybeEmitEnd"),As=Symbol("emittedEnd"),Al=Symbol("emittingEnd"),ac=Symbol("emittedError"),kl=Symbol("closed"),SA=Symbol("read"),Tl=Symbol("flush"),wA=Symbol("flushChunk"),Ft=Symbol("encoding"),Sn=Symbol("decoder"),Nl=Symbol("flowing"),cc=Symbol("paused"),Bi=Symbol("resume"),rt=Symbol("bufferLength"),Zm=Symbol("bufferPush"),Jm=Symbol("bufferShift"),gt=Symbol("objectMode"),Et=Symbol("destroyed"),ep=Symbol("emitData"),xA=Symbol("emitEnd"),tp=Symbol("emitEnd2"),wn=Symbol("async"),dc=t=>Promise.resolve().then(t),CA=global._MP_NO_ITERATOR_SYMBOLS_!=="1",HU=CA&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),jU=CA&&Symbol.iterator||Symbol("iterator not implemented"),GU=t=>t==="end"||t==="finish"||t==="prefinish",KU=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,VU=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Pl=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Bi](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},rp=class extends Pl{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=s=>r.emit("error",s),e.on("error",this.proxyErrors)}};_A.exports=class bA extends gA{constructor(e){super(),this[Nl]=!1,this[cc]=!1,this.pipes=[],this.buffer=[],this[gt]=e&&e.objectMode||!1,this[gt]?this[Ft]=null:this[Ft]=e&&e.encoding||null,this[Ft]==="buffer"&&(this[Ft]=null),this[wn]=e&&!!e.async||!1,this[Sn]=this[Ft]?new EA(this[Ft]):null,this[gn]=!1,this[As]=!1,this[Al]=!1,this[kl]=!1,this[ac]=null,this.writable=!0,this.readable=!0,this[rt]=0,this[Et]=!1}get bufferLength(){return this[rt]}get encoding(){return this[Ft]}set encoding(e){if(this[gt])throw new Error("cannot set encoding in objectMode");if(this[Ft]&&e!==this[Ft]&&(this[Sn]&&this[Sn].lastNeed||this[rt]))throw new Error("cannot change encoding");this[Ft]!==e&&(this[Sn]=e?new EA(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[Sn].write(r)))),this[Ft]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[gt]}set objectMode(e){this[gt]=this[gt]||!!e}get async(){return this[wn]}set async(e){this[wn]=this[wn]||!!e}write(e,r,n){if(this[gn])throw new Error("write after end");if(this[Et])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[wn]?dc:o=>o();return!this[gt]&&!Buffer.isBuffer(e)&&(VU(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):KU(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[gt]?(this.flowing&&this[rt]!==0&&this[Tl](!0),this.flowing?this.emit("data",e):this[Zm](e),this[rt]!==0&&this.emit("readable"),n&&s(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Ft]&&!this[Sn].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Ft]&&(e=this[Sn].write(e)),this.flowing&&this[rt]!==0&&this[Tl](!0),this.flowing?this.emit("data",e):this[Zm](e),this[rt]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[rt]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(e){if(this[Et])return null;if(this[rt]===0||e===0||e>this[rt])return this[En](),null;this[gt]&&(e=null),this.buffer.length>1&&!this[gt]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[rt])]);let r=this[SA](e||null,this.buffer[0]);return this[En](),r}[SA](e,r){return e===r.length||e===null?this[Jm]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[rt]-=e),this.emit("data",r),!this.buffer.length&&!this[gn]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[gn]=!0,this.writable=!1,(this.flowing||!this[cc])&&this[En](),this}[Bi](){this[Et]||(this[cc]=!1,this[Nl]=!0,this.emit("resume"),this.buffer.length?this[Tl]():this[gn]?this[En]():this.emit("drain"))}resume(){return this[Bi]()}pause(){this[Nl]=!1,this[cc]=!0}get destroyed(){return this[Et]}get flowing(){return this[Nl]}get paused(){return this[cc]}[Zm](e){this[gt]?this[rt]+=1:this[rt]+=e.length,this.buffer.push(e)}[Jm](){return this.buffer.length&&(this[gt]?this[rt]-=1:this[rt]-=this.buffer[0].length),this.buffer.shift()}[Tl](e){do;while(this[wA](this[Jm]()));!e&&!this.buffer.length&&!this[gn]&&this.emit("drain")}[wA](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[Et])return;let n=this[As];return r=r||{},e===yA.stdout||e===yA.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new rp(this,e,r):new Pl(this,e,r)),this[wn]?dc(()=>this[Bi]()):this[Bi]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[Bi]():e==="readable"&&this[rt]!==0?super.emit("readable"):GU(e)&&this[As]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[ac]&&(this[wn]?dc(()=>r.call(this,this[ac])):r.call(this,this[ac])),n}get emittedEnd(){return this[As]}[En](){!this[Al]&&!this[As]&&!this[Et]&&this.buffer.length===0&&this[gn]&&(this[Al]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[kl]&&this.emit("close"),this[Al]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Et&&this[Et])return;if(e==="data")return r?this[wn]?dc(()=>this[ep](r)):this[ep](r):!1;if(e==="end")return this[xA]();if(e==="close"){if(this[kl]=!0,!this[As]&&!this[Et])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[ac]=r;let o=super.emit("error",r);return this[En](),o}else if(e==="resume"){let o=super.emit("resume");return this[En](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let s=super.emit(e,r,...n);return this[En](),s}[ep](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[En](),r}[xA](){this[As]||(this[As]=!0,this.readable=!1,this[wn]?dc(()=>this[tp]()):this[tp]())}[tp](){if(this[Sn]){let r=this[Sn].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[gt]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[gt]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[gt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[gt]?Promise.reject(new Error("cannot concat in objectMode")):this[Ft]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Et,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[HU](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[gn])return Promise.resolve({done:!0});let n=null,s=null,o=d=>{this.removeListener("data",i),this.removeListener("end",a),s(d)},i=d=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:d,done:!!this[gn]})},a=()=>{this.removeListener("error",o),this.removeListener("data",i),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((d,l)=>{s=l,n=d,this.once(Et,c),this.once("error",o),this.once("end",a),this.once("data",i)})}}}[jU](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[Et]?(e?this.emit("error",e):this.emit(Et),this):(this[Et]=!0,this.buffer.length=0,this[rt]=0,typeof this.close=="function"&&!this[kl]&&this.close(),e?this.emit("error",e):this.emit(Et),this)}static isStream(e){return!!e&&(e instanceof bA||e instanceof gA||e instanceof qU&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Ep=C(Vt=>{"use strict";var ap=N("assert"),ks=N("buffer").Buffer,TA=N("zlib"),uo=Vt.constants=pA(),WU=RA(),AA=ks.concat,fo=Symbol("_superWrite"),Li=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},YU=Symbol("opts"),lc=Symbol("flushFlag"),kA=Symbol("finishFlushFlag"),gp=Symbol("fullFlushFlag"),be=Symbol("handle"),Ol=Symbol("onError"),Mi=Symbol("sawError"),np=Symbol("level"),sp=Symbol("strategy"),op=Symbol("ended"),nue=Symbol("_defaultFullFlush"),vl=class extends WU{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[Mi]=!1,this[op]=!1,this[YU]=e,this[lc]=e.flush,this[kA]=e.finishFlush;try{this[be]=new TA[r](e)}catch(n){throw new Li(n)}this[Ol]=n=>{this[Mi]||(this[Mi]=!0,this.close(),this.emit("error",n))},this[be].on("error",n=>this[Ol](new Li(n))),this.once("end",()=>this.close)}close(){this[be]&&(this[be].close(),this[be]=null,this.emit("close"))}reset(){if(!this[Mi])return ap(this[be],"zlib binding closed"),this[be].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[gp]),this.write(Object.assign(ks.alloc(0),{[lc]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[kA]),this[op]=!0,super.end(null,null,n)}get ended(){return this[op]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=ks.from(e,r)),this[Mi])return;ap(this[be],"zlib binding closed");let s=this[be]._handle,o=s.close;s.close=()=>{};let i=this[be].close;this[be].close=()=>{},ks.concat=d=>d;let a;try{let d=typeof e[lc]=="number"?e[lc]:this[lc];a=this[be]._processChunk(e,d),ks.concat=AA}catch(d){ks.concat=AA,this[Ol](new Li(d))}finally{this[be]&&(this[be]._handle=s,s.close=o,this[be].close=i,this[be].removeAllListeners("error"))}this[be]&&this[be].on("error",d=>this[Ol](new Li(d)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[fo](ks.from(a[0]));for(let d=1;d<a.length;d++)c=this[fo](a[d])}else c=this[fo](ks.from(a));return n&&n(),c}[fo](e){return super.write(e)}},xn=class extends vl{constructor(e,r){e=e||{},e.flush=e.flush||uo.Z_NO_FLUSH,e.finishFlush=e.finishFlush||uo.Z_FINISH,super(e,r),this[gp]=uo.Z_FULL_FLUSH,this[np]=e.level,this[sp]=e.strategy}params(e,r){if(!this[Mi]){if(!this[be])throw new Error("cannot switch params when binding is closed");if(!this[be].params)throw new Error("not supported in this implementation");if(this[np]!==e||this[sp]!==r){this.flush(uo.Z_SYNC_FLUSH),ap(this[be],"zlib binding closed");let n=this[be].flush;this[be].flush=(s,o)=>{this.flush(s),o()};try{this[be].params(e,r)}finally{this[be].flush=n}this[be]&&(this[np]=e,this[sp]=r)}}}},cp=class extends xn{constructor(e){super(e,"Deflate")}},dp=class extends xn{constructor(e){super(e,"Inflate")}},ip=Symbol("_portable"),lp=class extends xn{constructor(e){super(e,"Gzip"),this[ip]=e&&!!e.portable}[fo](e){return this[ip]?(this[ip]=!1,e[9]=255,super[fo](e)):super[fo](e)}},up=class extends xn{constructor(e){super(e,"Gunzip")}},fp=class extends xn{constructor(e){super(e,"DeflateRaw")}},hp=class extends xn{constructor(e){super(e,"InflateRaw")}},mp=class extends xn{constructor(e){super(e,"Unzip")}},Il=class extends vl{constructor(e,r){e=e||{},e.flush=e.flush||uo.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||uo.BROTLI_OPERATION_FINISH,super(e,r),this[gp]=uo.BROTLI_OPERATION_FLUSH}},pp=class extends Il{constructor(e){super(e,"BrotliCompress")}},yp=class extends Il{constructor(e){super(e,"BrotliDecompress")}};Vt.Deflate=cp;Vt.Inflate=dp;Vt.Gzip=lp;Vt.Gunzip=up;Vt.DeflateRaw=fp;Vt.InflateRaw=hp;Vt.Unzip=mp;typeof TA.BrotliCompress=="function"?(Vt.BrotliCompress=pp,Vt.BrotliDecompress=yp):Vt.BrotliCompress=Vt.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Fi=C((iue,NA)=>{var XU=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;NA.exports=XU!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var Dl=C((cue,PA)=>{"use strict";var QU=Rl(),Sp=Fi(),wp=Symbol("slurp");PA.exports=class extends QU{constructor(e,r,n){switch(super(),this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=Sp(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=Sp(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[wp](r),n&&this[wp](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,s=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,s-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[wp](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?Sp(e[n]):e[n])}}});var xp=C(Bl=>{"use strict";Bl.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Bl.code=new Map(Array.from(Bl.name).map(t=>[t[1],t[0]]))});var DA=C((lue,IA)=>{"use strict";var ZU=(t,e)=>{if(Number.isSafeInteger(t))t<0?e2(t,e):JU(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},JU=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},e2=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var s=t&255;t=Math.floor(t/256),r?e[n-1]=OA(s):s===0?e[n-1]=0:(r=!0,e[n-1]=vA(s))}},t2=t=>{let e=t[0],r=e===128?n2(t.slice(1,t.length)):e===255?r2(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},r2=t=>{for(var e=t.length,r=0,n=!1,s=e-1;s>-1;s--){var o=t[s],i;n?i=OA(o):o===0?i=o:(n=!0,i=vA(o)),i!==0&&(r-=i*Math.pow(256,e-s-1))}return r},n2=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var s=t[n];s!==0&&(r+=s*Math.pow(256,e-n-1))}return r},OA=t=>(255^t)&255,vA=t=>(255^t)+1&255;IA.exports={encode:ZU,parse:t2}});var zi=C((uue,MA)=>{"use strict";var Cp=xp(),Ui=N("path").posix,BA=DA(),bp=Symbol("slurp"),Wt=Symbol("type"),Ap=class{constructor(e,r,n,s){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Wt]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,s):e&&this.set(e)}decode(e,r,n,s){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=ho(e,r,100),this.mode=Ts(e,r+100,8),this.uid=Ts(e,r+108,8),this.gid=Ts(e,r+116,8),this.size=Ts(e,r+124,12),this.mtime=_p(e,r+136,12),this.cksum=Ts(e,r+148,12),this[bp](n),this[bp](s,!0),this[Wt]=ho(e,r+156,1),this[Wt]===""&&(this[Wt]="0"),this[Wt]==="0"&&this.path.slice(-1)==="/"&&(this[Wt]="5"),this[Wt]==="5"&&(this.size=0),this.linkpath=ho(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=ho(e,r+265,32),this.gname=ho(e,r+297,32),this.devmaj=Ts(e,r+329,8),this.devmin=Ts(e,r+337,8),e[r+475]!==0){let i=ho(e,r+345,155);this.path=i+"/"+this.path}else{let i=ho(e,r+345,130);i&&(this.path=i+"/"+this.path),this.atime=_p(e,r+476,12),this.ctime=_p(e,r+488,12)}let o=8*32;for(let i=r;i<r+148;i++)o+=e[i];for(let i=r+156;i<r+512;i++)o+=e[i];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[bp](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,s=s2(this.path||"",n),o=s[0],i=s[1];this.needPax=s[2],this.needPax=mo(e,r,100,o)||this.needPax,this.needPax=Ns(e,r+100,8,this.mode)||this.needPax,this.needPax=Ns(e,r+108,8,this.uid)||this.needPax,this.needPax=Ns(e,r+116,8,this.gid)||this.needPax,this.needPax=Ns(e,r+124,12,this.size)||this.needPax,this.needPax=Rp(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[Wt].charCodeAt(0),this.needPax=mo(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=mo(e,r+265,32,this.uname)||this.needPax,this.needPax=mo(e,r+297,32,this.gname)||this.needPax,this.needPax=Ns(e,r+329,8,this.devmaj)||this.needPax,this.needPax=Ns(e,r+337,8,this.devmin)||this.needPax,this.needPax=mo(e,r+345,n,i)||this.needPax,e[r+475]!==0?this.needPax=mo(e,r+345,155,i)||this.needPax:(this.needPax=mo(e,r+345,130,i)||this.needPax,this.needPax=Rp(e,r+476,12,this.atime)||this.needPax,this.needPax=Rp(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=e[c];for(let c=r+156;c<r+512;c++)a+=e[c];return this.cksum=a,Ns(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return Cp.name.get(this[Wt])||this[Wt]}get typeKey(){return this[Wt]}set type(e){Cp.code.has(e)?this[Wt]=Cp.code.get(e):this[Wt]=e}},s2=(t,e)=>{let n=t,s="",o,i=Ui.parse(t).root||".";if(Buffer.byteLength(n)<100)o=[n,s,!1];else{s=Ui.dirname(n),n=Ui.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(s)<=e?o=[n,s,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(s)<=e?o=[n.slice(0,100-1),s,!0]:(n=Ui.join(Ui.basename(s),n),s=Ui.dirname(s));while(s!==i&&!o);o||(o=[t.slice(0,100-1),"",!0])}return o},ho=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),_p=(t,e,r)=>o2(Ts(t,e,r)),o2=t=>t===null?null:new Date(t*1e3),Ts=(t,e,r)=>t[e]&128?BA.parse(t.slice(e,e+r)):a2(t,e,r),i2=t=>isNaN(t)?null:t,a2=(t,e,r)=>i2(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),c2={12:8589934591,8:2097151},Ns=(t,e,r,n)=>n===null?!1:n>c2[r]||n<0?(BA.encode(n,t.slice(e,e+r)),!0):(d2(t,e,r,n),!1),d2=(t,e,r,n)=>t.write(l2(n,r),e,r,"ascii"),l2=(t,e)=>u2(Math.floor(t).toString(8),e),u2=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",Rp=(t,e,r,n)=>n===null?!1:Ns(t,e,r,n.getTime()/1e3),f2=new Array(156).join("\0"),mo=(t,e,r,n)=>n===null?!1:(t.write(n+f2,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);MA.exports=Ap});var Ml=C((fue,LA)=>{"use strict";var h2=zi(),m2=N("path"),uc=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),s=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)s[o]=0;new h2({path:("PaxHeader/"+m2.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s),s.write(e,512,r,"utf8");for(let o=r+512;o<s.length;o++)s[o]=0;return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,s=Buffer.byteLength(n),o=Math.floor(Math.log(s)/Math.log(10))+1;return s+o>=Math.pow(10,o)&&(o+=1),o+s+n}};uc.parse=(t,e,r)=>new uc(p2(y2(t),e),r);var p2=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,y2=t=>t.replace(/\n$/,"").split(`
`).reduce(g2,Object.create(null)),g2=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.slice((r+" ").length);let n=e.split("="),s=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return t;let o=n.join("=");return t[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,t};LA.exports=uc});var $i=C((hue,FA)=>{FA.exports=t=>{let e=t.length-1,r=-1;for(;e>-1&&t.charAt(e)==="/";)r=e,e--;return r===-1?t:t.slice(0,r)}});var Ll=C((mue,UA)=>{"use strict";UA.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var Tp=C((yue,zA)=>{"use strict";var Fl=["|","<",">","?",":"],kp=Fl.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),E2=new Map(Fl.map((t,e)=>[t,kp[e]])),S2=new Map(kp.map((t,e)=>[t,Fl[e]]));zA.exports={encode:t=>Fl.reduce((e,r)=>e.split(r).join(E2.get(r)),t),decode:t=>kp.reduce((e,r)=>e.split(r).join(S2.get(r)),t)}});var Np=C((gue,qA)=>{var{isAbsolute:w2,parse:$A}=N("path").win32;qA.exports=t=>{let e="",r=$A(t);for(;w2(t)||r.root;){let n=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.slice(n.length),e+=n,r=$A(t)}return[e,t]}});var jA=C((Eue,HA)=>{"use strict";HA.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var Up=C((xue,sk)=>{"use strict";var QA=Rl(),ZA=Ml(),JA=zi(),jr=N("fs"),GA=N("path"),Hr=Fi(),x2=$i(),ek=(t,e)=>e?(t=Hr(t).replace(/^\.(\/|$)/,""),x2(e)+"/"+t):Hr(t),C2=16*1024*1024,KA=Symbol("process"),VA=Symbol("file"),WA=Symbol("directory"),Op=Symbol("symlink"),YA=Symbol("hardlink"),fc=Symbol("header"),Ul=Symbol("read"),vp=Symbol("lstat"),zl=Symbol("onlstat"),Ip=Symbol("onread"),Dp=Symbol("onreadlink"),Bp=Symbol("openfile"),Mp=Symbol("onopenfile"),Ps=Symbol("close"),$l=Symbol("mode"),Lp=Symbol("awaitDrain"),Pp=Symbol("ondrain"),Gr=Symbol("prefix"),XA=Symbol("hadError"),tk=Ll(),b2=Tp(),rk=Np(),nk=jA(),ql=tk(class extends QA{constructor(e,r){if(r=r||{},super(r),typeof e!="string")throw new TypeError("path is required");this.path=Hr(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||C2,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=Hr(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?Hr(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=rk(this.path);s&&(this.path=o,n=s)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=b2.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=Hr(r.absolute||GA.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[zl](this.statCache.get(this.absolute)):this[vp]()}emit(e,...r){return e==="error"&&(this[XA]=!0),super.emit(e,...r)}[vp](){jr.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[zl](r)})}[zl](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=R2(e),this.emit("stat",e),this[KA]()}[KA](){switch(this.type){case"File":return this[VA]();case"Directory":return this[WA]();case"SymbolicLink":return this[Op]();default:return this.end()}}[$l](e){return nk(e,this.type==="Directory",this.portable)}[Gr](e){return ek(e,this.prefix)}[fc](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new JA({path:this[Gr](this.path),linkpath:this.type==="Link"?this[Gr](this.linkpath):this.linkpath,mode:this[$l](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new ZA({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Gr](this.path),linkpath:this.type==="Link"?this[Gr](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[WA](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[fc](),this.end()}[Op](){jr.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Dp](r)})}[Dp](e){this.linkpath=Hr(e),this[fc](),this.end()}[YA](e){this.type="Link",this.linkpath=Hr(GA.relative(this.cwd,e)),this.stat.size=0,this[fc](),this.end()}[VA](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[YA](r)}this.linkCache.set(e,this.absolute)}if(this[fc](),this.stat.size===0)return this.end();this[Bp]()}[Bp](){jr.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[Mp](r)})}[Mp](e){if(this.fd=e,this[XA])return this[Ps]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Ul]()}[Ul](){let{fd:e,buf:r,offset:n,length:s,pos:o}=this;jr.read(e,r,n,s,o,(i,a)=>{if(i)return this[Ps](()=>this.emit("error",i));this[Ip](a)})}[Ps](e){jr.close(this.fd,e)}[Ip](e){if(e<=0&&this.remain>0){let s=new Error("encountered unexpected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[Ps](()=>this.emit("error",s))}if(e>this.remain){let s=new Error("did not encounter expected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[Ps](()=>this.emit("error",s))}if(e===this.remain)for(let s=e;s<this.length&&e<this.blockRemain;s++)this.buf[s+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[Pp]():this[Lp](()=>this[Pp]())}[Lp](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[Pp](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Ps](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Ul]()}}),Fp=class extends ql{[vp](){this[zl](jr.lstatSync(this.absolute))}[Op](){this[Dp](jr.readlinkSync(this.absolute))}[Bp](){this[Mp](jr.openSync(this.absolute,"r"))}[Ul](){let e=!0;try{let{fd:r,buf:n,offset:s,length:o,pos:i}=this,a=jr.readSync(r,n,s,o,i);this[Ip](a),e=!1}finally{if(e)try{this[Ps](()=>{})}catch{}}}[Lp](e){e()}[Ps](e){jr.closeSync(this.fd),e()}},_2=tk(class extends QA{constructor(e,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=Hr(e.path),this.mode=this[$l](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=Hr(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=rk(this.path);s&&(this.path=o,n=s)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new JA({path:this[Gr](this.path),linkpath:this.type==="Link"?this[Gr](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new ZA({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Gr](this.path),linkpath:this.type==="Link"?this[Gr](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[Gr](e){return ek(e,this.prefix)}[$l](e){return nk(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});ql.Sync=Fp;ql.Tar=_2;var R2=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";sk.exports=ql});var ik=C((Cue,ok)=>{"use strict";ok.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var zp=C((bue,ak)=>{"use strict";ak.exports=ue;ue.Node=po;ue.create=ue;function ue(t){var e=this;if(e instanceof ue||(e=new ue),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}ue.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ue.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ue.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ue.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)k2(this,arguments[t]);return this.length};ue.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)T2(this,arguments[t]);return this.length};ue.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ue.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ue.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};ue.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};ue.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};ue.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};ue.prototype.map=function(t,e){e=e||this;for(var r=new ue,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};ue.prototype.mapReverse=function(t,e){e=e||this;for(var r=new ue,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};ue.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=t(r,n.value,s),n=n.next;return r};ue.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=t(r,n.value,s),n=n.prev;return r};ue.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};ue.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};ue.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ue;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)r.push(s.value);return r};ue.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ue;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>t;n--,s=s.prev)r.push(s.value);return r};ue.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(var o=[],n=0;s&&n<e;n++)o.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=A2(this,s,r[n]);return o};ue.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function A2(t,e,r){var n=e===t.head?new po(r,null,e,t):new po(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function k2(t,e){t.tail=new po(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function T2(t,e){t.head=new po(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function po(t,e,r,n){if(!(this instanceof po))return new po(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{ik()(ue)}catch{}});var Ql=C((Rue,mk)=>{"use strict";var Yl=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},N2=Rl(),P2=Ep(),O2=Dl(),Yp=Up(),v2=Yp.Sync,I2=Yp.Tar,D2=zp(),ck=Buffer.alloc(1024),Gl=Symbol("onStat"),Hl=Symbol("ended"),Kr=Symbol("queue"),qi=Symbol("current"),yo=Symbol("process"),jl=Symbol("processing"),dk=Symbol("processJob"),Vr=Symbol("jobs"),$p=Symbol("jobDone"),Kl=Symbol("addFSEntry"),lk=Symbol("addTarEntry"),Gp=Symbol("stat"),Kp=Symbol("readdir"),Vl=Symbol("onreaddir"),Wl=Symbol("pipe"),uk=Symbol("entry"),qp=Symbol("entryOpt"),Vp=Symbol("writeEntryClass"),hk=Symbol("write"),Hp=Symbol("ondrain"),Xl=N("fs"),fk=N("path"),B2=Ll(),jp=Fi(),Xp=B2(class extends N2{constructor(e){super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=jp(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Vp]=Yp,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new P2.Gzip(e.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Hp]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[Hp]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[Kr]=new D2,this[Vr]=0,this.jobs=+e.jobs||4,this[jl]=!1,this[Hl]=!1}[hk](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Hl]=!0,this[yo](),this}write(e){if(this[Hl])throw new Error("write after end");return e instanceof O2?this[lk](e):this[Kl](e),this.flowing}[lk](e){let r=jp(fk.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new Yl(e.path,r,!1);n.entry=new I2(e,this[qp](n)),n.entry.on("end",s=>this[$p](n)),this[Vr]+=1,this[Kr].push(n)}this[yo]()}[Kl](e){let r=jp(fk.resolve(this.cwd,e));this[Kr].push(new Yl(e,r)),this[yo]()}[Gp](e){e.pending=!0,this[Vr]+=1;let r=this.follow?"stat":"lstat";Xl[r](e.absolute,(n,s)=>{e.pending=!1,this[Vr]-=1,n?this.emit("error",n):this[Gl](e,s)})}[Gl](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[yo]()}[Kp](e){e.pending=!0,this[Vr]+=1,Xl.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[Vr]-=1,r)return this.emit("error",r);this[Vl](e,n)})}[Vl](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[yo]()}[yo](){if(!this[jl]){this[jl]=!0;for(let e=this[Kr].head;e!==null&&this[Vr]<this.jobs;e=e.next)if(this[dk](e.value),e.value.ignore){let r=e.next;this[Kr].removeNode(e),e.next=r}this[jl]=!1,this[Hl]&&!this[Kr].length&&this[Vr]===0&&(this.zip?this.zip.end(ck):(super.write(ck),super.end()))}}get[qi](){return this[Kr]&&this[Kr].head&&this[Kr].head.value}[$p](e){this[Kr].shift(),this[Vr]-=1,this[yo]()}[dk](e){if(!e.pending){if(e.entry){e===this[qi]&&!e.piped&&this[Wl](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Gl](e,this.statCache.get(e.absolute)):this[Gp](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Vl](e,this.readdirCache.get(e.absolute)):this[Kp](e),!e.readdir))){if(e.entry=this[uk](e),!e.entry){e.ignore=!0;return}e===this[qi]&&!e.piped&&this[Wl](e)}}}[qp](e){return{onwarn:(r,n,s)=>this.warn(r,n,s),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[uk](e){this[Vr]+=1;try{return new this[Vp](e.path,this[qp](e)).on("end",()=>this[$p](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Hp](){this[qi]&&this[qi].entry&&this[qi].entry.resume()}[Wl](e){e.piped=!0,e.readdir&&e.readdir.forEach(s=>{let o=e.path,i=o==="./"?"":o.replace(/\/*$/,"/");this[Kl](i+s)});let r=e.entry,n=this.zip;n?r.on("data",s=>{n.write(s)||r.pause()}):r.on("data",s=>{super.write(s)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Wp=class extends Xp{constructor(e){super(e),this[Vp]=v2}pause(){}resume(){}[Gp](e){let r=this.follow?"statSync":"lstatSync";this[Gl](e,Xl[r](e.absolute))}[Kp](e,r){this[Vl](e,Xl.readdirSync(e.absolute))}[Wl](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(s=>{let o=e.path,i=o==="./"?"":o.replace(/\/*$/,"/");this[Kl](i+s)}),n?r.on("data",s=>{n.write(s)}):r.on("data",s=>{super[hk](s)})}};Xp.Sync=Wp;mk.exports=Xp});var _k=C((Aue,bk)=>{"use strict";var pk=typeof process=="object"&&process?process:{stdout:null,stderr:null},M2=N("events"),yk=N("stream"),gk=N("string_decoder").StringDecoder,Cn=Symbol("EOF"),bn=Symbol("maybeEmitEnd"),Os=Symbol("emittedEnd"),Zl=Symbol("emittingEnd"),hc=Symbol("emittedError"),Jl=Symbol("closed"),Ek=Symbol("read"),eu=Symbol("flush"),Sk=Symbol("flushChunk"),Ut=Symbol("encoding"),_n=Symbol("decoder"),tu=Symbol("flowing"),mc=Symbol("paused"),Hi=Symbol("resume"),nt=Symbol("bufferLength"),Qp=Symbol("bufferPush"),Zp=Symbol("bufferShift"),St=Symbol("objectMode"),wt=Symbol("destroyed"),Jp=Symbol("emitData"),wk=Symbol("emitEnd"),ey=Symbol("emitEnd2"),Rn=Symbol("async"),pc=t=>Promise.resolve().then(t),xk=global._MP_NO_ITERATOR_SYMBOLS_!=="1",L2=xk&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),F2=xk&&Symbol.iterator||Symbol("iterator not implemented"),U2=t=>t==="end"||t==="finish"||t==="prefinish",z2=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,$2=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),ru=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Hi](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},ty=class extends ru{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=s=>r.emit("error",s),e.on("error",this.proxyErrors)}};bk.exports=class Ck extends yk{constructor(e){super(),this[tu]=!1,this[mc]=!1,this.pipes=[],this.buffer=[],this[St]=e&&e.objectMode||!1,this[St]?this[Ut]=null:this[Ut]=e&&e.encoding||null,this[Ut]==="buffer"&&(this[Ut]=null),this[Rn]=e&&!!e.async||!1,this[_n]=this[Ut]?new gk(this[Ut]):null,this[Cn]=!1,this[Os]=!1,this[Zl]=!1,this[Jl]=!1,this[hc]=null,this.writable=!0,this.readable=!0,this[nt]=0,this[wt]=!1}get bufferLength(){return this[nt]}get encoding(){return this[Ut]}set encoding(e){if(this[St])throw new Error("cannot set encoding in objectMode");if(this[Ut]&&e!==this[Ut]&&(this[_n]&&this[_n].lastNeed||this[nt]))throw new Error("cannot change encoding");this[Ut]!==e&&(this[_n]=e?new gk(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[_n].write(r)))),this[Ut]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[St]}set objectMode(e){this[St]=this[St]||!!e}get async(){return this[Rn]}set async(e){this[Rn]=this[Rn]||!!e}write(e,r,n){if(this[Cn])throw new Error("write after end");if(this[wt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[Rn]?pc:o=>o();return!this[St]&&!Buffer.isBuffer(e)&&($2(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):z2(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[St]?(this.flowing&&this[nt]!==0&&this[eu](!0),this.flowing?this.emit("data",e):this[Qp](e),this[nt]!==0&&this.emit("readable"),n&&s(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Ut]&&!this[_n].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Ut]&&(e=this[_n].write(e)),this.flowing&&this[nt]!==0&&this[eu](!0),this.flowing?this.emit("data",e):this[Qp](e),this[nt]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[nt]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(e){if(this[wt])return null;if(this[nt]===0||e===0||e>this[nt])return this[bn](),null;this[St]&&(e=null),this.buffer.length>1&&!this[St]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[nt])]);let r=this[Ek](e||null,this.buffer[0]);return this[bn](),r}[Ek](e,r){return e===r.length||e===null?this[Zp]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[nt]-=e),this.emit("data",r),!this.buffer.length&&!this[Cn]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[Cn]=!0,this.writable=!1,(this.flowing||!this[mc])&&this[bn](),this}[Hi](){this[wt]||(this[mc]=!1,this[tu]=!0,this.emit("resume"),this.buffer.length?this[eu]():this[Cn]?this[bn]():this.emit("drain"))}resume(){return this[Hi]()}pause(){this[tu]=!1,this[mc]=!0}get destroyed(){return this[wt]}get flowing(){return this[tu]}get paused(){return this[mc]}[Qp](e){this[St]?this[nt]+=1:this[nt]+=e.length,this.buffer.push(e)}[Zp](){return this.buffer.length&&(this[St]?this[nt]-=1:this[nt]-=this.buffer[0].length),this.buffer.shift()}[eu](e){do;while(this[Sk](this[Zp]()));!e&&!this.buffer.length&&!this[Cn]&&this.emit("drain")}[Sk](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[wt])return;let n=this[Os];return r=r||{},e===pk.stdout||e===pk.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new ty(this,e,r):new ru(this,e,r)),this[Rn]?pc(()=>this[Hi]()):this[Hi]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[Hi]():e==="readable"&&this[nt]!==0?super.emit("readable"):U2(e)&&this[Os]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[hc]&&(this[Rn]?pc(()=>r.call(this,this[hc])):r.call(this,this[hc])),n}get emittedEnd(){return this[Os]}[bn](){!this[Zl]&&!this[Os]&&!this[wt]&&this.buffer.length===0&&this[Cn]&&(this[Zl]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Jl]&&this.emit("close"),this[Zl]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==wt&&this[wt])return;if(e==="data")return r?this[Rn]?pc(()=>this[Jp](r)):this[Jp](r):!1;if(e==="end")return this[wk]();if(e==="close"){if(this[Jl]=!0,!this[Os]&&!this[wt])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[hc]=r;let o=super.emit("error",r);return this[bn](),o}else if(e==="resume"){let o=super.emit("resume");return this[bn](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let s=super.emit(e,r,...n);return this[bn](),s}[Jp](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[bn](),r}[wk](){this[Os]||(this[Os]=!0,this.readable=!1,this[Rn]?pc(()=>this[ey]()):this[ey]())}[ey](){if(this[_n]){let r=this[_n].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[St]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[St]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[St]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[St]?Promise.reject(new Error("cannot concat in objectMode")):this[Ut]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(wt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[L2](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[Cn])return Promise.resolve({done:!0});let n=null,s=null,o=d=>{this.removeListener("data",i),this.removeListener("end",a),s(d)},i=d=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:d,done:!!this[Cn]})},a=()=>{this.removeListener("error",o),this.removeListener("data",i),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((d,l)=>{s=l,n=d,this.once(wt,c),this.once("error",o),this.once("end",a),this.once("data",i)})}}}[F2](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[wt]?(e?this.emit("error",e):this.emit(wt),this):(this[wt]=!0,this.buffer.length=0,this[nt]=0,typeof this.close=="function"&&!this[Jl]&&this.close(),e?this.emit("error",e):this.emit(wt),this)}static isStream(e){return!!e&&(e instanceof Ck||e instanceof yk||e instanceof M2&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Qi=C(gc=>{"use strict";var q2=_k(),H2=N("events").EventEmitter,zt=N("fs"),sy=zt.writev;if(!sy){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;sy=(r,n,s,o)=>{let i=(c,d)=>o(c,d,n),a=new e;a.oncomplete=i,t.writeBuffers(r,n,s,a)}}var Yi=Symbol("_autoClose"),wr=Symbol("_close"),yc=Symbol("_ended"),we=Symbol("_fd"),Rk=Symbol("_finished"),Is=Symbol("_flags"),ry=Symbol("_flush"),oy=Symbol("_handleChunk"),iy=Symbol("_makeBuf"),au=Symbol("_mode"),nu=Symbol("_needDrain"),Vi=Symbol("_onerror"),Xi=Symbol("_onopen"),ny=Symbol("_onread"),Gi=Symbol("_onwrite"),Ds=Symbol("_open"),An=Symbol("_path"),go=Symbol("_pos"),Wr=Symbol("_queue"),Ki=Symbol("_read"),Ak=Symbol("_readSize"),vs=Symbol("_reading"),su=Symbol("_remain"),kk=Symbol("_size"),ou=Symbol("_write"),ji=Symbol("_writing"),iu=Symbol("_defaultFlag"),Wi=Symbol("_errored"),cu=class extends q2{constructor(e,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Wi]=!1,this[we]=typeof r.fd=="number"?r.fd:null,this[An]=e,this[Ak]=r.readSize||16*1024*1024,this[vs]=!1,this[kk]=typeof r.size=="number"?r.size:1/0,this[su]=this[kk],this[Yi]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[we]=="number"?this[Ki]():this[Ds]()}get fd(){return this[we]}get path(){return this[An]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Ds](){zt.open(this[An],"r",(e,r)=>this[Xi](e,r))}[Xi](e,r){e?this[Vi](e):(this[we]=r,this.emit("open",r),this[Ki]())}[iy](){return Buffer.allocUnsafe(Math.min(this[Ak],this[su]))}[Ki](){if(!this[vs]){this[vs]=!0;let e=this[iy]();if(e.length===0)return process.nextTick(()=>this[ny](null,0,e));zt.read(this[we],e,0,e.length,null,(r,n,s)=>this[ny](r,n,s))}}[ny](e,r,n){this[vs]=!1,e?this[Vi](e):this[oy](r,n)&&this[Ki]()}[wr](){if(this[Yi]&&typeof this[we]=="number"){let e=this[we];this[we]=null,zt.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[Vi](e){this[vs]=!0,this[wr](),this.emit("error",e)}[oy](e,r){let n=!1;return this[su]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[su]<=0)&&(n=!1,this[wr](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[we]=="number"&&this[Ki]();break;case"error":return this[Wi]?void 0:(this[Wi]=!0,super.emit(e,r));default:return super.emit(e,r)}}},ay=class extends cu{[Ds](){let e=!0;try{this[Xi](null,zt.openSync(this[An],"r")),e=!1}finally{e&&this[wr]()}}[Ki](){let e=!0;try{if(!this[vs]){this[vs]=!0;do{let r=this[iy](),n=r.length===0?0:zt.readSync(this[we],r,0,r.length,null);if(!this[oy](n,r))break}while(!0);this[vs]=!1}e=!1}finally{e&&this[wr]()}}[wr](){if(this[Yi]&&typeof this[we]=="number"){let e=this[we];this[we]=null,zt.closeSync(e),this.emit("close")}}},du=class extends H2{constructor(e,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[Wi]=!1,this[ji]=!1,this[yc]=!1,this[nu]=!1,this[Wr]=[],this[An]=e,this[we]=typeof r.fd=="number"?r.fd:null,this[au]=r.mode===void 0?438:r.mode,this[go]=typeof r.start=="number"?r.start:null,this[Yi]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[go]!==null?"r+":"w";this[iu]=r.flags===void 0,this[Is]=this[iu]?n:r.flags,this[we]===null&&this[Ds]()}emit(e,r){if(e==="error"){if(this[Wi])return;this[Wi]=!0}return super.emit(e,r)}get fd(){return this[we]}get path(){return this[An]}[Vi](e){this[wr](),this[ji]=!0,this.emit("error",e)}[Ds](){zt.open(this[An],this[Is],this[au],(e,r)=>this[Xi](e,r))}[Xi](e,r){this[iu]&&this[Is]==="r+"&&e&&e.code==="ENOENT"?(this[Is]="w",this[Ds]()):e?this[Vi](e):(this[we]=r,this.emit("open",r),this[ry]())}end(e,r){return e&&this.write(e,r),this[yc]=!0,!this[ji]&&!this[Wr].length&&typeof this[we]=="number"&&this[Gi](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[yc]?(this.emit("error",new Error("write() after end()")),!1):this[we]===null||this[ji]||this[Wr].length?(this[Wr].push(e),this[nu]=!0,!1):(this[ji]=!0,this[ou](e),!0)}[ou](e){zt.write(this[we],e,0,e.length,this[go],(r,n)=>this[Gi](r,n))}[Gi](e,r){e?this[Vi](e):(this[go]!==null&&(this[go]+=r),this[Wr].length?this[ry]():(this[ji]=!1,this[yc]&&!this[Rk]?(this[Rk]=!0,this[wr](),this.emit("finish")):this[nu]&&(this[nu]=!1,this.emit("drain"))))}[ry](){if(this[Wr].length===0)this[yc]&&this[Gi](null,0);else if(this[Wr].length===1)this[ou](this[Wr].pop());else{let e=this[Wr];this[Wr]=[],sy(this[we],e,this[go],(r,n)=>this[Gi](r,n))}}[wr](){if(this[Yi]&&typeof this[we]=="number"){let e=this[we];this[we]=null,zt.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},cy=class extends du{[Ds](){let e;if(this[iu]&&this[Is]==="r+")try{e=zt.openSync(this[An],this[Is],this[au])}catch(r){if(r.code==="ENOENT")return this[Is]="w",this[Ds]();throw r}else e=zt.openSync(this[An],this[Is],this[au]);this[Xi](null,e)}[wr](){if(this[Yi]&&typeof this[we]=="number"){let e=this[we];this[we]=null,zt.closeSync(e),this.emit("close")}}[ou](e){let r=!0;try{this[Gi](null,zt.writeSync(this[we],e,0,e.length,this[go])),r=!1}finally{if(r)try{this[wr]()}catch{}}}};gc.ReadStream=cu;gc.ReadStreamSync=ay;gc.WriteStream=du;gc.WriteStreamSync=cy});var yu=C((Nue,Bk)=>{"use strict";var j2=Ll(),G2=zi(),K2=N("events"),V2=zp(),W2=1024*1024,Y2=Dl(),Tk=Ml(),X2=Ep(),{nextTick:Q2}=N("process"),dy=Buffer.from([31,139]),lr=Symbol("state"),Eo=Symbol("writeEntry"),kn=Symbol("readEntry"),ly=Symbol("nextEntry"),Nk=Symbol("processEntry"),ur=Symbol("extendedHeader"),Ec=Symbol("globalExtendedHeader"),Bs=Symbol("meta"),Pk=Symbol("emitMeta"),Te=Symbol("buffer"),Tn=Symbol("queue"),So=Symbol("ended"),Ok=Symbol("emittedEnd"),wo=Symbol("emit"),$t=Symbol("unzip"),lu=Symbol("consumeChunk"),uu=Symbol("consumeChunkSub"),uy=Symbol("consumeBody"),vk=Symbol("consumeMeta"),Ik=Symbol("consumeHeader"),fu=Symbol("consuming"),fy=Symbol("bufferConcat"),hy=Symbol("maybeEnd"),Sc=Symbol("writing"),Ms=Symbol("aborted"),hu=Symbol("onDone"),xo=Symbol("sawValidEntry"),mu=Symbol("sawNullBlock"),pu=Symbol("sawEOF"),Dk=Symbol("closeStream"),Z2=t=>!0;Bk.exports=j2(class extends K2{constructor(e){e=e||{},super(e),this.file=e.file||"",this[xo]=null,this.on(hu,r=>{(this[lr]==="begin"||this[xo]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(hu,e.ondone):this.on(hu,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||W2,this.filter=typeof e.filter=="function"?e.filter:Z2,this.writable=!0,this.readable=!1,this[Tn]=new V2,this[Te]=null,this[kn]=null,this[Eo]=null,this[lr]="begin",this[Bs]="",this[ur]=null,this[Ec]=null,this[So]=!1,this[$t]=null,this[Ms]=!1,this[mu]=!1,this[pu]=!1,this.on("end",()=>this[Dk]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[Ik](e,r){this[xo]===null&&(this[xo]=!1);let n;try{n=new G2(e,r,this[ur],this[Ec])}catch(s){return this.warn("TAR_ENTRY_INVALID",s)}if(n.nullBlock)this[mu]?(this[pu]=!0,this[lr]==="begin"&&(this[lr]="header"),this[wo]("eof")):(this[mu]=!0,this[wo]("nullBlock"));else if(this[mu]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let s=n.type;if(/^(Symbolic)?Link$/.test(s)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(s)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[Eo]=new Y2(n,this[ur],this[Ec]);if(!this[xo])if(o.remain){let i=()=>{o.invalid||(this[xo]=!0)};o.on("end",i)}else this[xo]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[wo]("ignoredEntry",o),this[lr]="ignore",o.resume()):o.size>0&&(this[Bs]="",o.on("data",i=>this[Bs]+=i),this[lr]="meta"):(this[ur]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[wo]("ignoredEntry",o),this[lr]=o.remain?"ignore":"header",o.resume()):(o.remain?this[lr]="body":(this[lr]="header",o.end()),this[kn]?this[Tn].push(o):(this[Tn].push(o),this[ly]())))}}}[Dk](){Q2(()=>this.emit("close"))}[Nk](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[kn]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[ly]()),r=!1)):(this[kn]=null,r=!1),r}[ly](){do;while(this[Nk](this[Tn].shift()));if(!this[Tn].length){let e=this[kn];!e||e.flowing||e.size===e.remain?this[Sc]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[uy](e,r){let n=this[Eo],s=n.blockRemain,o=s>=e.length&&r===0?e:e.slice(r,r+s);return n.write(o),n.blockRemain||(this[lr]="header",this[Eo]=null,n.end()),o.length}[vk](e,r){let n=this[Eo],s=this[uy](e,r);return this[Eo]||this[Pk](n),s}[wo](e,r,n){!this[Tn].length&&!this[kn]?this.emit(e,r,n):this[Tn].push([e,r,n])}[Pk](e){switch(this[wo]("meta",this[Bs]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[ur]=Tk.parse(this[Bs],this[ur],!1);break;case"GlobalExtendedHeader":this[Ec]=Tk.parse(this[Bs],this[Ec],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[ur]=this[ur]||Object.create(null),this[ur].path=this[Bs].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[ur]=this[ur]||Object.create(null),this[ur].linkpath=this[Bs].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Ms]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Ms])return;if(this[$t]===null&&e){if(this[Te]&&(e=Buffer.concat([this[Te],e]),this[Te]=null),e.length<dy.length)return this[Te]=e,!0;for(let n=0;this[$t]===null&&n<dy.length;n++)e[n]!==dy[n]&&(this[$t]=!1);if(this[$t]===null){let n=this[So];this[So]=!1,this[$t]=new X2.Unzip,this[$t].on("data",o=>this[lu](o)),this[$t].on("error",o=>this.abort(o)),this[$t].on("end",o=>{this[So]=!0,this[lu]()}),this[Sc]=!0;let s=this[$t][n?"end":"write"](e);return this[Sc]=!1,s}}this[Sc]=!0,this[$t]?this[$t].write(e):this[lu](e),this[Sc]=!1;let r=this[Tn].length?!1:this[kn]?this[kn].flowing:!0;return!r&&!this[Tn].length&&this[kn].once("drain",n=>this.emit("drain")),r}[fy](e){e&&!this[Ms]&&(this[Te]=this[Te]?Buffer.concat([this[Te],e]):e)}[hy](){if(this[So]&&!this[Ok]&&!this[Ms]&&!this[fu]){this[Ok]=!0;let e=this[Eo];if(e&&e.blockRemain){let r=this[Te]?this[Te].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[Te]&&e.write(this[Te]),e.end()}this[wo](hu)}}[lu](e){if(this[fu])this[fy](e);else if(!e&&!this[Te])this[hy]();else{if(this[fu]=!0,this[Te]){this[fy](e);let r=this[Te];this[Te]=null,this[uu](r)}else this[uu](e);for(;this[Te]&&this[Te].length>=512&&!this[Ms]&&!this[pu];){let r=this[Te];this[Te]=null,this[uu](r)}this[fu]=!1}(!this[Te]||this[So])&&this[hy]()}[uu](e){let r=0,n=e.length;for(;r+512<=n&&!this[Ms]&&!this[pu];)switch(this[lr]){case"begin":case"header":this[Ik](e,r),r+=512;break;case"ignore":case"body":r+=this[uy](e,r);break;case"meta":r+=this[vk](e,r);break;default:throw new Error("invalid state: "+this[lr])}r<n&&(this[Te]?this[Te]=Buffer.concat([e.slice(r),this[Te]]):this[Te]=e.slice(r))}end(e){this[Ms]||(this[$t]?this[$t].end(e):(this[So]=!0,this.write(e)))}})});var gu=C((Pue,Uk)=>{"use strict";var J2=Ii(),Lk=yu(),Zi=N("fs"),ez=Qi(),Mk=N("path"),my=$i();Uk.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=J2(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&rz(n,e),n.noResume||tz(n),n.file&&n.sync?nz(n):n.file?sz(n,r):Fk(n)};var tz=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},rz=(t,e)=>{let r=new Map(e.map(o=>[my(o),!0])),n=t.filter,s=(o,i)=>{let a=i||Mk.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):s(Mk.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,i)=>n(o,i)&&s(my(o)):o=>s(my(o))},nz=t=>{let e=Fk(t),r=t.file,n=!0,s;try{let o=Zi.statSync(r),i=t.maxReadSize||16*1024*1024;if(o.size<i)e.end(Zi.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(i);for(s=Zi.openSync(r,"r");a<o.size;){let d=Zi.readSync(s,c,0,i,a);a+=d,e.write(c.slice(0,d))}e.end()}n=!1}finally{if(n&&s)try{Zi.closeSync(s)}catch{}}},sz=(t,e)=>{let r=new Lk(t),n=t.maxReadSize||16*1024*1024,s=t.file,o=new Promise((i,a)=>{r.on("error",a),r.on("end",i),Zi.stat(s,(c,d)=>{if(c)a(c);else{let l=new ez.ReadStream(s,{readSize:n,size:d.size});l.on("error",a),l.pipe(r)}})});return e?o.then(e,e):o},Fk=t=>new Lk(t)});var Gk=C((Oue,jk)=>{"use strict";var oz=Ii(),Eu=Ql(),zk=Qi(),$k=gu(),qk=N("path");jk.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=oz(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?iz(n,e):n.file?az(n,e,r):n.sync?cz(n,e):dz(n,e)};var iz=(t,e)=>{let r=new Eu.Sync(t),n=new zk.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),Hk(r,e)},az=(t,e,r)=>{let n=new Eu(t),s=new zk.WriteStream(t.file,{mode:t.mode||438});n.pipe(s);let o=new Promise((i,a)=>{s.on("error",a),s.on("close",i),n.on("error",a)});return py(n,e),r?o.then(r,r):o},Hk=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?$k({file:qk.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},py=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return $k({file:qk.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>py(t,e));t.add(r)}t.end()},cz=(t,e)=>{let r=new Eu.Sync(t);return Hk(r,e),r},dz=(t,e)=>{let r=new Eu(t);return py(r,e),r}});var yy=C((vue,Zk)=>{"use strict";var lz=Ii(),Kk=Ql(),Yt=N("fs"),Vk=Qi(),Wk=gu(),Yk=N("path"),Xk=zi();Zk.exports=(t,e,r)=>{let n=lz(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?uz(n,e):hz(n,e,r)};var uz=(t,e)=>{let r=new Kk.Sync(t),n=!0,s,o;try{try{s=Yt.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")s=Yt.openSync(t.file,"w+");else throw c}let i=Yt.fstatSync(s),a=Buffer.alloc(512);e:for(o=0;o<i.size;o+=512){for(let l=0,f=0;l<512;l+=f){if(f=Yt.readSync(s,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let c=new Xk(a);if(!c.cksumValid)break;let d=512*Math.ceil(c.size/512);if(o+d+512>i.size)break;o+=d,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}n=!1,fz(t,r,o,s,e)}finally{if(n)try{Yt.closeSync(s)}catch{}}},fz=(t,e,r,n,s)=>{let o=new Vk.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(o),mz(e,s)},hz=(t,e,r)=>{e=Array.from(e);let n=new Kk(t),s=(i,a,c)=>{let d=(y,x)=>{y?Yt.close(i,R=>c(y)):c(null,x)},l=0;if(a===0)return d(null,0);let f=0,u=Buffer.alloc(512),g=(y,x)=>{if(y)return d(y);if(f+=x,f<512&&x)return Yt.read(i,u,f,u.length-f,l+f,g);if(l===0&&u[0]===31&&u[1]===139)return d(new Error("cannot append to compressed archives"));if(f<512)return d(null,l);let R=new Xk(u);if(!R.cksumValid)return d(null,l);let v=512*Math.ceil(R.size/512);if(l+v+512>a||(l+=v+512,l>=a))return d(null,l);t.mtimeCache&&t.mtimeCache.set(R.path,R.mtime),f=0,Yt.read(i,u,0,512,l,g)};Yt.read(i,u,0,512,l,g)},o=new Promise((i,a)=>{n.on("error",a);let c="r+",d=(l,f)=>{if(l&&l.code==="ENOENT"&&c==="r+")return c="w+",Yt.open(t.file,c,d);if(l)return a(l);Yt.fstat(f,(u,g)=>{if(u)return Yt.close(f,()=>a(u));s(f,g.size,(y,x)=>{if(y)return a(y);let R=new Vk.WriteStream(t.file,{fd:f,start:x});n.pipe(R),R.on("error",a),R.on("close",i),Qk(n,e)})})};Yt.open(t.file,c,d)});return r?o.then(r,r):o},mz=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?Wk({file:Yk.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},Qk=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return Wk({file:Yk.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>Qk(t,e));t.add(r)}t.end()}});var eT=C((Iue,Jk)=>{"use strict";var pz=Ii(),yz=yy();Jk.exports=(t,e,r)=>{let n=pz(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),gz(n),yz(n,e,r)};var gz=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var nT=C((Due,rT)=>{var{promisify:tT}=N("util"),Ls=N("fs"),Ez=t=>{if(!t)t={mode:511,fs:Ls};else if(typeof t=="object")t={mode:511,fs:Ls,...t};else if(typeof t=="number")t={mode:t,fs:Ls};else if(typeof t=="string")t={mode:parseInt(t,8),fs:Ls};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||Ls.mkdir,t.mkdirAsync=tT(t.mkdir),t.stat=t.stat||t.fs.stat||Ls.stat,t.statAsync=tT(t.stat),t.statSync=t.statSync||t.fs.statSync||Ls.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||Ls.mkdirSync,t};rT.exports=Ez});var oT=C((Bue,sT)=>{var Sz=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:wz,parse:xz}=N("path"),Cz=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=wz(t),Sz==="win32"){let e=/[*|"<>?:]/,{root:r}=xz(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};sT.exports=Cz});var lT=C((Mue,dT)=>{var{dirname:iT}=N("path"),aT=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?aT(t,iT(e),e):void 0),cT=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?cT(t,iT(e),e):void 0}};dT.exports={findMade:aT,findMadeSync:cT}});var Sy=C((Lue,fT)=>{var{dirname:uT}=N("path"),gy=(t,e,r)=>{e.recursive=!1;let n=uT(t);return n===t?e.mkdirAsync(t,e).catch(s=>{if(s.code!=="EISDIR")throw s}):e.mkdirAsync(t,e).then(()=>r||t,s=>{if(s.code==="ENOENT")return gy(n,e).then(o=>gy(t,e,o));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return e.statAsync(t).then(o=>{if(o.isDirectory())return r;throw s},()=>{throw s})})},Ey=(t,e,r)=>{let n=uT(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(s){if(s.code!=="EISDIR")throw s;return}try{return e.mkdirSync(t,e),r||t}catch(s){if(s.code==="ENOENT")return Ey(t,e,Ey(n,e,r));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!e.statSync(t).isDirectory())throw s}catch{throw s}}};fT.exports={mkdirpManual:gy,mkdirpManualSync:Ey}});var pT=C((Fue,mT)=>{var{dirname:hT}=N("path"),{findMade:bz,findMadeSync:_z}=lT(),{mkdirpManual:Rz,mkdirpManualSync:Az}=Sy(),kz=(t,e)=>(e.recursive=!0,hT(t)===t?e.mkdirAsync(t,e):bz(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(s=>{if(s.code==="ENOENT")return Rz(t,e);throw s}))),Tz=(t,e)=>{if(e.recursive=!0,hT(t)===t)return e.mkdirSync(t,e);let n=_z(e,t);try{return e.mkdirSync(t,e),n}catch(s){if(s.code==="ENOENT")return Az(t,e);throw s}};mT.exports={mkdirpNative:kz,mkdirpNativeSync:Tz}});var ST=C((Uue,ET)=>{var yT=N("fs"),Nz=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,wy=Nz.replace(/^v/,"").split("."),gT=+wy[0]>10||+wy[0]==10&&+wy[1]>=12,Pz=gT?t=>t.mkdir===yT.mkdir:()=>!1,Oz=gT?t=>t.mkdirSync===yT.mkdirSync:()=>!1;ET.exports={useNative:Pz,useNativeSync:Oz}});var RT=C((zue,_T)=>{var Ji=nT(),ea=oT(),{mkdirpNative:wT,mkdirpNativeSync:xT}=pT(),{mkdirpManual:CT,mkdirpManualSync:bT}=Sy(),{useNative:vz,useNativeSync:Iz}=ST(),ta=(t,e)=>(t=ea(t),e=Ji(e),vz(e)?wT(t,e):CT(t,e)),Dz=(t,e)=>(t=ea(t),e=Ji(e),Iz(e)?xT(t,e):bT(t,e));ta.sync=Dz;ta.native=(t,e)=>wT(ea(t),Ji(e));ta.manual=(t,e)=>CT(ea(t),Ji(e));ta.nativeSync=(t,e)=>xT(ea(t),Ji(e));ta.manualSync=(t,e)=>bT(ea(t),Ji(e));_T.exports=ta});var vT=C(($ue,OT)=>{"use strict";var fr=N("fs"),Co=N("path"),Bz=fr.lchown?"lchown":"chown",Mz=fr.lchownSync?"lchownSync":"chownSync",kT=fr.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),AT=(t,e,r)=>{try{return fr[Mz](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},Lz=(t,e,r)=>{try{return fr.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},Fz=kT?(t,e,r,n)=>s=>{!s||s.code!=="EISDIR"?n(s):fr.chown(t,e,r,n)}:(t,e,r,n)=>n,xy=kT?(t,e,r)=>{try{return AT(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;Lz(t,e,r)}}:(t,e,r)=>AT(t,e,r),Uz=process.version,TT=(t,e,r)=>fr.readdir(t,e,r),zz=(t,e)=>fr.readdirSync(t,e);/^v4\./.test(Uz)&&(TT=(t,e,r)=>fr.readdir(t,r));var Su=(t,e,r,n)=>{fr[Bz](t,e,r,Fz(t,e,r,s=>{n(s&&s.code!=="ENOENT"?s:null)}))},NT=(t,e,r,n,s)=>{if(typeof e=="string")return fr.lstat(Co.resolve(t,e),(o,i)=>{if(o)return s(o.code!=="ENOENT"?o:null);i.name=e,NT(t,i,r,n,s)});if(e.isDirectory())Cy(Co.resolve(t,e.name),r,n,o=>{if(o)return s(o);let i=Co.resolve(t,e.name);Su(i,r,n,s)});else{let o=Co.resolve(t,e.name);Su(o,r,n,s)}},Cy=(t,e,r,n)=>{TT(t,{withFileTypes:!0},(s,o)=>{if(s){if(s.code==="ENOENT")return n();if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return n(s)}if(s||!o.length)return Su(t,e,r,n);let i=o.length,a=null,c=d=>{if(!a){if(d)return n(a=d);if(--i===0)return Su(t,e,r,n)}};o.forEach(d=>NT(t,d,e,r,c))})},$z=(t,e,r,n)=>{if(typeof e=="string")try{let s=fr.lstatSync(Co.resolve(t,e));s.name=e,e=s}catch(s){if(s.code==="ENOENT")return;throw s}e.isDirectory()&&PT(Co.resolve(t,e.name),r,n),xy(Co.resolve(t,e.name),r,n)},PT=(t,e,r)=>{let n;try{n=zz(t,{withFileTypes:!0})}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return xy(t,e,r);throw s}return n&&n.length&&n.forEach(s=>$z(t,s,e,r)),xy(t,e,r)};OT.exports=Cy;Cy.sync=PT});var MT=C((que,by)=>{"use strict";var IT=RT(),hr=N("fs"),wu=N("path"),DT=vT(),xr=Fi(),xu=class extends Error{constructor(e,r){super("Cannot extract through symbolic link"),this.path=r,this.symlink=e}get name(){return"SylinkError"}},Cu=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'"),this.path=e,this.code=r}get name(){return"CwdError"}},bu=(t,e)=>t.get(xr(e)),wc=(t,e,r)=>t.set(xr(e),r),qz=(t,e)=>{hr.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new Cu(t,r&&r.code||"ENOTDIR")),e(r)})};by.exports=(t,e,r)=>{t=xr(t);let n=e.umask,s=e.mode|448,o=(s&n)!==0,i=e.uid,a=e.gid,c=typeof i=="number"&&typeof a=="number"&&(i!==e.processUid||a!==e.processGid),d=e.preserve,l=e.unlink,f=e.cache,u=xr(e.cwd),g=(R,v)=>{R?r(R):(wc(f,t,!0),v&&c?DT(v,i,a,se=>g(se)):o?hr.chmod(t,s,r):r())};if(f&&bu(f,t)===!0)return g();if(t===u)return qz(t,g);if(d)return IT(t,{mode:s}).then(R=>g(null,R),g);let x=xr(wu.relative(u,t)).split("/");_u(u,x,s,f,l,u,null,g)};var _u=(t,e,r,n,s,o,i,a)=>{if(!e.length)return a(null,i);let c=e.shift(),d=xr(wu.resolve(t+"/"+c));if(bu(n,d))return _u(d,e,r,n,s,o,i,a);hr.mkdir(d,r,BT(d,e,r,n,s,o,i,a))},BT=(t,e,r,n,s,o,i,a)=>c=>{c?hr.lstat(t,(d,l)=>{if(d)d.path=d.path&&xr(d.path),a(d);else if(l.isDirectory())_u(t,e,r,n,s,o,i,a);else if(s)hr.unlink(t,f=>{if(f)return a(f);hr.mkdir(t,r,BT(t,e,r,n,s,o,i,a))});else{if(l.isSymbolicLink())return a(new xu(t,t+"/"+e.join("/")));a(c)}}):(i=i||t,_u(t,e,r,n,s,o,i,a))},Hz=t=>{let e=!1,r="ENOTDIR";try{e=hr.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new Cu(t,r)}};by.exports.sync=(t,e)=>{t=xr(t);let r=e.umask,n=e.mode|448,s=(n&r)!==0,o=e.uid,i=e.gid,a=typeof o=="number"&&typeof i=="number"&&(o!==e.processUid||i!==e.processGid),c=e.preserve,d=e.unlink,l=e.cache,f=xr(e.cwd),u=R=>{wc(l,t,!0),R&&a&&DT.sync(R,o,i),s&&hr.chmodSync(t,n)};if(l&&bu(l,t)===!0)return u();if(t===f)return Hz(f),u();if(c)return u(IT.sync(t,n));let y=xr(wu.relative(f,t)).split("/"),x=null;for(let R=y.shift(),v=f;R&&(v+="/"+R);R=y.shift())if(v=xr(wu.resolve(v)),!bu(l,v))try{hr.mkdirSync(v,n),x=x||v,wc(l,v,!0)}catch{let Z=hr.lstatSync(v);if(Z.isDirectory()){wc(l,v,!0);continue}else if(d){hr.unlinkSync(v),hr.mkdirSync(v,n),x=x||v,wc(l,v,!0);continue}else if(Z.isSymbolicLink())return new xu(v,v+"/"+y.join("/"))}return u(x)}});var Ry=C((Hue,LT)=>{var _y=Object.create(null),{hasOwnProperty:jz}=Object.prototype;LT.exports=t=>(jz.call(_y,t)||(_y[t]=t.normalize("NFKD")),_y[t])});var $T=C((jue,zT)=>{var FT=N("assert"),Gz=Ry(),Kz=$i(),{join:UT}=N("path"),Vz=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Wz=Vz==="win32";zT.exports=()=>{let t=new Map,e=new Map,r=d=>d.split("/").slice(0,-1).reduce((f,u)=>(f.length&&(u=UT(f[f.length-1],u)),f.push(u||"/"),f),[]),n=new Set,s=d=>{let l=e.get(d);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(f=>t.get(f)),dirs:[...l.dirs].map(f=>t.get(f))}},o=d=>{let{paths:l,dirs:f}=s(d);return l.every(u=>u[0]===d)&&f.every(u=>u[0]instanceof Set&&u[0].has(d))},i=d=>n.has(d)||!o(d)?!1:(n.add(d),d(()=>a(d)),!0),a=d=>{if(!n.has(d))return!1;let{paths:l,dirs:f}=e.get(d),u=new Set;return l.forEach(g=>{let y=t.get(g);FT.equal(y[0],d),y.length===1?t.delete(g):(y.shift(),typeof y[0]=="function"?u.add(y[0]):y[0].forEach(x=>u.add(x)))}),f.forEach(g=>{let y=t.get(g);FT(y[0]instanceof Set),y[0].size===1&&y.length===1?t.delete(g):y[0].size===1?(y.shift(),u.add(y[0])):y[0].delete(d)}),n.delete(d),u.forEach(g=>i(g)),!0};return{check:o,reserve:(d,l)=>{d=Wz?["win32 parallelization disabled"]:d.map(u=>Gz(Kz(UT(u))).toLowerCase());let f=new Set(d.map(u=>r(u)).reduce((u,g)=>u.concat(g)));return e.set(l,{dirs:f,paths:d}),d.forEach(u=>{let g=t.get(u);g?g.push(l):t.set(u,[l])}),f.forEach(u=>{let g=t.get(u);g?g[g.length-1]instanceof Set?g[g.length-1].add(l):g.push(new Set([l])):t.set(u,[new Set([l])])}),i(l)}}}});var jT=C((Gue,HT)=>{var Yz=process.env.__FAKE_PLATFORM__||process.platform,Xz=Yz==="win32",Qz=global.__FAKE_TESTING_FS__||N("fs"),{O_CREAT:Zz,O_TRUNC:Jz,O_WRONLY:e$,UV_FS_O_FILEMAP:qT=0}=Qz.constants,t$=Xz&&!!qT,r$=512*1024,n$=qT|Jz|Zz|e$;HT.exports=t$?t=>t<r$?n$:"w":()=>"w"});var Dy=C((Kue,sN)=>{"use strict";var s$=N("assert"),o$=yu(),fe=N("fs"),i$=Qi(),Nn=N("path"),tN=MT(),GT=Tp(),a$=$T(),c$=Np(),Xt=Fi(),d$=$i(),l$=Ry(),KT=Symbol("onEntry"),Ty=Symbol("checkFs"),VT=Symbol("checkFs2"),ku=Symbol("pruneCache"),Ny=Symbol("isReusable"),mr=Symbol("makeFs"),Py=Symbol("file"),Oy=Symbol("directory"),Tu=Symbol("link"),WT=Symbol("symlink"),YT=Symbol("hardlink"),XT=Symbol("unsupported"),QT=Symbol("checkPath"),Fs=Symbol("mkdir"),xt=Symbol("onError"),Ru=Symbol("pending"),ZT=Symbol("pend"),ra=Symbol("unpend"),Ay=Symbol("ended"),ky=Symbol("maybeClose"),vy=Symbol("skip"),xc=Symbol("doChown"),Cc=Symbol("uid"),bc=Symbol("gid"),_c=Symbol("checkedCwd"),rN=N("crypto"),nN=jT(),u$=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Rc=u$==="win32",f$=(t,e)=>{if(!Rc)return fe.unlink(t,e);let r=t+".DELETE."+rN.randomBytes(16).toString("hex");fe.rename(t,r,n=>{if(n)return e(n);fe.unlink(r,e)})},h$=t=>{if(!Rc)return fe.unlinkSync(t);let e=t+".DELETE."+rN.randomBytes(16).toString("hex");fe.renameSync(t,e),fe.unlinkSync(e)},JT=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,eN=t=>l$(d$(Xt(t))).toLowerCase(),m$=(t,e)=>{e=eN(e);for(let r of t.keys()){let n=eN(r);(n===e||n.indexOf(e+"/")===0)&&t.delete(r)}},p$=t=>{for(let e of t.keys())t.delete(e)},Ac=class extends o${constructor(e){if(e||(e={}),e.ondone=r=>{this[Ay]=!0,this[ky]()},super(e),this[_c]=!1,this.reservations=a$(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[Ru]=0,this[Ay]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Rc,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=Xt(Nn.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[KT](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[ky](){this[Ay]&&this[Ru]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[QT](e){if(this.strip){let r=Xt(e.path).split("/");if(r.length<this.strip)return!1;if(e.path=r.slice(this.strip).join("/"),e.type==="Link"){let n=Xt(e.linkpath).split("/");if(n.length>=this.strip)e.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=Xt(e.path),n=r.split("/");if(n.includes("..")||Rc&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[s,o]=c$(r);s&&(e.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:e,path:r}))}if(Nn.isAbsolute(e.path)?e.absolute=Xt(Nn.resolve(e.path)):e.absolute=Xt(Nn.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:Xt(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=Nn.win32.parse(e.absolute);e.absolute=r+GT.encode(e.absolute.slice(r.length));let{root:n}=Nn.win32.parse(e.path);e.path=n+GT.encode(e.path.slice(n.length))}return!0}[KT](e){if(!this[QT](e))return e.resume();switch(s$.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[Ty](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[XT](e)}}[xt](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[ra](),r.resume())}[Fs](e,r,n){tN(Xt(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[xc](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Cc](e){return JT(this.uid,e.uid,this.processUid)}[bc](e){return JT(this.gid,e.gid,this.processGid)}[Py](e,r){let n=e.mode&4095||this.fmode,s=new i$.WriteStream(e.absolute,{flags:nN(e.size),mode:n,autoClose:!1});s.on("error",c=>{s.fd&&fe.close(s.fd,()=>{}),s.write=()=>!0,this[xt](c,e),r()});let o=1,i=c=>{if(c){s.fd&&fe.close(s.fd,()=>{}),this[xt](c,e),r();return}--o===0&&fe.close(s.fd,d=>{d?this[xt](d,e):this[ra](),r()})};s.on("finish",c=>{let d=e.absolute,l=s.fd;if(e.mtime&&!this.noMtime){o++;let f=e.atime||new Date,u=e.mtime;fe.futimes(l,f,u,g=>g?fe.utimes(d,f,u,y=>i(y&&g)):i())}if(this[xc](e)){o++;let f=this[Cc](e),u=this[bc](e);fe.fchown(l,f,u,g=>g?fe.chown(d,f,u,y=>i(y&&g)):i())}i()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[xt](c,e),r()}),e.pipe(a)),a.pipe(s)}[Oy](e,r){let n=e.mode&4095||this.dmode;this[Fs](e.absolute,n,s=>{if(s){this[xt](s,e),r();return}let o=1,i=a=>{--o===0&&(r(),this[ra](),e.resume())};e.mtime&&!this.noMtime&&(o++,fe.utimes(e.absolute,e.atime||new Date,e.mtime,i)),this[xc](e)&&(o++,fe.chown(e.absolute,this[Cc](e),this[bc](e),i)),i()})}[XT](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[WT](e,r){this[Tu](e,e.linkpath,"symlink",r)}[YT](e,r){let n=Xt(Nn.resolve(this.cwd,e.linkpath));this[Tu](e,n,"link",r)}[ZT](){this[Ru]++}[ra](){this[Ru]--,this[ky]()}[vy](e){this[ra](),e.resume()}[Ny](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Rc}[Ty](e){this[ZT]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[VT](e,n))}[ku](e){e.type==="SymbolicLink"?p$(this.dirCache):e.type!=="Directory"&&m$(this.dirCache,e.absolute)}[VT](e,r){this[ku](e);let n=a=>{this[ku](e),r(a)},s=()=>{this[Fs](this.cwd,this.dmode,a=>{if(a){this[xt](a,e),n();return}this[_c]=!0,o()})},o=()=>{if(e.absolute!==this.cwd){let a=Xt(Nn.dirname(e.absolute));if(a!==this.cwd)return this[Fs](a,this.dmode,c=>{if(c){this[xt](c,e),n();return}i()})}i()},i=()=>{fe.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[vy](e),n();return}if(a||this[Ny](e,c))return this[mr](null,e,n);if(c.isDirectory()){if(e.type==="Directory"){let d=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,l=f=>this[mr](f,e,n);return d?fe.chmod(e.absolute,e.mode,l):l()}if(e.absolute!==this.cwd)return fe.rmdir(e.absolute,d=>this[mr](d,e,n))}if(e.absolute===this.cwd)return this[mr](null,e,n);f$(e.absolute,d=>this[mr](d,e,n))})};this[_c]?o():s()}[mr](e,r,n){if(e){this[xt](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[Py](r,n);case"Link":return this[YT](r,n);case"SymbolicLink":return this[WT](r,n);case"Directory":case"GNUDumpDir":return this[Oy](r,n)}}[Tu](e,r,n,s){fe[n](r,e.absolute,o=>{o?this[xt](o,e):(this[ra](),e.resume()),s()})}},Au=t=>{try{return[null,t()]}catch(e){return[e,null]}},Iy=class extends Ac{[mr](e,r){return super[mr](e,r,()=>{})}[Ty](e){if(this[ku](e),!this[_c]){let o=this[Fs](this.cwd,this.dmode);if(o)return this[xt](o,e);this[_c]=!0}if(e.absolute!==this.cwd){let o=Xt(Nn.dirname(e.absolute));if(o!==this.cwd){let i=this[Fs](o,this.dmode);if(i)return this[xt](i,e)}}let[r,n]=Au(()=>fe.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[vy](e);if(r||this[Ny](e,n))return this[mr](null,e);if(n.isDirectory()){if(e.type==="Directory"){let i=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=i?Au(()=>{fe.chmodSync(e.absolute,e.mode)}):[];return this[mr](a,e)}let[o]=Au(()=>fe.rmdirSync(e.absolute));this[mr](o,e)}let[s]=e.absolute===this.cwd?[]:Au(()=>h$(e.absolute));this[mr](s,e)}[Py](e,r){let n=e.mode&4095||this.fmode,s=a=>{let c;try{fe.closeSync(o)}catch(d){c=d}(a||c)&&this[xt](a||c,e),r()},o;try{o=fe.openSync(e.absolute,nN(e.size),n)}catch(a){return s(a)}let i=this.transform&&this.transform(e)||e;i!==e&&(i.on("error",a=>this[xt](a,e)),e.pipe(i)),i.on("data",a=>{try{fe.writeSync(o,a,0,a.length)}catch(c){s(c)}}),i.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let d=e.atime||new Date,l=e.mtime;try{fe.futimesSync(o,d,l)}catch(f){try{fe.utimesSync(e.absolute,d,l)}catch{c=f}}}if(this[xc](e)){let d=this[Cc](e),l=this[bc](e);try{fe.fchownSync(o,d,l)}catch(f){try{fe.chownSync(e.absolute,d,l)}catch{c=c||f}}}s(c)})}[Oy](e,r){let n=e.mode&4095||this.dmode,s=this[Fs](e.absolute,n);if(s){this[xt](s,e),r();return}if(e.mtime&&!this.noMtime)try{fe.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[xc](e))try{fe.chownSync(e.absolute,this[Cc](e),this[bc](e))}catch{}r(),e.resume()}[Fs](e,r){try{return tN.sync(Xt(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[Tu](e,r,n,s){try{fe[n+"Sync"](r,e.absolute),s(),e.resume()}catch(o){return this[xt](o,e)}}};Ac.Sync=Iy;sN.exports=Ac});var dN=C((Vue,cN)=>{"use strict";var y$=Ii(),Nu=Dy(),iN=N("fs"),aN=Qi(),oN=N("path"),By=$i();cN.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=y$(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&g$(n,e),n.file&&n.sync?E$(n):n.file?S$(n,r):n.sync?w$(n):x$(n)};var g$=(t,e)=>{let r=new Map(e.map(o=>[By(o),!0])),n=t.filter,s=(o,i)=>{let a=i||oN.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):s(oN.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,i)=>n(o,i)&&s(By(o)):o=>s(By(o))},E$=t=>{let e=new Nu.Sync(t),r=t.file,n=iN.statSync(r),s=t.maxReadSize||16*1024*1024;new aN.ReadStreamSync(r,{readSize:s,size:n.size}).pipe(e)},S$=(t,e)=>{let r=new Nu(t),n=t.maxReadSize||16*1024*1024,s=t.file,o=new Promise((i,a)=>{r.on("error",a),r.on("close",i),iN.stat(s,(c,d)=>{if(c)a(c);else{let l=new aN.ReadStream(s,{readSize:n,size:d.size});l.on("error",a),l.pipe(r)}})});return e?o.then(e,e):o},w$=t=>new Nu.Sync(t),x$=t=>new Nu(t)});var lN=C(Qe=>{"use strict";Qe.c=Qe.create=Gk();Qe.r=Qe.replace=yy();Qe.t=Qe.list=gu();Qe.u=Qe.update=eT();Qe.x=Qe.extract=dN();Qe.Pack=Ql();Qe.Unpack=Dy();Qe.Parse=yu();Qe.ReadEntry=Dl();Qe.WriteEntry=Up();Qe.Header=zi();Qe.Pax=Ml();Qe.types=xp()});var My=C((Yue,hN)=>{"use strict";var C$=N("stream"),uN=C$.PassThrough,b$=Array.prototype.slice;hN.exports=_$;function _$(){let t=[],e=b$.call(arguments),r=!1,n=e[e.length-1];n&&!Array.isArray(n)&&n.pipe==null?e.pop():n={};let s=n.end!==!1,o=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let i=uN(n);function a(){for(let l=0,f=arguments.length;l<f;l++)t.push(fN(arguments[l],n));return c(),this}function c(){if(r)return;r=!0;let l=t.shift();if(!l){process.nextTick(d);return}Array.isArray(l)||(l=[l]);let f=l.length+1;function u(){--f>0||(r=!1,c())}function g(y){function x(){y.removeListener("merge2UnpipeEnd",x),y.removeListener("end",x),o&&y.removeListener("error",R),u()}function R(v){i.emit("error",v)}if(y._readableState.endEmitted)return u();y.on("merge2UnpipeEnd",x),y.on("end",x),o&&y.on("error",R),y.pipe(i,{end:!1}),y.resume()}for(let y=0;y<l.length;y++)g(l[y]);u()}function d(){r=!1,i.emit("queueDrain"),s&&i.end()}return i.setMaxListeners(0),i.add=a,i.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),i}function fN(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=fN(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(uN(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}});var mN=C(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.splitWhen=na.flatten=void 0;function R$(t){return t.reduce((e,r)=>[].concat(e,r),[])}na.flatten=R$;function A$(t,e){let r=[[]],n=0;for(let s of t)e(s)?(n++,r[n]=[]):r[n].push(s);return r}na.splitWhen=A$});var pN=C(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.isEnoentCodeError=void 0;function k$(t){return t.code==="ENOENT"}Pu.isEnoentCodeError=k$});var yN=C(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.createDirentFromStats=void 0;var Ly=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function T$(t,e){return new Ly(t,e)}Ou.createDirentFromStats=T$});var gN=C(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.removeLeadingDotSegment=Yr.escape=Yr.makeAbsolute=Yr.unixify=void 0;var N$=N("path"),P$=2,O$=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function v$(t){return t.replace(/\\/g,"/")}Yr.unixify=v$;function I$(t,e){return N$.resolve(t,e)}Yr.makeAbsolute=I$;function D$(t){return t.replace(O$,"\\$2")}Yr.escape=D$;function B$(t){if(t.charAt(0)==="."){let e=t.charAt(1);if(e==="/"||e==="\\")return t.slice(P$)}return t}Yr.removeLeadingDotSegment=B$});var SN=C((efe,EN)=>{EN.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var CN=C((tfe,xN)=>{var M$=SN(),wN={"{":"}","(":")","[":"]"},L$=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,s=-2,o=-2,i=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(i===-1||i>n||(i=t.indexOf("\\",e),i===-1||i>n)))||s!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(s=t.indexOf("}",e),s>e&&(i=t.indexOf("\\",e),i===-1||i>s))||o!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(o=t.indexOf(")",e),o>e&&(i=t.indexOf("\\",e),i===-1||i>o))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(o=t.indexOf(")",r),o>r&&(i=t.indexOf("\\",r),i===-1||i>o))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var c=wN[a];if(c){var d=t.indexOf(c,e);d!==-1&&(e=d+1)}if(t[e]==="!")return!0}else e++}return!1},F$=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=wN[r];if(n){var s=t.indexOf(n,e);s!==-1&&(e=s+1)}if(t[e]==="!")return!0}else e++}return!1};xN.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(M$(e))return!0;var n=L$;return r&&r.strict===!1&&(n=F$),n(e)}});var _N=C((rfe,bN)=>{"use strict";var U$=CN(),z$=N("path").posix.dirname,$$=N("os").platform()==="win32",Fy="/",q$=/\\/g,H$=/[\{\[].*[\}\]]$/,j$=/(^|[^\\])([\{\[]|\([^\)]+$)/,G$=/\\([\!\*\?\|\[\]\(\)\{\}])/g;bN.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&$$&&e.indexOf(Fy)<0&&(e=e.replace(q$,Fy)),H$.test(e)&&(e+=Fy),e+="a";do e=z$(e);while(U$(e)||j$.test(e));return e.replace(G$,"$1")}});var vu=C(pr=>{"use strict";pr.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;pr.find=(t,e)=>t.nodes.find(r=>r.type===e);pr.exceedsLimit=(t,e,r=1,n)=>n===!1||!pr.isInteger(t)||!pr.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;pr.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};pr.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);pr.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;pr.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;pr.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);pr.flatten=(...t)=>{let e=[],r=n=>{for(let s=0;s<n.length;s++){let o=n[s];Array.isArray(o)?r(o,e):o!==void 0&&e.push(o)}return e};return r(t),e}});var Iu=C((sfe,AN)=>{"use strict";var RN=vu();AN.exports=(t,e={})=>{let r=(n,s={})=>{let o=e.escapeInvalid&&RN.isInvalidBrace(s),i=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(o||i)&&RN.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(t)}});var TN=C((ofe,kN)=>{"use strict";kN.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var LN=C((ife,MN)=>{"use strict";var NN=TN(),bo=(t,e,r)=>{if(NN(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(NN(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),o=String(n.shorthand),i=String(n.capture),a=String(n.wrap),c=t+":"+e+"="+s+o+i+a;if(bo.cache.hasOwnProperty(c))return bo.cache[c].result;let d=Math.min(t,e),l=Math.max(t,e);if(Math.abs(d-l)===1){let x=t+"|"+e;return n.capture?`(${x})`:n.wrap===!1?x:`(?:${x})`}let f=BN(t)||BN(e),u={min:t,max:e,a:d,b:l},g=[],y=[];if(f&&(u.isPadded=f,u.maxLen=String(u.max).length),d<0){let x=l<0?Math.abs(l):1;y=PN(x,Math.abs(d),u,n),d=u.a=0}return l>=0&&(g=PN(d,l,u,n)),u.negatives=y,u.positives=g,u.result=K$(y,g,n),n.capture===!0?u.result=`(${u.result})`:n.wrap!==!1&&g.length+y.length>1&&(u.result=`(?:${u.result})`),bo.cache[c]=u,u.result};function K$(t,e,r){let n=Uy(t,e,"-",!1,r)||[],s=Uy(e,t,"",!1,r)||[],o=Uy(t,e,"-?",!0,r)||[];return n.concat(o).concat(s).join("|")}function V$(t,e){let r=1,n=1,s=vN(t,r),o=new Set([e]);for(;t<=s&&s<=e;)o.add(s),r+=1,s=vN(t,r);for(s=IN(e+1,n)-1;t<s&&s<=e;)o.add(s),n+=1,s=IN(e+1,n)-1;return o=[...o],o.sort(X$),o}function W$(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=Y$(t,e),s=n.length,o="",i=0;for(let a=0;a<s;a++){let[c,d]=n[a];c===d?o+=c:c!=="0"||d!=="9"?o+=Q$(c,d,r):i++}return i&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[i],digits:s}}function PN(t,e,r,n){let s=V$(t,e),o=[],i=t,a;for(let c=0;c<s.length;c++){let d=s[c],l=W$(String(i),String(d),n),f="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+DN(a.count),i=d+1;continue}r.isPadded&&(f=Z$(d,r,n)),l.string=f+l.pattern+DN(l.count),o.push(l),i=d+1,a=l}return o}function Uy(t,e,r,n,s){let o=[];for(let i of t){let{string:a}=i;!n&&!ON(e,"string",a)&&o.push(r+a),n&&ON(e,"string",a)&&o.push(r+a)}return o}function Y$(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function X$(t,e){return t>e?1:e>t?-1:0}function ON(t,e,r){return t.some(n=>n[e]===r)}function vN(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function IN(t,e){return t-t%Math.pow(10,e)}function DN(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function Q$(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function BN(t){return/^-?(0+)\d/.test(t)}function Z$(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}bo.cache={};bo.clearCache=()=>bo.cache={};MN.exports=bo});var qy=C((afe,GN)=>{"use strict";var J$=N("util"),zN=LN(),FN=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),eq=t=>e=>t===!0?Number(e):String(e),zy=t=>typeof t=="number"||typeof t=="string"&&t!=="",kc=t=>Number.isInteger(+t),$y=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},tq=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,rq=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},UN=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},nq=(t,e)=>{t.negatives.sort((i,a)=>i<a?-1:i>a?1:0),t.positives.sort((i,a)=>i<a?-1:i>a?1:0);let r=e.capture?"":"?:",n="",s="",o;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(s=`-(${r}${t.negatives.join("|")})`),n&&s?o=`${n}|${s}`:o=n||s,e.wrap?`(${r}${o})`:o},$N=(t,e,r,n)=>{if(r)return zN(t,e,{wrap:!1,...n});let s=String.fromCharCode(t);if(t===e)return s;let o=String.fromCharCode(e);return`[${s}-${o}]`},qN=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${t.join("|")})`:t.join("|")}return zN(t,e,r)},HN=(...t)=>new RangeError("Invalid range arguments: "+J$.inspect(...t)),jN=(t,e,r)=>{if(r.strictRanges===!0)throw HN([t,e]);return[]},sq=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},oq=(t,e,r=1,n={})=>{let s=Number(t),o=Number(e);if(!Number.isInteger(s)||!Number.isInteger(o)){if(n.strictRanges===!0)throw HN([t,e]);return[]}s===0&&(s=0),o===0&&(o=0);let i=s>o,a=String(t),c=String(e),d=String(r);r=Math.max(Math.abs(r),1);let l=$y(a)||$y(c)||$y(d),f=l?Math.max(a.length,c.length,d.length):0,u=l===!1&&tq(t,e,n)===!1,g=n.transform||eq(u);if(n.toRegex&&r===1)return $N(UN(t,f),UN(e,f),!0,n);let y={negatives:[],positives:[]},x=se=>y[se<0?"negatives":"positives"].push(Math.abs(se)),R=[],v=0;for(;i?s>=o:s<=o;)n.toRegex===!0&&r>1?x(s):R.push(rq(g(s,v),f,u)),s=i?s-r:s+r,v++;return n.toRegex===!0?r>1?nq(y,n):qN(R,null,{wrap:!1,...n}):R},iq=(t,e,r=1,n={})=>{if(!kc(t)&&t.length>1||!kc(e)&&e.length>1)return jN(t,e,n);let s=n.transform||(u=>String.fromCharCode(u)),o=`${t}`.charCodeAt(0),i=`${e}`.charCodeAt(0),a=o>i,c=Math.min(o,i),d=Math.max(o,i);if(n.toRegex&&r===1)return $N(c,d,!1,n);let l=[],f=0;for(;a?o>=i:o<=i;)l.push(s(o,f)),o=a?o-r:o+r,f++;return n.toRegex===!0?qN(l,null,{wrap:!1,options:n}):l},Du=(t,e,r,n={})=>{if(e==null&&zy(t))return[t];if(!zy(t)||!zy(e))return jN(t,e,n);if(typeof r=="function")return Du(t,e,1,{transform:r});if(FN(r))return Du(t,e,0,r);let s={...n};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,kc(r)?kc(t)&&kc(e)?oq(t,e,r,s):iq(t,e,Math.max(Math.abs(r),1),s):r!=null&&!FN(r)?sq(r,s):Du(t,e,1,r)};GN.exports=Du});var WN=C((cfe,VN)=>{"use strict";var aq=qy(),KN=vu(),cq=(t,e={})=>{let r=(n,s={})=>{let o=KN.isInvalidBrace(s),i=n.invalid===!0&&e.escapeInvalid===!0,a=o===!0||i===!0,c=e.escapeInvalid===!0?"\\":"",d="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=KN.reduce(n.nodes),f=aq(...l,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return l.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let l of n.nodes)d+=r(l,n);return d};return r(t)};VN.exports=cq});var QN=C((dfe,XN)=>{"use strict";var dq=qy(),YN=Iu(),sa=vu(),_o=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?sa.flatten(e).map(s=>`{${s}}`):e;for(let s of t)if(Array.isArray(s))for(let o of s)n.push(_o(o,e,r));else for(let o of e)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?_o(s,o,r):s+o);return sa.flatten(n)},lq=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(s,o={})=>{s.queue=[];let i=o,a=o.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,a=i.queue;if(s.invalid||s.dollar){a.push(_o(a.pop(),YN(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){a.push(_o(a.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let f=sa.reduce(s.nodes);if(sa.exceedsLimit(...f,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let u=dq(...f,e);u.length===0&&(u=YN(s,e)),a.push(_o(a.pop(),u)),s.nodes=[];return}let c=sa.encloseBrace(s),d=s.queue,l=s;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,d=l.queue;for(let f=0;f<s.nodes.length;f++){let u=s.nodes[f];if(u.type==="comma"&&s.type==="brace"){f===1&&d.push(""),d.push("");continue}if(u.type==="close"){a.push(_o(a.pop(),d,c));continue}if(u.value&&u.type!=="open"){d.push(_o(d.pop(),u.value));continue}u.nodes&&n(u,s)}return d};return sa.flatten(n(t))};XN.exports=lq});var JN=C((lfe,ZN)=>{"use strict";ZN.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var sP=C((ufe,nP)=>{"use strict";var uq=Iu(),{MAX_LENGTH:eP,CHAR_BACKSLASH:Hy,CHAR_BACKTICK:fq,CHAR_COMMA:hq,CHAR_DOT:mq,CHAR_LEFT_PARENTHESES:pq,CHAR_RIGHT_PARENTHESES:yq,CHAR_LEFT_CURLY_BRACE:gq,CHAR_RIGHT_CURLY_BRACE:Eq,CHAR_LEFT_SQUARE_BRACKET:tP,CHAR_RIGHT_SQUARE_BRACKET:rP,CHAR_DOUBLE_QUOTE:Sq,CHAR_SINGLE_QUOTE:wq,CHAR_NO_BREAK_SPACE:xq,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Cq}=JN(),bq=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(eP,r.maxLength):eP;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let s={type:"root",input:t,nodes:[]},o=[s],i=s,a=s,c=0,d=t.length,l=0,f=0,u,g={},y=()=>t[l++],x=R=>{if(R.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&R.type==="text"){a.value+=R.value;return}return i.nodes.push(R),R.parent=i,R.prev=a,a=R,R};for(x({type:"bos"});l<d;)if(i=o[o.length-1],u=y(),!(u===Cq||u===xq)){if(u===Hy){x({type:"text",value:(e.keepEscaping?u:"")+y()});continue}if(u===rP){x({type:"text",value:"\\"+u});continue}if(u===tP){c++;let R=!0,v;for(;l<d&&(v=y());){if(u+=v,v===tP){c++;continue}if(v===Hy){u+=y();continue}if(v===rP&&(c--,c===0))break}x({type:"text",value:u});continue}if(u===pq){i=x({type:"paren",nodes:[]}),o.push(i),x({type:"text",value:u});continue}if(u===yq){if(i.type!=="paren"){x({type:"text",value:u});continue}i=o.pop(),x({type:"text",value:u}),i=o[o.length-1];continue}if(u===Sq||u===wq||u===fq){let R=u,v;for(e.keepQuotes!==!0&&(u="");l<d&&(v=y());){if(v===Hy){u+=v+y();continue}if(v===R){e.keepQuotes===!0&&(u+=v);break}u+=v}x({type:"text",value:u});continue}if(u===gq){f++;let v={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||i.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};i=x(v),o.push(i),x({type:"open",value:u});continue}if(u===Eq){if(i.type!=="brace"){x({type:"text",value:u});continue}let R="close";i=o.pop(),i.close=!0,x({type:R,value:u}),f--,i=o[o.length-1];continue}if(u===hq&&f>0){if(i.ranges>0){i.ranges=0;let R=i.nodes.shift();i.nodes=[R,{type:"text",value:uq(i)}]}x({type:"comma",value:u}),i.commas++;continue}if(u===mq&&f>0&&i.commas===0){let R=i.nodes;if(f===0||R.length===0){x({type:"text",value:u});continue}if(a.type==="dot"){if(i.range=[],a.value+=u,a.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,a.type="text";continue}i.ranges++,i.args=[];continue}if(a.type==="range"){R.pop();let v=R[R.length-1];v.value+=a.value+u,a=v,i.ranges--;continue}x({type:"dot",value:u});continue}x({type:"text",value:u})}do if(i=o.pop(),i.type!=="root"){i.nodes.forEach(se=>{se.nodes||(se.type==="open"&&(se.isOpen=!0),se.type==="close"&&(se.isClose=!0),se.nodes||(se.type="text"),se.invalid=!0)});let R=o[o.length-1],v=R.nodes.indexOf(i);R.nodes.splice(v,1,...i.nodes)}while(o.length>0);return x({type:"eos"}),s};nP.exports=bq});var aP=C((ffe,iP)=>{"use strict";var oP=Iu(),_q=WN(),Rq=QN(),Aq=sP(),Qt=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let s=Qt.create(n,e);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(Qt.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Qt.parse=(t,e={})=>Aq(t,e);Qt.stringify=(t,e={})=>oP(typeof t=="string"?Qt.parse(t,e):t,e);Qt.compile=(t,e={})=>(typeof t=="string"&&(t=Qt.parse(t,e)),_q(t,e));Qt.expand=(t,e={})=>{typeof t=="string"&&(t=Qt.parse(t,e));let r=Rq(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Qt.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Qt.compile(t,e):Qt.expand(t,e);iP.exports=Qt});var Tc=C((hfe,fP)=>{"use strict";var kq=N("path"),Xr="\\\\/",cP=`[^${Xr}]`,Pn="\\.",Tq="\\+",Nq="\\?",Bu="\\/",Pq="(?=.)",dP="[^/]",jy=`(?:${Bu}|$)`,lP=`(?:^|${Bu})`,Gy=`${Pn}{1,2}${jy}`,Oq=`(?!${Pn})`,vq=`(?!${lP}${Gy})`,Iq=`(?!${Pn}{0,1}${jy})`,Dq=`(?!${Gy})`,Bq=`[^.${Bu}]`,Mq=`${dP}*?`,uP={DOT_LITERAL:Pn,PLUS_LITERAL:Tq,QMARK_LITERAL:Nq,SLASH_LITERAL:Bu,ONE_CHAR:Pq,QMARK:dP,END_ANCHOR:jy,DOTS_SLASH:Gy,NO_DOT:Oq,NO_DOTS:vq,NO_DOT_SLASH:Iq,NO_DOTS_SLASH:Dq,QMARK_NO_DOT:Bq,STAR:Mq,START_ANCHOR:lP},Lq={...uP,SLASH_LITERAL:`[${Xr}]`,QMARK:cP,STAR:`${cP}*?`,DOTS_SLASH:`${Pn}{1,2}(?:[${Xr}]|$)`,NO_DOT:`(?!${Pn})`,NO_DOTS:`(?!(?:^|[${Xr}])${Pn}{1,2}(?:[${Xr}]|$))`,NO_DOT_SLASH:`(?!${Pn}{0,1}(?:[${Xr}]|$))`,NO_DOTS_SLASH:`(?!${Pn}{1,2}(?:[${Xr}]|$))`,QMARK_NO_DOT:`[^.${Xr}]`,START_ANCHOR:`(?:^|[${Xr}])`,END_ANCHOR:`(?:[${Xr}]|$)`},Fq={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};fP.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Fq,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:kq.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?Lq:uP}}});var Nc=C(qt=>{"use strict";var Uq=N("path"),zq=process.platform==="win32",{REGEX_BACKSLASH:$q,REGEX_REMOVE_BACKSLASH:qq,REGEX_SPECIAL_CHARS:Hq,REGEX_SPECIAL_CHARS_GLOBAL:jq}=Tc();qt.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);qt.hasRegexChars=t=>Hq.test(t);qt.isRegexChar=t=>t.length===1&&qt.hasRegexChars(t);qt.escapeRegex=t=>t.replace(jq,"\\$1");qt.toPosixSlashes=t=>t.replace($q,"/");qt.removeBackslashes=t=>t.replace(qq,e=>e==="\\"?"":e);qt.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};qt.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:zq===!0||Uq.sep==="\\";qt.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?qt.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};qt.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};qt.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",o=`${n}(?:${t})${s}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var wP=C((pfe,SP)=>{"use strict";var hP=Nc(),{CHAR_ASTERISK:Ky,CHAR_AT:Gq,CHAR_BACKWARD_SLASH:Pc,CHAR_COMMA:Kq,CHAR_DOT:Vy,CHAR_EXCLAMATION_MARK:Wy,CHAR_FORWARD_SLASH:EP,CHAR_LEFT_CURLY_BRACE:Yy,CHAR_LEFT_PARENTHESES:Xy,CHAR_LEFT_SQUARE_BRACKET:Vq,CHAR_PLUS:Wq,CHAR_QUESTION_MARK:mP,CHAR_RIGHT_CURLY_BRACE:Yq,CHAR_RIGHT_PARENTHESES:pP,CHAR_RIGHT_SQUARE_BRACKET:Xq}=Tc(),yP=t=>t===EP||t===Pc,gP=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},Qq=(t,e)=>{let r=e||{},n=t.length-1,s=r.parts===!0||r.scanToEnd===!0,o=[],i=[],a=[],c=t,d=-1,l=0,f=0,u=!1,g=!1,y=!1,x=!1,R=!1,v=!1,se=!1,Z=!1,$e=!1,Q=!1,Ce=0,te,V,ye={value:"",depth:0,isGlob:!1},st=()=>d>=n,T=()=>c.charCodeAt(d+1),Ne=()=>(te=V,c.charCodeAt(++d));for(;d<n;){V=Ne();let Rt;if(V===Pc){se=ye.backslashes=!0,V=Ne(),V===Yy&&(v=!0);continue}if(v===!0||V===Yy){for(Ce++;st()!==!0&&(V=Ne());){if(V===Pc){se=ye.backslashes=!0,Ne();continue}if(V===Yy){Ce++;continue}if(v!==!0&&V===Vy&&(V=Ne())===Vy){if(u=ye.isBrace=!0,y=ye.isGlob=!0,Q=!0,s===!0)continue;break}if(v!==!0&&V===Kq){if(u=ye.isBrace=!0,y=ye.isGlob=!0,Q=!0,s===!0)continue;break}if(V===Yq&&(Ce--,Ce===0)){v=!1,u=ye.isBrace=!0,Q=!0;break}}if(s===!0)continue;break}if(V===EP){if(o.push(d),i.push(ye),ye={value:"",depth:0,isGlob:!1},Q===!0)continue;if(te===Vy&&d===l+1){l+=2;continue}f=d+1;continue}if(r.noext!==!0&&(V===Wq||V===Gq||V===Ky||V===mP||V===Wy)===!0&&T()===Xy){if(y=ye.isGlob=!0,x=ye.isExtglob=!0,Q=!0,V===Wy&&d===l&&($e=!0),s===!0){for(;st()!==!0&&(V=Ne());){if(V===Pc){se=ye.backslashes=!0,V=Ne();continue}if(V===pP){y=ye.isGlob=!0,Q=!0;break}}continue}break}if(V===Ky){if(te===Ky&&(R=ye.isGlobstar=!0),y=ye.isGlob=!0,Q=!0,s===!0)continue;break}if(V===mP){if(y=ye.isGlob=!0,Q=!0,s===!0)continue;break}if(V===Vq){for(;st()!==!0&&(Rt=Ne());){if(Rt===Pc){se=ye.backslashes=!0,Ne();continue}if(Rt===Xq){g=ye.isBracket=!0,y=ye.isGlob=!0,Q=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&V===Wy&&d===l){Z=ye.negated=!0,l++;continue}if(r.noparen!==!0&&V===Xy){if(y=ye.isGlob=!0,s===!0){for(;st()!==!0&&(V=Ne());){if(V===Xy){se=ye.backslashes=!0,V=Ne();continue}if(V===pP){Q=!0;break}}continue}break}if(y===!0){if(Q=!0,s===!0)continue;break}}r.noext===!0&&(x=!1,y=!1);let _e=c,Dn="",A="";l>0&&(Dn=c.slice(0,l),c=c.slice(l),f-=l),_e&&y===!0&&f>0?(_e=c.slice(0,f),A=c.slice(f)):y===!0?(_e="",A=c):_e=c,_e&&_e!==""&&_e!=="/"&&_e!==c&&yP(_e.charCodeAt(_e.length-1))&&(_e=_e.slice(0,-1)),r.unescape===!0&&(A&&(A=hP.removeBackslashes(A)),_e&&se===!0&&(_e=hP.removeBackslashes(_e)));let k={prefix:Dn,input:t,start:l,base:_e,glob:A,isBrace:u,isBracket:g,isGlob:y,isExtglob:x,isGlobstar:R,negated:Z,negatedExtglob:$e};if(r.tokens===!0&&(k.maxDepth=0,yP(V)||i.push(ye),k.tokens=i),r.parts===!0||r.tokens===!0){let Rt;for(let de=0;de<o.length;de++){let Cr=Rt?Rt+1:l,br=o[de],Ht=t.slice(Cr,br);r.tokens&&(de===0&&l!==0?(i[de].isPrefix=!0,i[de].value=Dn):i[de].value=Ht,gP(i[de]),k.maxDepth+=i[de].depth),(de!==0||Ht!=="")&&a.push(Ht),Rt=br}if(Rt&&Rt+1<t.length){let de=t.slice(Rt+1);a.push(de),r.tokens&&(i[i.length-1].value=de,gP(i[i.length-1]),k.maxDepth+=i[i.length-1].depth)}k.slashes=o,k.parts=a}return k};SP.exports=Qq});var bP=C((yfe,CP)=>{"use strict";var Mu=Tc(),Zt=Nc(),{MAX_LENGTH:Lu,POSIX_REGEX_SOURCE:Zq,REGEX_NON_SPECIAL_CHARS:Jq,REGEX_SPECIAL_CHARS_BACKREF:eH,REPLACEMENTS:xP}=Mu,tH=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(s=>Zt.escapeRegex(s)).join("..")}return r},oa=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Qy=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=xP[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(Lu,r.maxLength):Lu,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},i=[o],a=r.capture?"":"?:",c=Zt.isWindows(e),d=Mu.globChars(c),l=Mu.extglobChars(d),{DOT_LITERAL:f,PLUS_LITERAL:u,SLASH_LITERAL:g,ONE_CHAR:y,DOTS_SLASH:x,NO_DOT:R,NO_DOT_SLASH:v,NO_DOTS_SLASH:se,QMARK:Z,QMARK_NO_DOT:$e,STAR:Q,START_ANCHOR:Ce}=d,te=F=>`(${a}(?:(?!${Ce}${F.dot?x:f}).)*?)`,V=r.dot?"":R,ye=r.dot?Z:$e,st=r.bash===!0?te(r):Q;r.capture&&(st=`(${st})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let T={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};t=Zt.removePrefix(t,T),s=t.length;let Ne=[],_e=[],Dn=[],A=o,k,Rt=()=>T.index===s-1,de=T.peek=(F=1)=>t[T.index+F],Cr=T.advance=()=>t[++T.index]||"",br=()=>t.slice(T.index+1),Ht=(F="",Re=0)=>{T.consumed+=F,T.index+=Re},Dc=F=>{T.output+=F.output!=null?F.output:F.value,Ht(F.value)},Iv=()=>{let F=1;for(;de()==="!"&&(de(2)!=="("||de(3)==="?");)Cr(),T.start++,F++;return F%2===0?!1:(T.negated=!0,T.start++,!0)},Bc=F=>{T[F]++,Dn.push(F)},Gs=F=>{T[F]--,Dn.pop()},oe=F=>{if(A.type==="globstar"){let Re=T.braces>0&&(F.type==="comma"||F.type==="brace"),O=F.extglob===!0||Ne.length&&(F.type==="pipe"||F.type==="paren");F.type!=="slash"&&F.type!=="paren"&&!Re&&!O&&(T.output=T.output.slice(0,-A.output.length),A.type="star",A.value="*",A.output=st,T.output+=A.output)}if(Ne.length&&F.type!=="paren"&&(Ne[Ne.length-1].inner+=F.value),(F.value||F.output)&&Dc(F),A&&A.type==="text"&&F.type==="text"){A.value+=F.value,A.output=(A.output||"")+F.value;return}F.prev=A,i.push(F),A=F},Mc=(F,Re)=>{let O={...l[Re],conditions:1,inner:""};O.prev=A,O.parens=T.parens,O.output=T.output;let ne=(r.capture?"(":"")+O.open;Bc("parens"),oe({type:F,value:Re,output:T.output?"":y}),oe({type:"paren",extglob:!0,value:Cr(),output:ne}),Ne.push(O)},Dv=F=>{let Re=F.close+(r.capture?")":""),O;if(F.type==="negate"){let ne=st;if(F.inner&&F.inner.length>1&&F.inner.includes("/")&&(ne=te(r)),(ne!==st||Rt()||/^\)+$/.test(br()))&&(Re=F.close=`)$))${ne}`),F.inner.includes("*")&&(O=br())&&/^\.[^\\/.]+$/.test(O)){let Ie=Qy(O,{...e,fastpaths:!1}).output;Re=F.close=`)${Ie})${ne})`}F.prev.type==="bos"&&(T.negatedExtglob=!0)}oe({type:"paren",extglob:!0,value:k,output:Re}),Gs("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let F=!1,Re=t.replace(eH,(O,ne,Ie,At,We,df)=>At==="\\"?(F=!0,O):At==="?"?ne?ne+At+(We?Z.repeat(We.length):""):df===0?ye+(We?Z.repeat(We.length):""):Z.repeat(Ie.length):At==="."?f.repeat(Ie.length):At==="*"?ne?ne+At+(We?st:""):st:ne?O:`\\${O}`);return F===!0&&(r.unescape===!0?Re=Re.replace(/\\/g,""):Re=Re.replace(/\\+/g,O=>O.length%2===0?"\\\\":O?"\\":"")),Re===t&&r.contains===!0?(T.output=t,T):(T.output=Zt.wrapOutput(Re,T,e),T)}for(;!Rt();){if(k=Cr(),k==="\0")continue;if(k==="\\"){let O=de();if(O==="/"&&r.bash!==!0||O==="."||O===";")continue;if(!O){k+="\\",oe({type:"text",value:k});continue}let ne=/^\\+/.exec(br()),Ie=0;if(ne&&ne[0].length>2&&(Ie=ne[0].length,T.index+=Ie,Ie%2!==0&&(k+="\\")),r.unescape===!0?k=Cr():k+=Cr(),T.brackets===0){oe({type:"text",value:k});continue}}if(T.brackets>0&&(k!=="]"||A.value==="["||A.value==="[^")){if(r.posix!==!1&&k===":"){let O=A.value.slice(1);if(O.includes("[")&&(A.posix=!0,O.includes(":"))){let ne=A.value.lastIndexOf("["),Ie=A.value.slice(0,ne),At=A.value.slice(ne+2),We=Zq[At];if(We){A.value=Ie+We,T.backtrack=!0,Cr(),!o.output&&i.indexOf(A)===1&&(o.output=y);continue}}}(k==="["&&de()!==":"||k==="-"&&de()==="]")&&(k=`\\${k}`),k==="]"&&(A.value==="["||A.value==="[^")&&(k=`\\${k}`),r.posix===!0&&k==="!"&&A.value==="["&&(k="^"),A.value+=k,Dc({value:k});continue}if(T.quotes===1&&k!=='"'){k=Zt.escapeRegex(k),A.value+=k,Dc({value:k});continue}if(k==='"'){T.quotes=T.quotes===1?0:1,r.keepQuotes===!0&&oe({type:"text",value:k});continue}if(k==="("){Bc("parens"),oe({type:"paren",value:k});continue}if(k===")"){if(T.parens===0&&r.strictBrackets===!0)throw new SyntaxError(oa("opening","("));let O=Ne[Ne.length-1];if(O&&T.parens===O.parens+1){Dv(Ne.pop());continue}oe({type:"paren",value:k,output:T.parens?")":"\\)"}),Gs("parens");continue}if(k==="["){if(r.nobracket===!0||!br().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(oa("closing","]"));k=`\\${k}`}else Bc("brackets");oe({type:"bracket",value:k});continue}if(k==="]"){if(r.nobracket===!0||A&&A.type==="bracket"&&A.value.length===1){oe({type:"text",value:k,output:`\\${k}`});continue}if(T.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(oa("opening","["));oe({type:"text",value:k,output:`\\${k}`});continue}Gs("brackets");let O=A.value.slice(1);if(A.posix!==!0&&O[0]==="^"&&!O.includes("/")&&(k=`/${k}`),A.value+=k,Dc({value:k}),r.literalBrackets===!1||Zt.hasRegexChars(O))continue;let ne=Zt.escapeRegex(A.value);if(T.output=T.output.slice(0,-A.value.length),r.literalBrackets===!0){T.output+=ne,A.value=ne;continue}A.value=`(${a}${ne}|${A.value})`,T.output+=A.value;continue}if(k==="{"&&r.nobrace!==!0){Bc("braces");let O={type:"brace",value:k,output:"(",outputIndex:T.output.length,tokensIndex:T.tokens.length};_e.push(O),oe(O);continue}if(k==="}"){let O=_e[_e.length-1];if(r.nobrace===!0||!O){oe({type:"text",value:k,output:k});continue}let ne=")";if(O.dots===!0){let Ie=i.slice(),At=[];for(let We=Ie.length-1;We>=0&&(i.pop(),Ie[We].type!=="brace");We--)Ie[We].type!=="dots"&&At.unshift(Ie[We].value);ne=tH(At,r),T.backtrack=!0}if(O.comma!==!0&&O.dots!==!0){let Ie=T.output.slice(0,O.outputIndex),At=T.tokens.slice(O.tokensIndex);O.value=O.output="\\{",k=ne="\\}",T.output=Ie;for(let We of At)T.output+=We.output||We.value}oe({type:"brace",value:k,output:ne}),Gs("braces"),_e.pop();continue}if(k==="|"){Ne.length>0&&Ne[Ne.length-1].conditions++,oe({type:"text",value:k});continue}if(k===","){let O=k,ne=_e[_e.length-1];ne&&Dn[Dn.length-1]==="braces"&&(ne.comma=!0,O="|"),oe({type:"comma",value:k,output:O});continue}if(k==="/"){if(A.type==="dot"&&T.index===T.start+1){T.start=T.index+1,T.consumed="",T.output="",i.pop(),A=o;continue}oe({type:"slash",value:k,output:g});continue}if(k==="."){if(T.braces>0&&A.type==="dot"){A.value==="."&&(A.output=f);let O=_e[_e.length-1];A.type="dots",A.output+=k,A.value+=k,O.dots=!0;continue}if(T.braces+T.parens===0&&A.type!=="bos"&&A.type!=="slash"){oe({type:"text",value:k,output:f});continue}oe({type:"dot",value:k,output:f});continue}if(k==="?"){if(!(A&&A.value==="(")&&r.noextglob!==!0&&de()==="("&&de(2)!=="?"){Mc("qmark",k);continue}if(A&&A.type==="paren"){let ne=de(),Ie=k;if(ne==="<"&&!Zt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(A.value==="("&&!/[!=<:]/.test(ne)||ne==="<"&&!/<([!=]|\w+>)/.test(br()))&&(Ie=`\\${k}`),oe({type:"text",value:k,output:Ie});continue}if(r.dot!==!0&&(A.type==="slash"||A.type==="bos")){oe({type:"qmark",value:k,output:$e});continue}oe({type:"qmark",value:k,output:Z});continue}if(k==="!"){if(r.noextglob!==!0&&de()==="("&&(de(2)!=="?"||!/[!=<:]/.test(de(3)))){Mc("negate",k);continue}if(r.nonegate!==!0&&T.index===0){Iv();continue}}if(k==="+"){if(r.noextglob!==!0&&de()==="("&&de(2)!=="?"){Mc("plus",k);continue}if(A&&A.value==="("||r.regex===!1){oe({type:"plus",value:k,output:u});continue}if(A&&(A.type==="bracket"||A.type==="paren"||A.type==="brace")||T.parens>0){oe({type:"plus",value:k});continue}oe({type:"plus",value:u});continue}if(k==="@"){if(r.noextglob!==!0&&de()==="("&&de(2)!=="?"){oe({type:"at",extglob:!0,value:k,output:""});continue}oe({type:"text",value:k});continue}if(k!=="*"){(k==="$"||k==="^")&&(k=`\\${k}`);let O=Jq.exec(br());O&&(k+=O[0],T.index+=O[0].length),oe({type:"text",value:k});continue}if(A&&(A.type==="globstar"||A.star===!0)){A.type="star",A.star=!0,A.value+=k,A.output=st,T.backtrack=!0,T.globstar=!0,Ht(k);continue}let F=br();if(r.noextglob!==!0&&/^\([^?]/.test(F)){Mc("star",k);continue}if(A.type==="star"){if(r.noglobstar===!0){Ht(k);continue}let O=A.prev,ne=O.prev,Ie=O.type==="slash"||O.type==="bos",At=ne&&(ne.type==="star"||ne.type==="globstar");if(r.bash===!0&&(!Ie||F[0]&&F[0]!=="/")){oe({type:"star",value:k,output:""});continue}let We=T.braces>0&&(O.type==="comma"||O.type==="brace"),df=Ne.length&&(O.type==="pipe"||O.type==="paren");if(!Ie&&O.type!=="paren"&&!We&&!df){oe({type:"star",value:k,output:""});continue}for(;F.slice(0,3)==="/**";){let Lc=t[T.index+4];if(Lc&&Lc!=="/")break;F=F.slice(3),Ht("/**",3)}if(O.type==="bos"&&Rt()){A.type="globstar",A.value+=k,A.output=te(r),T.output=A.output,T.globstar=!0,Ht(k);continue}if(O.type==="slash"&&O.prev.type!=="bos"&&!At&&Rt()){T.output=T.output.slice(0,-(O.output+A.output).length),O.output=`(?:${O.output}`,A.type="globstar",A.output=te(r)+(r.strictSlashes?")":"|$)"),A.value+=k,T.globstar=!0,T.output+=O.output+A.output,Ht(k);continue}if(O.type==="slash"&&O.prev.type!=="bos"&&F[0]==="/"){let Lc=F[1]!==void 0?"|$":"";T.output=T.output.slice(0,-(O.output+A.output).length),O.output=`(?:${O.output}`,A.type="globstar",A.output=`${te(r)}${g}|${g}${Lc})`,A.value+=k,T.output+=O.output+A.output,T.globstar=!0,Ht(k+Cr()),oe({type:"slash",value:"/",output:""});continue}if(O.type==="bos"&&F[0]==="/"){A.type="globstar",A.value+=k,A.output=`(?:^|${g}|${te(r)}${g})`,T.output=A.output,T.globstar=!0,Ht(k+Cr()),oe({type:"slash",value:"/",output:""});continue}T.output=T.output.slice(0,-A.output.length),A.type="globstar",A.output=te(r),A.value+=k,T.output+=A.output,T.globstar=!0,Ht(k);continue}let Re={type:"star",value:k,output:st};if(r.bash===!0){Re.output=".*?",(A.type==="bos"||A.type==="slash")&&(Re.output=V+Re.output),oe(Re);continue}if(A&&(A.type==="bracket"||A.type==="paren")&&r.regex===!0){Re.output=k,oe(Re);continue}(T.index===T.start||A.type==="slash"||A.type==="dot")&&(A.type==="dot"?(T.output+=v,A.output+=v):r.dot===!0?(T.output+=se,A.output+=se):(T.output+=V,A.output+=V),de()!=="*"&&(T.output+=y,A.output+=y)),oe(Re)}for(;T.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(oa("closing","]"));T.output=Zt.escapeLast(T.output,"["),Gs("brackets")}for(;T.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(oa("closing",")"));T.output=Zt.escapeLast(T.output,"("),Gs("parens")}for(;T.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(oa("closing","}"));T.output=Zt.escapeLast(T.output,"{"),Gs("braces")}if(r.strictSlashes!==!0&&(A.type==="star"||A.type==="bracket")&&oe({type:"maybe_slash",value:"",output:`${g}?`}),T.backtrack===!0){T.output="";for(let F of T.tokens)T.output+=F.output!=null?F.output:F.value,F.suffix&&(T.output+=F.suffix)}return T};Qy.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(Lu,r.maxLength):Lu,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);t=xP[t]||t;let o=Zt.isWindows(e),{DOT_LITERAL:i,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:d,NO_DOT:l,NO_DOTS:f,NO_DOTS_SLASH:u,STAR:g,START_ANCHOR:y}=Mu.globChars(o),x=r.dot?f:l,R=r.dot?u:l,v=r.capture?"":"?:",se={negated:!1,prefix:""},Z=r.bash===!0?".*?":g;r.capture&&(Z=`(${Z})`);let $e=V=>V.noglobstar===!0?Z:`(${v}(?:(?!${y}${V.dot?d:i}).)*?)`,Q=V=>{switch(V){case"*":return`${x}${c}${Z}`;case".*":return`${i}${c}${Z}`;case"*.*":return`${x}${Z}${i}${c}${Z}`;case"*/*":return`${x}${Z}${a}${c}${R}${Z}`;case"**":return x+$e(r);case"**/*":return`(?:${x}${$e(r)}${a})?${R}${c}${Z}`;case"**/*.*":return`(?:${x}${$e(r)}${a})?${R}${Z}${i}${c}${Z}`;case"**/.*":return`(?:${x}${$e(r)}${a})?${i}${c}${Z}`;default:{let ye=/^(.*?)\.(\w+)$/.exec(V);if(!ye)return;let st=Q(ye[1]);return st?st+i+ye[2]:void 0}}},Ce=Zt.removePrefix(t,se),te=Q(Ce);return te&&r.strictSlashes!==!0&&(te+=`${a}?`),te};CP.exports=Qy});var RP=C((gfe,_P)=>{"use strict";var rH=N("path"),nH=wP(),Zy=bP(),Jy=Nc(),sH=Tc(),oH=t=>t&&typeof t=="object"&&!Array.isArray(t),ze=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(u=>ze(u,e,r));return u=>{for(let g of l){let y=g(u);if(y)return y}return!1}}let n=oH(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},o=Jy.isWindows(e),i=n?ze.compileRe(t,e):ze.makeRe(t,e,!1,!0),a=i.state;delete i.state;let c=()=>!1;if(s.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};c=ze(s.ignore,l,r)}let d=(l,f=!1)=>{let{isMatch:u,match:g,output:y}=ze.test(l,i,e,{glob:t,posix:o}),x={glob:t,state:a,regex:i,posix:o,input:l,output:y,match:g,isMatch:u};return typeof s.onResult=="function"&&s.onResult(x),u===!1?(x.isMatch=!1,f?x:!1):c(l)?(typeof s.onIgnore=="function"&&s.onIgnore(x),x.isMatch=!1,f?x:!1):(typeof s.onMatch=="function"&&s.onMatch(x),f?x:!0)};return r&&(d.state=a),d};ze.test=(t,e,r,{glob:n,posix:s}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let o=r||{},i=o.format||(s?Jy.toPosixSlashes:null),a=t===n,c=a&&i?i(t):t;return a===!1&&(c=i?i(t):t,a=c===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=ze.matchBase(t,e,r,s):a=e.exec(c)),{isMatch:!!a,match:a,output:c}};ze.matchBase=(t,e,r,n=Jy.isWindows(r))=>(e instanceof RegExp?e:ze.makeRe(e,r)).test(rH.basename(t));ze.isMatch=(t,e,r)=>ze(e,r)(t);ze.parse=(t,e)=>Array.isArray(t)?t.map(r=>ze.parse(r,e)):Zy(t,{...e,fastpaths:!1});ze.scan=(t,e)=>nH(t,e);ze.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let s=e||{},o=s.contains?"":"^",i=s.contains?"":"$",a=`${o}(?:${t.output})${i}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=ze.toRegex(a,e);return n===!0&&(c.state=t),c};ze.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(s.output=Zy.fastpaths(t,e)),s.output||(s=Zy(t,e)),ze.compileRe(s,e,r,n)};ze.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};ze.constants=sH;_P.exports=ze});var kP=C((Efe,AP)=>{"use strict";AP.exports=RP()});var vP=C((Sfe,OP)=>{"use strict";var NP=N("util"),PP=aP(),Qr=kP(),eg=Nc(),TP=t=>t===""||t==="./",ve=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,s=new Set,o=new Set,i=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let f=Qr(String(e[l]),{...r,onResult:a},!0),u=f.state.negated||f.state.negatedExtglob;u&&i++;for(let g of t){let y=f(g,!0);(u?!y.isMatch:y.isMatch)&&(u?n.add(y.output):(n.delete(y.output),s.add(y.output)))}}let d=(i===e.length?[...o]:[...s]).filter(l=>!n.has(l));if(r&&d.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return d};ve.match=ve;ve.matcher=(t,e)=>Qr(t,e);ve.isMatch=(t,e,r)=>Qr(e,r)(t);ve.any=ve.isMatch;ve.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,s=[],o=a=>{r.onResult&&r.onResult(a),s.push(a.output)},i=new Set(ve(t,e,{...r,onResult:o}));for(let a of s)i.has(a)||n.add(a);return[...n]};ve.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${NP.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>ve.contains(t,n,r));if(typeof e=="string"){if(TP(t)||TP(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return ve.isMatch(t,e,{...r,contains:!0})};ve.matchKeys=(t,e,r)=>{if(!eg.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=ve(Object.keys(t),e,r),s={};for(let o of n)s[o]=t[o];return s};ve.some=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let o=Qr(String(s),r);if(n.some(i=>o(i)))return!0}return!1};ve.every=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let o=Qr(String(s),r);if(!n.every(i=>o(i)))return!1}return!0};ve.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${NP.inspect(t)}"`);return[].concat(e).every(n=>Qr(n,r)(t))};ve.capture=(t,e,r)=>{let n=eg.isWindows(r),o=Qr.makeRe(String(t),{...r,capture:!0}).exec(n?eg.toPosixSlashes(e):e);if(o)return o.slice(1).map(i=>i===void 0?"":i)};ve.makeRe=(...t)=>Qr.makeRe(...t);ve.scan=(...t)=>Qr.scan(...t);ve.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let s of PP(String(n),e))r.push(Qr.parse(s,e));return r};ve.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:PP(t,e)};ve.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return ve.braces(t,{...e,expand:!0})};OP.exports=ve});var zP=C(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.matchAny=X.convertPatternsToRe=X.makeRe=X.getPatternParts=X.expandBraceExpansion=X.expandPatternsWithBraceExpansion=X.isAffectDepthOfReadingPattern=X.endsWithSlashGlobStar=X.hasGlobStar=X.getBaseDirectory=X.isPatternRelatedToParentDirectory=X.getPatternsOutsideCurrentDirectory=X.getPatternsInsideCurrentDirectory=X.getPositivePatterns=X.getNegativePatterns=X.isPositivePattern=X.isNegativePattern=X.convertToNegativePattern=X.convertToPositivePattern=X.isDynamicPattern=X.isStaticPattern=void 0;var iH=N("path"),aH=_N(),tg=vP(),IP="**",cH="\\",dH=/[*?]|^!/,lH=/\[[^[]*]/,uH=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,fH=/[!*+?@]\([^(]*\)/,hH=/,|\.\./;function DP(t,e={}){return!BP(t,e)}X.isStaticPattern=DP;function BP(t,e={}){return t===""?!1:!!(e.caseSensitiveMatch===!1||t.includes(cH)||dH.test(t)||lH.test(t)||uH.test(t)||e.extglob!==!1&&fH.test(t)||e.braceExpansion!==!1&&mH(t))}X.isDynamicPattern=BP;function mH(t){let e=t.indexOf("{");if(e===-1)return!1;let r=t.indexOf("}",e+1);if(r===-1)return!1;let n=t.slice(e,r);return hH.test(n)}function pH(t){return Fu(t)?t.slice(1):t}X.convertToPositivePattern=pH;function yH(t){return"!"+t}X.convertToNegativePattern=yH;function Fu(t){return t.startsWith("!")&&t[1]!=="("}X.isNegativePattern=Fu;function MP(t){return!Fu(t)}X.isPositivePattern=MP;function gH(t){return t.filter(Fu)}X.getNegativePatterns=gH;function EH(t){return t.filter(MP)}X.getPositivePatterns=EH;function SH(t){return t.filter(e=>!rg(e))}X.getPatternsInsideCurrentDirectory=SH;function wH(t){return t.filter(rg)}X.getPatternsOutsideCurrentDirectory=wH;function rg(t){return t.startsWith("..")||t.startsWith("./..")}X.isPatternRelatedToParentDirectory=rg;function xH(t){return aH(t,{flipBackslashes:!1})}X.getBaseDirectory=xH;function CH(t){return t.includes(IP)}X.hasGlobStar=CH;function LP(t){return t.endsWith("/"+IP)}X.endsWithSlashGlobStar=LP;function bH(t){let e=iH.basename(t);return LP(t)||DP(e)}X.isAffectDepthOfReadingPattern=bH;function _H(t){return t.reduce((e,r)=>e.concat(FP(r)),[])}X.expandPatternsWithBraceExpansion=_H;function FP(t){return tg.braces(t,{expand:!0,nodupes:!0})}X.expandBraceExpansion=FP;function RH(t,e){let{parts:r}=tg.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return r.length===0&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}X.getPatternParts=RH;function UP(t,e){return tg.makeRe(t,e)}X.makeRe=UP;function AH(t,e){return t.map(r=>UP(r,e))}X.convertPatternsToRe=AH;function kH(t,e){return e.some(r=>r.test(t))}X.matchAny=kH});var qP=C(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.merge=void 0;var TH=My();function NH(t){let e=TH(t);return t.forEach(r=>{r.once("error",n=>e.emit("error",n))}),e.once("close",()=>$P(t)),e.once("end",()=>$P(t)),e}Uu.merge=NH;function $P(t){t.forEach(e=>e.emit("close"))}});var HP=C(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.isEmpty=ia.isString=void 0;function PH(t){return typeof t=="string"}ia.isString=PH;function OH(t){return t===""}ia.isEmpty=OH});var On=C(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.string=Ct.stream=Ct.pattern=Ct.path=Ct.fs=Ct.errno=Ct.array=void 0;var vH=mN();Ct.array=vH;var IH=pN();Ct.errno=IH;var DH=yN();Ct.fs=DH;var BH=gN();Ct.path=BH;var MH=zP();Ct.pattern=MH;var LH=qP();Ct.stream=LH;var FH=HP();Ct.string=FH});var KP=C(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.convertPatternGroupToTask=bt.convertPatternGroupsToTasks=bt.groupPatternsByBaseDirectory=bt.getNegativePatternsAsPositive=bt.getPositivePatterns=bt.convertPatternsToTasks=bt.generate=void 0;var vn=On();function UH(t,e){let r=jP(t),n=GP(t,e.ignore),s=r.filter(c=>vn.pattern.isStaticPattern(c,e)),o=r.filter(c=>vn.pattern.isDynamicPattern(c,e)),i=ng(s,n,!1),a=ng(o,n,!0);return i.concat(a)}bt.generate=UH;function ng(t,e,r){let n=[],s=vn.pattern.getPatternsOutsideCurrentDirectory(t),o=vn.pattern.getPatternsInsideCurrentDirectory(t),i=sg(s),a=sg(o);return n.push(...og(i,e,r)),"."in a?n.push(ig(".",o,e,r)):n.push(...og(a,e,r)),n}bt.convertPatternsToTasks=ng;function jP(t){return vn.pattern.getPositivePatterns(t)}bt.getPositivePatterns=jP;function GP(t,e){return vn.pattern.getNegativePatterns(t).concat(e).map(vn.pattern.convertToPositivePattern)}bt.getNegativePatternsAsPositive=GP;function sg(t){let e={};return t.reduce((r,n)=>{let s=vn.pattern.getBaseDirectory(n);return s in r?r[s].push(n):r[s]=[n],r},e)}bt.groupPatternsByBaseDirectory=sg;function og(t,e,r){return Object.keys(t).map(n=>ig(n,t[n],e,r))}bt.convertPatternGroupsToTasks=og;function ig(t,e,r,n){return{dynamic:n,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(vn.pattern.convertToNegativePattern))}}bt.convertPatternGroupToTask=ig});var WP=C(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.removeDuplicateSlashes=aa.transform=void 0;var zH=/(?!^)\/{2,}/g;function $H(t){return t.map(e=>VP(e))}aa.transform=$H;function VP(t){return t.replace(zH,"/")}aa.removeDuplicateSlashes=VP});var XP=C(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.read=void 0;function qH(t,e,r){e.fs.lstat(t,(n,s)=>{if(n!==null){YP(r,n);return}if(!s.isSymbolicLink()||!e.followSymbolicLink){ag(r,s);return}e.fs.stat(t,(o,i)=>{if(o!==null){if(e.throwErrorOnBrokenSymbolicLink){YP(r,o);return}ag(r,s);return}e.markSymbolicLink&&(i.isSymbolicLink=()=>!0),ag(r,i)})})}zu.read=qH;function YP(t,e){t(e)}function ag(t,e){t(null,e)}});var QP=C($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.read=void 0;function HH(t,e){let r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{let n=e.fs.statSync(t);return e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw n}}$u.read=HH});var ZP=C(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.createFileSystemAdapter=Us.FILE_SYSTEM_ADAPTER=void 0;var qu=N("fs");Us.FILE_SYSTEM_ADAPTER={lstat:qu.lstat,stat:qu.stat,lstatSync:qu.lstatSync,statSync:qu.statSync};function jH(t){return t===void 0?Us.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Us.FILE_SYSTEM_ADAPTER),t)}Us.createFileSystemAdapter=jH});var JP=C(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});var GH=ZP(),cg=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=GH.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,r){return e??r}};dg.default=cg});var Ro=C(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.statSync=zs.stat=zs.Settings=void 0;var eO=XP(),KH=QP(),lg=JP();zs.Settings=lg.default;function VH(t,e,r){if(typeof e=="function"){eO.read(t,ug(),e);return}eO.read(t,ug(e),r)}zs.stat=VH;function WH(t,e){let r=ug(e);return KH.read(t,r)}zs.statSync=WH;function ug(t={}){return t instanceof lg.default?t:new lg.default(t)}});var nO=C((Ofe,rO)=>{var tO;rO.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):t=>(tO||(tO=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var oO=C((vfe,sO)=>{sO.exports=XH;var YH=nO();function XH(t,e){let r,n,s,o=!0;Array.isArray(t)?(r=[],n=t.length):(s=Object.keys(t),r={},n=s.length);function i(c){function d(){e&&e(c,r),e=null}o?YH(d):d()}function a(c,d,l){r[c]=l,(--n===0||d)&&i(d)}n?s?s.forEach(function(c){t[c](function(d,l){a(c,d,l)})}):t.forEach(function(c,d){c(function(l,f){a(d,l,f)})}):i(null),o=!1}});var fg=C(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Hu=process.versions.node.split(".");if(Hu[0]===void 0||Hu[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var iO=Number.parseInt(Hu[0],10),QH=Number.parseInt(Hu[1],10),aO=10,ZH=10,JH=iO>aO,ej=iO===aO&&QH>=ZH;ju.IS_SUPPORT_READDIR_WITH_FILE_TYPES=JH||ej});var cO=C(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.createDirentFromStats=void 0;var hg=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function tj(t,e){return new hg(t,e)}Gu.createDirentFromStats=tj});var mg=C(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.fs=void 0;var rj=cO();Ku.fs=rj});var pg=C(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.joinPathSegments=void 0;function nj(t,e,r){return t.endsWith(r)?t+e:t+r+e}Vu.joinPathSegments=nj});var mO=C($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.readdir=$s.readdirWithFileTypes=$s.read=void 0;var sj=Ro(),dO=oO(),oj=fg(),lO=mg(),uO=pg();function ij(t,e,r){if(!e.stats&&oj.IS_SUPPORT_READDIR_WITH_FILE_TYPES){fO(t,e,r);return}hO(t,e,r)}$s.read=ij;function fO(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(n,s)=>{if(n!==null){Wu(r,n);return}let o=s.map(a=>({dirent:a,name:a.name,path:uO.joinPathSegments(t,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){yg(r,o);return}let i=o.map(a=>aj(a,e));dO(i,(a,c)=>{if(a!==null){Wu(r,a);return}yg(r,c)})})}$s.readdirWithFileTypes=fO;function aj(t,e){return r=>{if(!t.dirent.isSymbolicLink()){r(null,t);return}e.fs.stat(t.path,(n,s)=>{if(n!==null){if(e.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,t);return}t.dirent=lO.fs.createDirentFromStats(t.name,s),r(null,t)})}}function hO(t,e,r){e.fs.readdir(t,(n,s)=>{if(n!==null){Wu(r,n);return}let o=s.map(i=>{let a=uO.joinPathSegments(t,i,e.pathSegmentSeparator);return c=>{sj.stat(a,e.fsStatSettings,(d,l)=>{if(d!==null){c(d);return}let f={name:i,path:a,dirent:lO.fs.createDirentFromStats(i,l)};e.stats&&(f.stats=l),c(null,f)})}});dO(o,(i,a)=>{if(i!==null){Wu(r,i);return}yg(r,a)})})}$s.readdir=hO;function Wu(t,e){t(e)}function yg(t,e){t(null,e)}});var SO=C(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.readdir=qs.readdirWithFileTypes=qs.read=void 0;var cj=Ro(),dj=fg(),pO=mg(),yO=pg();function lj(t,e){return!e.stats&&dj.IS_SUPPORT_READDIR_WITH_FILE_TYPES?gO(t,e):EO(t,e)}qs.read=lj;function gO(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(n=>{let s={dirent:n,name:n.name,path:yO.joinPathSegments(t,n.name,e.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let o=e.fs.statSync(s.path);s.dirent=pO.fs.createDirentFromStats(s.name,o)}catch(o){if(e.throwErrorOnBrokenSymbolicLink)throw o}return s})}qs.readdirWithFileTypes=gO;function EO(t,e){return e.fs.readdirSync(t).map(n=>{let s=yO.joinPathSegments(t,n,e.pathSegmentSeparator),o=cj.statSync(s,e.fsStatSettings),i={name:n,path:s,dirent:pO.fs.createDirentFromStats(n,o)};return e.stats&&(i.stats=o),i})}qs.readdir=EO});var wO=C(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.createFileSystemAdapter=Hs.FILE_SYSTEM_ADAPTER=void 0;var ca=N("fs");Hs.FILE_SYSTEM_ADAPTER={lstat:ca.lstat,stat:ca.stat,lstatSync:ca.lstatSync,statSync:ca.statSync,readdir:ca.readdir,readdirSync:ca.readdirSync};function uj(t){return t===void 0?Hs.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Hs.FILE_SYSTEM_ADAPTER),t)}Hs.createFileSystemAdapter=uj});var xO=C(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});var fj=N("path"),hj=Ro(),mj=wO(),gg=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=mj.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,fj.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new hj.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};Eg.default=gg});var Yu=C(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.Settings=js.scandirSync=js.scandir=void 0;var CO=mO(),pj=SO(),Sg=xO();js.Settings=Sg.default;function yj(t,e,r){if(typeof e=="function"){CO.read(t,wg(),e);return}CO.read(t,wg(e),r)}js.scandir=yj;function gj(t,e){let r=wg(e);return pj.read(t,r)}js.scandirSync=gj;function wg(t={}){return t instanceof Sg.default?t:new Sg.default(t)}});var _O=C((qfe,bO)=>{"use strict";function Ej(t){var e=new t,r=e;function n(){var o=e;return o.next?e=o.next:(e=new t,r=e),o.next=null,o}function s(o){r.next=o,r=o}return{get:n,release:s}}bO.exports=Ej});var AO=C((Hfe,xg)=>{"use strict";var Sj=_O();function RO(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Sj(wj),s=null,o=null,i=0,a=null,c={push:x,drain:yr,saturated:yr,pause:l,paused:!1,concurrency:r,running:d,resume:g,idle:y,length:f,getQueue:u,unshift:R,empty:yr,kill:se,killAndDrain:Z,error:$e};return c;function d(){return i}function l(){c.paused=!0}function f(){for(var Q=s,Ce=0;Q;)Q=Q.next,Ce++;return Ce}function u(){for(var Q=s,Ce=[];Q;)Ce.push(Q.value),Q=Q.next;return Ce}function g(){if(c.paused){c.paused=!1;for(var Q=0;Q<c.concurrency;Q++)i++,v()}}function y(){return i===0&&c.length()===0}function x(Q,Ce){var te=n.get();te.context=t,te.release=v,te.value=Q,te.callback=Ce||yr,te.errorHandler=a,i===c.concurrency||c.paused?o?(o.next=te,o=te):(s=te,o=te,c.saturated()):(i++,e.call(t,te.value,te.worked))}function R(Q,Ce){var te=n.get();te.context=t,te.release=v,te.value=Q,te.callback=Ce||yr,i===c.concurrency||c.paused?s?(te.next=s,s=te):(s=te,o=te,c.saturated()):(i++,e.call(t,te.value,te.worked))}function v(Q){Q&&n.release(Q);var Ce=s;Ce?c.paused?i--:(o===s&&(o=null),s=Ce.next,Ce.next=null,e.call(t,Ce.value,Ce.worked),o===null&&c.empty()):--i===0&&c.drain()}function se(){s=null,o=null,c.drain=yr}function Z(){s=null,o=null,c.drain(),c.drain=yr}function $e(Q){a=Q}}function yr(){}function wj(){this.value=null,this.callback=yr,this.next=null,this.release=yr,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,n){var s=t.callback,o=t.errorHandler,i=t.value;t.value=null,t.callback=yr,t.errorHandler&&o(r,i),s.call(t.context,r,n),t.release(t)}}function xj(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function n(l,f){e.call(this,l).then(function(u){f(null,u)},f)}var s=RO(t,n,r),o=s.push,i=s.unshift;return s.push=a,s.unshift=c,s.drained=d,s;function a(l){var f=new Promise(function(u,g){o(l,function(y,x){if(y){g(y);return}u(x)})});return f.catch(yr),f}function c(l){var f=new Promise(function(u,g){i(l,function(y,x){if(y){g(y);return}u(x)})});return f.catch(yr),f}function d(){if(s.idle())return new Promise(function(u){u()});var l=s.drain,f=new Promise(function(u){s.drain=function(){l(),u()}});return f}}xg.exports=RO;xg.exports.promise=xj});var Xu=C(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.joinPathSegments=Zr.replacePathSegmentSeparator=Zr.isAppliedFilter=Zr.isFatalError=void 0;function Cj(t,e){return t.errorFilter===null?!0:!t.errorFilter(e)}Zr.isFatalError=Cj;function bj(t,e){return t===null||t(e)}Zr.isAppliedFilter=bj;function _j(t,e){return t.split(/[/\\]/).join(e)}Zr.replacePathSegmentSeparator=_j;function Rj(t,e,r){return t===""?e:t.endsWith(r)?t+e:t+r+e}Zr.joinPathSegments=Rj});var _g=C(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});var Aj=Xu(),Cg=class{constructor(e,r){this._root=e,this._settings=r,this._root=Aj.replacePathSegmentSeparator(e,r.pathSegmentSeparator)}};bg.default=Cg});var kg=C(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});var kj=N("events"),Tj=Yu(),Nj=AO(),Qu=Xu(),Pj=_g(),Rg=class extends Pj.default{constructor(e,r){super(e,r),this._settings=r,this._scandir=Tj.scandir,this._emitter=new kj.EventEmitter,this._queue=Nj(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,r){let n={directory:e,base:r};this._queue.push(n,s=>{s!==null&&this._handleError(s)})}_worker(e,r){this._scandir(e.directory,this._settings.fsScandirSettings,(n,s)=>{if(n!==null){r(n,void 0);return}for(let o of s)this._handleEntry(o,e.base);r(null,void 0)})}_handleError(e){this._isDestroyed||!Qu.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,r){if(this._isDestroyed||this._isFatalError)return;let n=e.path;r!==void 0&&(e.path=Qu.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),Qu.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&Qu.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};Ag.default=Rg});var kO=C(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});var Oj=kg(),Tg=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new Oj.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(r=>{vj(e,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{Ij(e,this._storage)}),this._reader.read()}};Ng.default=Tg;function vj(t,e){t(e)}function Ij(t,e){t(null,e)}});var TO=C(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});var Dj=N("stream"),Bj=kg(),Pg=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new Bj.default(this._root,this._settings),this._stream=new Dj.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Og.default=Pg});var NO=C(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});var Mj=Yu(),Zu=Xu(),Lj=_g(),vg=class extends Lj.default{constructor(){super(...arguments),this._scandir=Mj.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,r){this._queue.add({directory:e,base:r})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,r){try{let n=this._scandir(e,this._settings.fsScandirSettings);for(let s of n)this._handleEntry(s,r)}catch(n){this._handleError(n)}}_handleError(e){if(Zu.isFatalError(this._settings,e))throw e}_handleEntry(e,r){let n=e.path;r!==void 0&&(e.path=Zu.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),Zu.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Zu.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};Ig.default=vg});var PO=C(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});var Fj=NO(),Dg=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new Fj.default(this._root,this._settings)}read(){return this._reader.read()}};Bg.default=Dg});var OO=C(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});var Uj=N("path"),zj=Yu(),Mg=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Uj.sep),this.fsScandirSettings=new zj.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};Lg.default=Mg});var ef=C(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.Settings=Jr.walkStream=Jr.walkSync=Jr.walk=void 0;var vO=kO(),$j=TO(),qj=PO(),Fg=OO();Jr.Settings=Fg.default;function Hj(t,e,r){if(typeof e=="function"){new vO.default(t,Ju()).read(e);return}new vO.default(t,Ju(e)).read(r)}Jr.walk=Hj;function jj(t,e){let r=Ju(e);return new qj.default(t,r).read()}Jr.walkSync=jj;function Gj(t,e){let r=Ju(e);return new $j.default(t,r).read()}Jr.walkStream=Gj;function Ju(t={}){return t instanceof Fg.default?t:new Fg.default(t)}});var tf=C(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});var Kj=N("path"),Vj=Ro(),IO=On(),Ug=class{constructor(e){this._settings=e,this._fsStatSettings=new Vj.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return Kj.resolve(this._settings.cwd,e)}_makeEntry(e,r){let n={name:r,path:r,dirent:IO.fs.createDirentFromStats(r,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!IO.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};zg.default=Ug});var Hg=C(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});var Wj=N("stream"),Yj=Ro(),Xj=ef(),Qj=tf(),$g=class extends Qj.default{constructor(){super(...arguments),this._walkStream=Xj.walkStream,this._stat=Yj.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){let n=e.map(this._getFullEntryPath,this),s=new Wj.PassThrough({objectMode:!0});s._write=(o,i,a)=>this._getEntry(n[o],e[o],r).then(c=>{c!==null&&r.entryFilter(c)&&s.push(c),o===n.length-1&&s.end(),a()}).catch(a);for(let o=0;o<n.length;o++)s.write(o);return s}_getEntry(e,r,n){return this._getStat(e).then(s=>this._makeEntry(s,r)).catch(s=>{if(n.errorFilter(s))return null;throw s})}_getStat(e){return new Promise((r,n)=>{this._stat(e,this._fsStatSettings,(s,o)=>s===null?r(o):n(s))})}};qg.default=$g});var DO=C(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});var Zj=ef(),Jj=tf(),eG=Hg(),jg=class extends Jj.default{constructor(){super(...arguments),this._walkAsync=Zj.walk,this._readerStream=new eG.default(this._settings)}dynamic(e,r){return new Promise((n,s)=>{this._walkAsync(e,r,(o,i)=>{o===null?n(i):s(o)})})}async static(e,r){let n=[],s=this._readerStream.static(e,r);return new Promise((o,i)=>{s.once("error",i),s.on("data",a=>n.push(a)),s.once("end",()=>o(n))})}};Gg.default=jg});var BO=C(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});var da=On(),Kg=class{constructor(e,r,n){this._patterns=e,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let e=da.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of e){let n=this._getPatternSegments(r),s=this._splitSegmentsIntoSections(n);this._storage.push({complete:s.length<=1,pattern:r,segments:n,sections:s})}}_getPatternSegments(e){return da.pattern.getPatternParts(e,this._micromatchOptions).map(n=>da.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:da.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(e){return da.array.splitWhen(e,r=>r.dynamic&&da.pattern.hasGlobStar(r.pattern))}};Vg.default=Kg});var MO=C(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});var tG=BO(),Wg=class extends tG.default{match(e){let r=e.split("/"),n=r.length,s=this._storage.filter(o=>!o.complete||o.segments.length>n);for(let o of s){let i=o.sections[0];if(!o.complete&&n>i.length||r.every((c,d)=>{let l=o.segments[d];return!!(l.dynamic&&l.patternRe.test(c)||!l.dynamic&&l.pattern===c)}))return!0}return!1}};Yg.default=Wg});var LO=C(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});var rf=On(),rG=MO(),Xg=class{constructor(e,r){this._settings=e,this._micromatchOptions=r}getFilter(e,r,n){let s=this._getMatcher(r),o=this._getNegativePatternsRe(n);return i=>this._filter(e,i,s,o)}_getMatcher(e){return new rG.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let r=e.filter(rf.pattern.isAffectDepthOfReadingPattern);return rf.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(e,r,n,s){if(this._isSkippedByDeep(e,r.path)||this._isSkippedSymbolicLink(r))return!1;let o=rf.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(o,n)?!1:this._isSkippedByNegativePatterns(o,s)}_isSkippedByDeep(e,r){return this._settings.deep===1/0?!1:this._getEntryLevel(e,r)>=this._settings.deep}_getEntryLevel(e,r){let n=r.split("/").length;if(e==="")return n;let s=e.split("/").length;return n-s}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,r){return!this._settings.baseNameMatch&&!r.match(e)}_isSkippedByNegativePatterns(e,r){return!rf.pattern.matchAny(e,r)}};Qg.default=Xg});var FO=C(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});var Ao=On(),Zg=class{constructor(e,r){this._settings=e,this._micromatchOptions=r,this.index=new Map}getFilter(e,r){let n=Ao.pattern.convertPatternsToRe(e,this._micromatchOptions),s=Ao.pattern.convertPatternsToRe(r,this._micromatchOptions);return o=>this._filter(o,n,s)}_filter(e,r,n){if(this._settings.unique&&this._isDuplicateEntry(e)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(e.path,n))return!1;let s=this._settings.baseNameMatch?e.name:e.path,o=e.dirent.isDirectory(),i=this._isMatchToPatterns(s,r,o)&&!this._isMatchToPatterns(e.path,n,o);return this._settings.unique&&i&&this._createIndexRecord(e),i}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,r){if(!this._settings.absolute)return!1;let n=Ao.path.makeAbsolute(this._settings.cwd,e);return Ao.pattern.matchAny(n,r)}_isMatchToPatterns(e,r,n){let s=Ao.path.removeLeadingDotSegment(e),o=Ao.pattern.matchAny(s,r);return!o&&n?Ao.pattern.matchAny(s+"/",r):o}};Jg.default=Zg});var UO=C(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});var nG=On(),eE=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return nG.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};tE.default=eE});var $O=C(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});var zO=On(),rE=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let r=e.path;return this._settings.absolute&&(r=zO.path.makeAbsolute(this._settings.cwd,r),r=zO.path.unixify(r)),this._settings.markDirectories&&e.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:r}):r}};nE.default=rE});var nf=C(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});var sG=N("path"),oG=LO(),iG=FO(),aG=UO(),cG=$O(),sE=class{constructor(e){this._settings=e,this.errorFilter=new aG.default(this._settings),this.entryFilter=new iG.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new oG.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new cG.default(this._settings)}_getRootDirectory(e){return sG.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let r=e.base==="."?"":e.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};oE.default=sE});var qO=C(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});var dG=DO(),lG=nf(),iE=class extends lG.default{constructor(){super(...arguments),this._reader=new dG.default(this._settings)}async read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return(await this.api(r,e,n)).map(o=>n.transform(o))}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};aE.default=iE});var HO=C(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});var uG=N("stream"),fG=Hg(),hG=nf(),cE=class extends hG.default{constructor(){super(...arguments),this._reader=new fG.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),s=this.api(r,e,n),o=new uG.Readable({objectMode:!0,read:()=>{}});return s.once("error",i=>o.emit("error",i)).on("data",i=>o.emit("data",n.transform(i))).once("end",()=>o.emit("end")),o.once("close",()=>s.destroy()),o}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};dE.default=cE});var jO=C(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});var mG=Ro(),pG=ef(),yG=tf(),lE=class extends yG.default{constructor(){super(...arguments),this._walkSync=pG.walkSync,this._statSync=mG.statSync}dynamic(e,r){return this._walkSync(e,r)}static(e,r){let n=[];for(let s of e){let o=this._getFullEntryPath(s),i=this._getEntry(o,s,r);i===null||!r.entryFilter(i)||n.push(i)}return n}_getEntry(e,r,n){try{let s=this._getStat(e);return this._makeEntry(s,r)}catch(s){if(n.errorFilter(s))return null;throw s}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};uE.default=lE});var GO=C(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});var gG=jO(),EG=nf(),fE=class extends EG.default{constructor(){super(...arguments),this._reader=new gG.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(r,e,n).map(n.transform)}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};hE.default=fE});var KO=C(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var la=N("fs"),SG=N("os"),wG=Math.max(SG.cpus().length,1);ua.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:la.lstat,lstatSync:la.lstatSync,stat:la.stat,statSync:la.statSync,readdir:la.readdir,readdirSync:la.readdirSync};var mE=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,wG),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},ua.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};ua.default=mE});var EE=C((mhe,YO)=>{"use strict";var VO=KP(),WO=WP(),xG=qO(),CG=HO(),bG=GO(),pE=KO(),ko=On();async function yE(t,e){fa(t);let r=gE(t,xG.default,e),n=await Promise.all(r);return ko.array.flatten(n)}(function(t){function e(i,a){fa(i);let c=gE(i,bG.default,a);return ko.array.flatten(c)}t.sync=e;function r(i,a){fa(i);let c=gE(i,CG.default,a);return ko.stream.merge(c)}t.stream=r;function n(i,a){fa(i);let c=WO.transform([].concat(i)),d=new pE.default(a);return VO.generate(c,d)}t.generateTasks=n;function s(i,a){fa(i);let c=new pE.default(a);return ko.pattern.isDynamicPattern(i,c)}t.isDynamicPattern=s;function o(i){return fa(i),ko.path.escape(i)}t.escapePath=o})(yE||(yE={}));function gE(t,e,r){let n=WO.transform([].concat(t)),s=new pE.default(r),o=VO.generate(n,s),i=new e(s);return o.map(i.read,i)}function fa(t){if(![].concat(t).every(n=>ko.string.isString(n)&&!ko.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}YO.exports=yE});var QO=C(To=>{"use strict";var{promisify:_G}=N("util"),XO=N("fs");async function SE(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await _G(XO[t])(r))[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function wE(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return XO[t](r)[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}To.isFile=SE.bind(null,"stat","isFile");To.isDirectory=SE.bind(null,"stat","isDirectory");To.isSymlink=SE.bind(null,"lstat","isSymbolicLink");To.isFileSync=wE.bind(null,"statSync","isFile");To.isDirectorySync=wE.bind(null,"statSync","isDirectory");To.isSymlinkSync=wE.bind(null,"lstatSync","isSymbolicLink")});var rv=C((yhe,xE)=>{"use strict";var No=N("path"),ZO=QO(),JO=t=>t.length>1?`{${t.join(",")}}`:t[0],ev=(t,e)=>{let r=t[0]==="!"?t.slice(1):t;return No.isAbsolute(r)?r:No.join(e,r)},RG=(t,e)=>No.extname(t)?`**/${t}`:`**/${t}.${JO(e)}`,tv=(t,e)=>{if(e.files&&!Array.isArray(e.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof e.files}\``);if(e.extensions&&!Array.isArray(e.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof e.extensions}\``);return e.files&&e.extensions?e.files.map(r=>No.posix.join(t,RG(r,e.extensions))):e.files?e.files.map(r=>No.posix.join(t,`**/${r}`)):e.extensions?[No.posix.join(t,`**/*.${JO(e.extensions)}`)]:[No.posix.join(t,"**")]};xE.exports=async(t,e)=>{if(e={cwd:process.cwd(),...e},typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=await Promise.all([].concat(t).map(async n=>await ZO.isDirectory(ev(n,e.cwd))?tv(n,e):n));return[].concat.apply([],r)};xE.exports.sync=(t,e)=>{if(e={cwd:process.cwd(),...e},typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=[].concat(t).map(n=>ZO.isDirectorySync(ev(n,e.cwd))?tv(n,e):n);return[].concat.apply([],r)}});var fv=C((ghe,uv)=>{function nv(t){return Array.isArray(t)?t:[t]}var av="",sv=" ",CE="\\",AG=/^\s+$/,kG=/(?:[^\\]|^)\\$/,TG=/^\\!/,NG=/^\\#/,PG=/\r?\n/g,OG=/^\.*\/|^\.+$/,bE="/",cv="node-ignore";typeof Symbol<"u"&&(cv=Symbol.for("node-ignore"));var ov=cv,vG=(t,e,r)=>Object.defineProperty(t,e,{value:r}),IG=/([0-z])-([0-z])/g,dv=()=>!1,DG=t=>t.replace(IG,(e,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?e:av),BG=t=>{let{length:e}=t;return t.slice(0,e-e%2)},MG=[[/\\?\s+$/,t=>t.indexOf("\\")===0?sv:av],[/\\\s/g,()=>sv],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(t,e,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return e+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>CE],[/\\\\/g,()=>CE],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,s)=>e===CE?`\\[${r}${BG(n)}${s}`:s==="]"&&n.length%2===0?`[${DG(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],iv=Object.create(null),LG=(t,e)=>{let r=iv[t];return r||(r=MG.reduce((n,s)=>n.replace(s[0],s[1].bind(t)),t),iv[t]=r),e?new RegExp(r,"i"):new RegExp(r)},AE=t=>typeof t=="string",FG=t=>t&&AE(t)&&!AG.test(t)&&!kG.test(t)&&t.indexOf("#")!==0,UG=t=>t.split(PG),_E=class{constructor(e,r,n,s){this.origin=e,this.pattern=r,this.negative=n,this.regex=s}},zG=(t,e)=>{let r=t,n=!1;t.indexOf("!")===0&&(n=!0,t=t.substr(1)),t=t.replace(TG,"!").replace(NG,"#");let s=LG(t,e);return new _E(r,t,n,s)},$G=(t,e)=>{throw new e(t)},In=(t,e,r)=>AE(t)?t?In.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),lv=t=>OG.test(t);In.isNotRelative=lv;In.convert=t=>t;var RE=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:n=!1}={}){vG(this,ov,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[ov]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(FG(e)){let r=zG(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,nv(AE(e)?UG(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let n=!1,s=!1;return this._rules.forEach(o=>{let{negative:i}=o;if(s===i&&n!==s||i&&!n&&!s&&!r)return;o.regex.test(e)&&(n=!i,s=i)}),{ignored:n,unignored:s}}_test(e,r,n,s){let o=e&&In.convert(e);return In(o,e,this._allowRelativePaths?dv:$G),this._t(o,r,n,s)}_t(e,r,n,s){if(e in r)return r[e];if(s||(s=e.split(bE)),s.pop(),!s.length)return r[e]=this._testOne(e,n);let o=this._t(s.join(bE)+bE,r,n,s);return r[e]=o.ignored?o:this._testOne(e,n)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return nv(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},sf=t=>new RE(t),qG=t=>In(t&&In.convert(t),t,dv);sf.isPathValid=qG;sf.default=sf;uv.exports=sf;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");In.convert=t;let e=/^[a-z]:\//i;In.isNotRelative=r=>e.test(r)||lv(r)}});var _t=jt(kf(),1);import{posix as tK}from"node:path";import{PassThrough as rK}from"node:stream";import{setInterval as nK,clearInterval as sK}from"node:timers";var Rr=class{trace(){}debug(){}info(){}warn(){}error(){}};var Fo=()=>{let t=[],e=[],r=new Set,n=l=>l.sort((f,u)=>kS[u.step]-kS[f.step]||TS[u.priority||"normal"]-TS[f.priority||"normal"]),s=l=>{let f=!1,u=g=>g.name&&g.name===l?(f=!0,r.delete(l),!1):!0;return t=t.filter(u),e=e.filter(u),f},o=l=>{let f=!1,u=g=>g.middleware===l?(f=!0,g.name&&r.delete(g.name),!1):!0;return t=t.filter(u),e=e.filter(u),f},i=l=>(t.forEach(f=>{l.add(f.middleware,{...f})}),e.forEach(f=>{l.addRelativeTo(f.middleware,{...f})}),l),a=l=>{let f=[];return l.before.forEach(u=>{u.before.length===0&&u.after.length===0?f.push(u):f.push(...a(u))}),f.push(l),l.after.reverse().forEach(u=>{u.before.length===0&&u.after.length===0?f.push(u):f.push(...a(u))}),f},c=(l=!1)=>{let f=[],u=[],g={};return t.forEach(x=>{let R={...x,before:[],after:[]};R.name&&(g[R.name]=R),f.push(R)}),e.forEach(x=>{let R={...x,before:[],after:[]};R.name&&(g[R.name]=R),u.push(R)}),u.forEach(x=>{if(x.toMiddleware){let R=g[x.toMiddleware];if(R===void 0){if(l)return;throw new Error(`${x.toMiddleware} is not found when adding ${x.name||"anonymous"} middleware ${x.relation} ${x.toMiddleware}`)}x.relation==="after"&&R.after.push(x),x.relation==="before"&&R.before.push(x)}}),n(f).map(a).reduce((x,R)=>(x.push(...R),x),[])},d={add:(l,f={})=>{let{name:u,override:g}=f,y={step:"initialize",priority:"normal",middleware:l,...f};if(u){if(r.has(u)){if(!g)throw new Error(`Duplicate middleware name '${u}'`);let x=t.findIndex(v=>v.name===u),R=t[x];if(R.step!==y.step||R.priority!==y.priority)throw new Error(`"${u}" middleware with ${R.priority} priority in ${R.step} step cannot be overridden by same-name middleware with ${y.priority} priority in ${y.step} step.`);t.splice(x,1)}r.add(u)}t.push(y)},addRelativeTo:(l,f)=>{let{name:u,override:g}=f,y={middleware:l,...f};if(u){if(r.has(u)){if(!g)throw new Error(`Duplicate middleware name '${u}'`);let x=e.findIndex(v=>v.name===u),R=e[x];if(R.toMiddleware!==y.toMiddleware||R.relation!==y.relation)throw new Error(`"${u}" middleware ${R.relation} "${R.toMiddleware}" middleware cannot be overridden by same-name middleware ${y.relation} "${y.toMiddleware}" middleware.`);e.splice(x,1)}r.add(u)}e.push(y)},clone:()=>i(Fo()),use:l=>{l.applyToStack(d)},remove:l=>typeof l=="string"?s(l):o(l),removeByTag:l=>{let f=!1,u=g=>{let{tags:y,name:x}=g;return y&&y.includes(l)?(x&&r.delete(x),f=!0,!1):!0};return t=t.filter(u),e=e.filter(u),f},concat:l=>{let f=i(Fo());return f.use(l),f},applyToStack:i,identify:()=>c(!0).map(l=>l.name+": "+(l.tags||[]).join(",")),resolve:(l,f)=>{for(let u of c().map(g=>g.middleware).reverse())l=u(l,f);return l}};return d},kS={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},TS={high:3,normal:2,low:1};var Ar=class{constructor(e){this.middlewareStack=Fo(),this.config=e}send(e,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=e.resolveMiddleware(this.middlewareStack,this.config,s);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var Be=class{constructor(){this.middlewareStack=Fo()}};var Me="***SensitiveInformation***";var Vs=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};var yD=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&BS.warn(DS(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},gD=Math.ceil(34028234663852886e22),NS=t=>{let e=yD(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>gD)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},Xc=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};var Qc=t=>Df(t,32),PS=t=>Df(t,16),OS=t=>Df(t,8),Df=(t,e)=>{let r=Xc(t);if(r!==void 0&&ED(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},ED=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},it=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},zn=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},L=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return BS.warn(DS(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};var vS=t=>NS(typeof t=="string"?Ea(t):t),SD=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ea=t=>{let e=t.match(SD);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)};var Bf=t=>Xc(typeof t=="string"?Ea(t):t);var Ws=t=>Qc(typeof t=="string"?Ea(t):t),Sa=t=>PS(typeof t=="string"?Ea(t):t),IS=t=>OS(typeof t=="string"?Ea(t):t),DS=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),BS={warn:console.warn};var wD=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Lf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ff(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),s=t.getUTCDate(),o=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${wD[n]}, ${c} ${Lf[r]} ${e} ${d}:${l}:${f} GMT`}var S6=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var xD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Uf=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=xD.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,d,l]=e,f=Sa(wa(n)),u=$n(s,"month",1,12),g=$n(o,"day",1,31),y=Zc(f,u,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&y.setTime(y.getTime()-vD(l)),y},CD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),bD=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),_D=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),zf=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=CD.exec(t);if(e){let[r,n,s,o,i,a,c,d]=e;return Zc(Sa(wa(o)),Mf(s),$n(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(e=bD.exec(t),e){let[r,n,s,o,i,a,c,d]=e;return kD(Zc(RD(o),Mf(s),$n(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(e=_D.exec(t),e){let[r,n,s,o,i,a,c,d]=e;return Zc(Sa(wa(d)),Mf(n),$n(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")};var Zc=(t,e,r,n)=>{let s=e-1;return ND(t,s,r),new Date(Date.UTC(t,s,r,$n(n.hours,"hour",0,23),$n(n.minutes,"minute",0,59),$n(n.seconds,"seconds",0,60),OD(n.fractionalMilliseconds)))},RD=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+Sa(wa(t));return r<e?r+100:r},AD=50*365*24*60*60*1e3,kD=t=>t.getTime()-new Date().getTime()>AD?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,Mf=t=>{let e=Lf.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},TD=[31,28,31,30,31,30,31,31,30,31,30,31],ND=(t,e,r)=>{let n=TD[e];if(e===1&&PD(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Lf[e]} in ${t}: ${r}`)},PD=t=>t%4===0&&(t%100!==0||t%400===0),$n=(t,e,r,n)=>{let s=IS(wa(t));if(s<r||s>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return s},OD=t=>t==null?0:vS("0."+t)*1e3,vD=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),s=Number(t.substring(4,6));return r*(n*60+s)*60*1e3},wa=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};var rr=class extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,rr.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},Ee=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t};var ID=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let s=DD(t),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||o||"UnknownError",$fault:"client",$metadata:s});throw Ee(i,e)},qn=t=>({output:e,parsedBody:r,errorCode:n})=>{ID({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},DD=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var Hn=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var MS=!1,jn=t=>{t&&!MS&&parseInt(t.substring(1,t.indexOf(".")))<14&&(MS=!0)};function tn(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var LS=t=>Array.isArray(t)?t:[t];var xa=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=xa(t[r]));return t};var $f=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};$f.prototype=Object.create(String.prototype,{constructor:{value:$f,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf($f,String);function J(t,e,r){let n,s,o;if(typeof e>"u"&&typeof r>"u")n={},o=t;else{if(n=t,typeof e=="function")return s=e,o=r,BD(n,s,o);o=e}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}FS(n,null,o,i)}return n}var He=(t,e)=>{let r={};for(let n in e)FS(r,t,e,n);return r},BD=(t,e,r)=>J(t,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[e,o()]:n[s]=[e,o],n),{})),FS=(t,e,r,n)=>{if(e!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=MD,c=LD,d=n]=i;(typeof a=="function"&&a(e[d])||typeof a!="function"&&a)&&(t[n]=c(e[d]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=i:c&&(t[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(t[n]=o)}},MD=t=>t!=null,LD=t=>t;var Gt=(t,e,r,n,s,o)=>{if(e!=null&&e[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,o?i.split("/").map(a=>tn(a)).join("/"):tn(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return t};var Ca=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=Ca(t[r]));return e}return t};var US=async t=>{let e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),qD(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!$D(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},FD=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,UD=/(\d+\.){3}\d+/,zD=/\.\./;var $D=t=>FD.test(t)&&!UD.test(t)&&!zD.test(t),qD=t=>{let[e,r,n,s,o,i]=t.split(":"),a=e==="arn"&&t.split(":").length>=6,c=[e,r,n,o,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!r&&!!n&&!!o&&!!i};var zS=(t,e,r)=>{let n=async()=>{let s=r[t]??r[e];return typeof s=="function"?s():s};return t==="endpoint"||e==="endpoint"?async()=>{let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:c}=s;return`${o}//${i}${a?":"+a:""}${c}`}}return s}:n};var Jc=async(t,e,r,n)=>{let s=await HD(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},HD=async(t,e,r)=>{var o;let n={},s=((o=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:o.call(e))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=t[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await zS(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await US(n),n};function $S(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}var Pt=t=>{if(typeof t=="string")return Pt(new URL(t));let{hostname:e,pathname:r,port:n,protocol:s,search:o}=t,i;return o&&(i=$S(o)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};var ed=t=>typeof t=="object"?"url"in t?Pt(t.url):t:Pt(t);var qS=({config:t,instructions:e})=>(r,n)=>async s=>{var a,c;let o=await Jc(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=o,n.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),r({...s})};var HS=(t,e)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await e(o,t);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var jS=(t,e)=>(r,n)=>async s=>{var a;let o=(a=n.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let i=await e(s.input,{...t,endpoint:o});return r({...s,request:i})};var jD={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},qf={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function je(t,e,r){return{applyToStack:n=>{n.add(HS(t,r),jD),n.add(jS(t,e),qf)}}}var GD={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:qf.name},Ge=(t,e)=>({applyToStack:r=>{r.addRelativeTo(qS({config:t,instructions:e}),GD)}});var at=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};var Gn=t=>{let e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>ed(await at(r)()):void 0;return{...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:at(t.useDualstackEndpoint??!1),useFipsEndpoint:at(t.useFipsEndpoint??!1)}};var Hf;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(Hf||(Hf={}));var re=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/"}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let e=new re({...this,headers:{...this.headers}});return e.query&&(e.query=KD(e.query)),e}};function KD(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var nr=class{constructor(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function GS(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function KS(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var ba=class{constructor(e){this.value=e}toString(){return KS(""+this.value)}};var Ze=class{static of(e,r,n){let s=new Ze(e);return r!==void 0&&s.addChildNode(new ba(r)),n!==void 0&&s.withName(n),s}constructor(e,r=[]){this.name=e,this.children=r,this.attributes={}}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}toString(){let e=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];typeof o<"u"&&o!==null&&(r+=` ${s}="${GS(""+o)}"`)}return r+=e?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};var Bw=jt(eh());var Vn=class extends rr{constructor(e){super(e),Object.setPrototypeOf(this,Vn.prototype)}};var th;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(th||(th={}));var rh;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(e.ObjectSizeGreaterThan):e.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(e.ObjectSizeLessThan):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(rh||(rh={}));var nh;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.AccessPointArn!==void 0?r.AccessPointArn(e.AccessPointArn):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(nh||(nh={}));var sh;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(sh||(sh={}));var Uo=class extends Vn{constructor(e){super({name:"NoSuchKey",$fault:"client",...e}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,Uo.prototype)}};var bw=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Me}}),_w=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Me}});var Rw=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Me},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Me}}),Aw=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Me},...t.SSEKMSKeyId&&{SSEKMSKeyId:Me},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Me}});var kw=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Me}});var Tw=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Me},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Me}}),Nw=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Me},...t.SSEKMSKeyId&&{SSEKMSKeyId:Me},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Me}});var Pw;(function(t){t.visit=(e,r)=>e.Records!==void 0?r.Records(e.Records):e.Stats!==void 0?r.Stats(e.Stats):e.Progress!==void 0?r.Progress(e.Progress):e.Cont!==void 0?r.Cont(e.Cont):e.End!==void 0?r.End(e.End):r._(e.$unknown[0],e.$unknown[1])})(Pw||(Pw={}));var Ow=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Me}}),vw=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Me}});var Mw=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=J({},ft,{"content-type":"application/xml","x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,"x-amz-request-payer":t.RequestPayer,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Gt(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=Gt(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=J({"x-id":[,"CompleteMultipartUpload"],uploadId:[,it(t.UploadId,"UploadId")]}),d;t.MultipartUpload!==void 0&&(d=Iw(t.MultipartUpload,e));let l;return t.MultipartUpload!==void 0&&(l=Iw(t.MultipartUpload,e),l=l.withName("CompleteMultipartUpload"),d='<?xml version="1.0" encoding="UTF-8"?>',l.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=l.toString()),new re({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:d})};var Lw=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=J({},ft,{"x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-type":t.ContentType,expires:[()=>ft(t.Expires),()=>Ff(t.Expires).toString()],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>ft(t.BucketKeyEnabled),()=>t.BucketKeyEnabled.toString()],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>ft(t.ObjectLockRetainUntilDate),()=>(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-checksum-algorithm":t.ChecksumAlgorithm,...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((l,f)=>(l[`x-amz-meta-${f.toLowerCase()}`]=t.Metadata[f],l),{})}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Gt(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=Gt(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=J({uploads:[,""],"x-id":[,"CreateMultipartUpload"]}),d;return new re({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:d})};var Fw=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=J({},ft,{"x-amz-max-parts":[()=>ft(t.MaxParts),()=>t.MaxParts.toString()],"x-amz-part-number-marker":t.PartNumberMarker,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-request-payer":t.RequestPayer,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-object-attributes":[()=>ft(t.ObjectAttributes),()=>(t.ObjectAttributes||[]).map(l=>l).join(", ")]}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Gt(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=Gt(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=J({attributes:[,""],versionId:[,t.VersionId]}),d;return new re({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:d})};var Uw=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=J({},ft,{"content-type":t.ContentType||"application/octet-stream","x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-length":[()=>ft(t.ContentLength),()=>t.ContentLength.toString()],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,expires:[()=>ft(t.Expires),()=>Ff(t.Expires).toString()],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>ft(t.BucketKeyEnabled),()=>t.BucketKeyEnabled.toString()],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>ft(t.ObjectLockRetainUntilDate),()=>(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((f,u)=>(f[`x-amz-meta-${u.toLowerCase()}`]=t.Metadata[u],f),{})}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Gt(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=Gt(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=J({"x-id":[,"PutObject"]}),d;t.Body!==void 0&&(d=t.Body);let l;return t.Body!==void 0&&(l=t.Body,d=l),new re({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var zw=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=J({},ft,{"content-type":"application/xml","content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-request-payer":t.RequestPayer}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Gt(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=Gt(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=J({tagging:[,""],versionId:[,t.VersionId]}),d;t.Tagging!==void 0&&(d=Dw(t.Tagging,e));let l;return t.Tagging!==void 0&&(l=Dw(t.Tagging,e),d='<?xml version="1.0" encoding="UTF-8"?>',l.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=l.toString()),new re({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var $w=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=J({},ft,{"content-type":"application/octet-stream","content-length":[()=>ft(t.ContentLength),()=>t.ContentLength.toString()],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-request-payer":t.RequestPayer,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Gt(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=Gt(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=J({"x-id":[,"UploadPart"],partNumber:[it(t.PartNumber,"PartNumber")!=null,()=>t.PartNumber.toString()],uploadId:[,it(t.UploadId,"UploadId")]}),d;t.Body!==void 0&&(d=t.Body);let l;return t.Body!==void 0&&(l=t.Body,d=l),new re({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var qw=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return WB(t,e);let r=J({$metadata:Xs(t),Expiration:[,t.headers["x-amz-expiration"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Vs(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]]}),n=it(zn(await rd(t.body,e)),"body");return n.Bucket!==void 0&&(r.Bucket=L(n.Bucket)),n.ChecksumCRC32!==void 0&&(r.ChecksumCRC32=L(n.ChecksumCRC32)),n.ChecksumCRC32C!==void 0&&(r.ChecksumCRC32C=L(n.ChecksumCRC32C)),n.ChecksumSHA1!==void 0&&(r.ChecksumSHA1=L(n.ChecksumSHA1)),n.ChecksumSHA256!==void 0&&(r.ChecksumSHA256=L(n.ChecksumSHA256)),n.ETag!==void 0&&(r.ETag=L(n.ETag)),n.Key!==void 0&&(r.Key=L(n.Key)),n.Location!==void 0&&(r.Location=L(n.Location)),r},WB=async(t,e)=>{let r={...t,body:await $o(t.body,e)},n=qo(t,r.body),s=r.body;return zo({output:t,parsedBody:s,errorCode:n})};var Hw=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return YB(t,e);let r=J({$metadata:Xs(t),AbortDate:[()=>t.headers["x-amz-abort-date"]!==void 0,()=>it(zf(t.headers["x-amz-abort-date"]))],AbortRuleId:[,t.headers["x-amz-abort-rule-id"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Vs(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]],ChecksumAlgorithm:[,t.headers["x-amz-checksum-algorithm"]]}),n=it(zn(await rd(t.body,e)),"body");return n.Bucket!==void 0&&(r.Bucket=L(n.Bucket)),n.Key!==void 0&&(r.Key=L(n.Key)),n.UploadId!==void 0&&(r.UploadId=L(n.UploadId)),r},YB=async(t,e)=>{let r={...t,body:await $o(t.body,e)},n=qo(t,r.body),s=r.body;return zo({output:t,parsedBody:s,errorCode:n})};var jw=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return XB(t,e);let r=J({$metadata:Xs(t),DeleteMarker:[()=>t.headers["x-amz-delete-marker"]!==void 0,()=>Vs(t.headers["x-amz-delete-marker"])],LastModified:[()=>t.headers["last-modified"]!==void 0,()=>it(zf(t.headers["last-modified"]))],VersionId:[,t.headers["x-amz-version-id"]],RequestCharged:[,t.headers["x-amz-request-charged"]]}),n=it(zn(await rd(t.body,e)),"body");return n.Checksum!==void 0&&(r.Checksum=o1(n.Checksum,e)),n.ETag!==void 0&&(r.ETag=L(n.ETag)),n.ObjectParts!==void 0&&(r.ObjectParts=i1(n.ObjectParts,e)),n.ObjectSize!==void 0&&(r.ObjectSize=Bf(n.ObjectSize)),n.StorageClass!==void 0&&(r.StorageClass=L(n.StorageClass)),r},XB=async(t,e)=>{let r={...t,body:await $o(t.body,e)},n=qo(t,r.body);switch(n){case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await e1(r,e);default:let s=r.body;return zo({output:t,parsedBody:s,errorCode:n})}};var Gw=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return QB(t,e);let r=J({$metadata:Xs(t),Expiration:[,t.headers["x-amz-expiration"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Vs(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]]});return await td(t.body,e),r},QB=async(t,e)=>{let r={...t,body:await $o(t.body,e)},n=qo(t,r.body),s=r.body;return zo({output:t,parsedBody:s,errorCode:n})};var Kw=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return ZB(t,e);let r=J({$metadata:Xs(t),VersionId:[,t.headers["x-amz-version-id"]]});return await td(t.body,e),r},ZB=async(t,e)=>{let r={...t,body:await $o(t.body,e)},n=qo(t,r.body),s=r.body;return zo({output:t,parsedBody:s,errorCode:n})};var Vw=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return JB(t,e);let r=J({$metadata:Xs(t),ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Vs(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]]});return await td(t.body,e),r},JB=async(t,e)=>{let r={...t,body:await $o(t.body,e)},n=qo(t,r.body),s=r.body;return zo({output:t,parsedBody:s,errorCode:n})};var zo=qn(Vn);var e1=async(t,e)=>{let r=J({}),n=t.body,s=new Uo({$metadata:Xs(t),...r});return Ee(s,t.body)};var Iw=(t,e)=>{let r=new Ze("CompletedMultipartUpload");return t.Parts!=null&&r1(t.Parts,e).map(s=>{s=s.withName("Part"),r.addChildNode(s)}),r},t1=(t,e)=>{let r=new Ze("CompletedPart");if(t.ETag!=null){let n=Ze.of("ETag",t.ETag).withName("ETag");r.addChildNode(n)}if(t.ChecksumCRC32!=null){let n=Ze.of("ChecksumCRC32",t.ChecksumCRC32).withName("ChecksumCRC32");r.addChildNode(n)}if(t.ChecksumCRC32C!=null){let n=Ze.of("ChecksumCRC32C",t.ChecksumCRC32C).withName("ChecksumCRC32C");r.addChildNode(n)}if(t.ChecksumSHA1!=null){let n=Ze.of("ChecksumSHA1",t.ChecksumSHA1).withName("ChecksumSHA1");r.addChildNode(n)}if(t.ChecksumSHA256!=null){let n=Ze.of("ChecksumSHA256",t.ChecksumSHA256).withName("ChecksumSHA256");r.addChildNode(n)}if(t.PartNumber!=null){let n=Ze.of("PartNumber",String(t.PartNumber)).withName("PartNumber");r.addChildNode(n)}return r},r1=(t,e)=>t.filter(r=>r!=null).map(r=>t1(r,e).withName("member"));var n1=(t,e)=>{let r=new Ze("Tag");if(t.Key!=null){let n=Ze.of("ObjectKey",t.Key).withName("Key");r.addChildNode(n)}if(t.Value!=null){let n=Ze.of("Value",t.Value).withName("Value");r.addChildNode(n)}return r},Dw=(t,e)=>{let r=new Ze("Tagging");if(t.TagSet!=null){let n=s1(t.TagSet,e),s=new Ze("TagSet");n.map(o=>{s.addChildNode(o)}),r.addChildNode(s)}return r},s1=(t,e)=>t.filter(r=>r!=null).map(r=>n1(r,e).withName("Tag"));var o1=(t,e)=>{let r={};return t.ChecksumCRC32!==void 0&&(r.ChecksumCRC32=L(t.ChecksumCRC32)),t.ChecksumCRC32C!==void 0&&(r.ChecksumCRC32C=L(t.ChecksumCRC32C)),t.ChecksumSHA1!==void 0&&(r.ChecksumSHA1=L(t.ChecksumSHA1)),t.ChecksumSHA256!==void 0&&(r.ChecksumSHA256=L(t.ChecksumSHA256)),r};var i1=(t,e)=>{let r={};return t.PartsCount!==void 0&&(r.TotalPartsCount=Ws(t.PartsCount)),t.PartNumberMarker!==void 0&&(r.PartNumberMarker=L(t.PartNumberMarker)),t.NextPartNumberMarker!==void 0&&(r.NextPartNumberMarker=L(t.NextPartNumberMarker)),t.MaxParts!==void 0&&(r.MaxParts=Ws(t.MaxParts)),t.IsTruncated!==void 0&&(r.IsTruncated=Vs(t.IsTruncated)),t.Part===""?r.Parts=[]:t.Part!==void 0&&(r.Parts=c1(LS(t.Part),e)),r};var a1=(t,e)=>{let r={};return t.PartNumber!==void 0&&(r.PartNumber=Ws(t.PartNumber)),t.Size!==void 0&&(r.Size=Bf(t.Size)),t.ChecksumCRC32!==void 0&&(r.ChecksumCRC32=L(t.ChecksumCRC32)),t.ChecksumCRC32C!==void 0&&(r.ChecksumCRC32C=L(t.ChecksumCRC32C)),t.ChecksumSHA1!==void 0&&(r.ChecksumSHA1=L(t.ChecksumSHA1)),t.ChecksumSHA256!==void 0&&(r.ChecksumSHA256=L(t.ChecksumSHA256)),r};var c1=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>a1(r,e));var Xs=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),td=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),d1=(t,e)=>td(t,e).then(r=>e.utf8Encoder(r)),ft=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),rd=(t,e)=>d1(t,e).then(r=>{if(r.length){let n=new Bw.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),xa(a)}return{}}),$o=async(t,e)=>{let r=await rd(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},qo=(t,e)=>{if((e==null?void 0:e.Code)!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};var l1="content-length";function u1(){return(t,e)=>async r=>{var s;let{request:n}=r;if(re.isInstance(n)&&!n.headers[l1]){let o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((s=e==null?void 0:e.logger)==null?void 0:s.warn)=="function"?e.logger.warn(o):console.warn(o)}return t({...r})}}var f1={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Ww=t=>({applyToStack:e=>{e.add(u1(),f1)}});var Yw=t=>({...t,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1});var h1=t=>e=>async r=>{let n=await e(r),{response:s}=n;if(!nr.isInstance(s))return n;let{statusCode:o,body:i}=s;if(o<200||o>=300)return n;let a=await Xw(i,t),c=await m1(a,t);if(a.length===0){let d=new Error("S3 aborted request");throw d.name="InternalError",d}return c&&c.match("<Error>")&&(s.statusCode=400),s.body=a,n},Xw=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),m1=(t,e)=>Xw(t,e).then(r=>e.utf8Encoder(r)),p1={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Qw=t=>({applyToStack:e=>{e.addRelativeTo(h1(t),p1)}});var oh=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function y1(){return t=>async e=>{let{input:{Bucket:r}}=e;if(typeof r=="string"&&!oh(r)&&r.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return t({...e})}}var g1={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Zw=t=>({applyToStack:e=>{e.add(y1(),g1)}});function E1(t){return e=>async r=>{let n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let i=n[o.target];if(i){let a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):typeof i=="string"?t.utf8Decoder(i):new Uint8Array(i),c=t.base64Encoder(a),d=new t.md5;d.update(a),n={...n,[o.target]:c,[o.hash]:t.base64Encoder(await d.digest())}}}return e({...r,input:n})}}var S1={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},kr=t=>({applyToStack:e=>{e.add(E1(t),S1)}});var Ho=class extends Be{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,Ho.getEndpointParameterInstructions())),this.middlewareStack.use(Qw(r)),this.middlewareStack.use(kr(r));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:_w,outputFilterSensitiveLog:bw},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return Mw(e,r)}deserialize(e,r){return qw(e,r)}};var jo=class extends Be{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,jo.getEndpointParameterInstructions())),this.middlewareStack.use(kr(r));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:Aw,outputFilterSensitiveLog:Rw},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return Lw(e,r)}deserialize(e,r){return Hw(e,r)}};var Le;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256"})(Le||(Le={}));var Jw;(function(t){t.HEADER="header",t.TRAILER="trailer"})(Jw||(Jw={}));var Aa=[Le.CRC32,Le.CRC32C,Le.SHA1,Le.SHA256],ex=[Le.CRC32,Le.CRC32C,Le.SHA1,Le.SHA256];var tx=(t,{requestChecksumRequired:e,requestAlgorithmMember:r})=>{if(!r||!t[r])return e?Le.MD5:void 0;let n=t[r];if(!Aa.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${Aa}.`);return n};var nd=t=>t===Le.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var rx=(t,e)=>{let r=t.toLowerCase();for(let n of Object.keys(e))if(r===n.toLowerCase())return!0;return!1};var Go=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";var sd=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!Go(t);var Rx=jt(Na()),Ax=jt(Eh());var ud=(t,e)=>({[Le.MD5]:e.md5,[Le.CRC32]:Rx.AwsCrc32,[Le.CRC32C]:Ax.AwsCrc32c,[Le.SHA1]:e.sha1,[Le.SHA256]:e.sha256})[t];import{Buffer as Sh}from"buffer";var nn=(t,e=0,r=t.byteLength-e)=>{if(!Go(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return Sh.from(t,e,r)},Ko=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?Sh.from(t,e):Sh.from(t)};var Nr=t=>{let e=Ko(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var vt=t=>typeof t=="string"?Nr(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var Xn=t=>nn(t.buffer,t.byteOffset,t.byteLength).toString("utf8");var fd=(t,e)=>{let r=new t;return r.update(vt(e||"")),r.digest()};var kx=async(t,{streamHasher:e,checksumAlgorithmFn:r,base64Encoder:n})=>{let s=sd(t)?e(r,t):fd(r,t);return n(await s)};var Tx=(t=[])=>{let e=[];for(let r of ex)!t.includes(r)||!Aa.includes(r)||e.push(r);return e};var Nx=async(t,{config:e,responseAlgorithms:r})=>{let n=Tx(r),{body:s,headers:o}=t;for(let i of n){let a=nd(i),c=o[a];if(c){let d=ud(i,e),{streamHasher:l,base64Encoder:f}=e,u=await kx(s,{streamHasher:l,checksumAlgorithmFn:d,base64Encoder:f});if(u===c)break;throw new Error(`Checksum mismatch: expected "${u}" but received "${c}" in response header "${a}".`)}}};var Px=(t,e)=>r=>async n=>{if(!re.isInstance(n.request))return r(n);let{request:s}=n,{body:o,headers:i}=s,{base64Encoder:a,streamHasher:c}=t,{input:d,requestChecksumRequired:l,requestAlgorithmMember:f}=e,u=tx(d,{requestChecksumRequired:l,requestAlgorithmMember:f}),g=o,y=i;if(u){let se=nd(u),Z=ud(u,t);if(sd(o)){let{getAwsChunkedEncodingStream:$e,bodyLengthChecker:Q}=t;g=$e(o,{base64Encoder:a,bodyLengthChecker:Q,checksumLocationName:se,checksumAlgorithmFn:Z,streamHasher:c}),y={...i,"content-encoding":i["content-encoding"]?`${i["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":i["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":se},delete y["content-length"]}else if(!rx(se,i)){let $e=await fd(Z,o);y={...i,[se]:a($e)}}}let x=await r({...n,request:{...s,headers:y,body:g}}),{requestValidationModeMember:R,responseAlgorithms:v}=e;return R&&d[R]==="ENABLED"&&Nx(x.response,{config:t,responseAlgorithms:v}),x};var PM={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},Vo=(t,e)=>({applyToStack:r=>{r.add(Px(t,e),PM)}});var Wo=class extends Be{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,Wo.getEndpointParameterInstructions())),this.middlewareStack.use(kr(r));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"GetObjectAttributesCommand",inputFilterSensitiveLog:kw,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return Fw(e,r)}deserialize(e,r){return jw(e,r)}};var Qs=class extends Be{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,Qs.getEndpointParameterInstructions())),this.middlewareStack.use(Ww(r)),this.middlewareStack.use(kr(r)),this.middlewareStack.use(Vo(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:Nw,outputFilterSensitiveLog:Tw},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return Uw(e,r)}deserialize(e,r){return Gw(e,r)}};var Yo=class extends Be{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,Yo.getEndpointParameterInstructions())),this.middlewareStack.use(Vo(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"PutObjectTaggingCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return zw(e,r)}deserialize(e,r){return Kw(e,r)}};var Xo=class extends Be{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,Xo.getEndpointParameterInstructions())),this.middlewareStack.use(kr(r)),this.middlewareStack.use(Vo(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:vw,outputFilterSensitiveLog:Ow},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return $w(e,r)}deserialize(e,r){return Vw(e,r)}};var sr;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(sr||(sr={}));var Pr=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}};var OM="AWS_USE_DUALSTACK_ENDPOINT",vM="use_dualstack_endpoint";var Qn={environmentVariableSelector:t=>Pr(t,OM,sr.ENV),configFileSelector:t=>Pr(t,vM,sr.CONFIG),default:!1};var IM="AWS_USE_FIPS_ENDPOINT",DM="use_fips_endpoint";var Zn={environmentVariableSelector:t=>Pr(t,IM,sr.ENV),configFileSelector:t=>Pr(t,DM,sr.CONFIG),default:!1};var BM="AWS_REGION",MM="region",Or={environmentVariableSelector:t=>t[BM],configFileSelector:t=>t[MM],default:()=>{throw new Error("Region is missing")}},Jn={preferredFile:"credentials"};var hd=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));var wh=t=>hd(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;var es=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return wh(e);let n=await e();return wh(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return hd(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};var Ox=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)});var vx="content-length";function LM(t){return e=>async r=>{let n=r.request;if(re.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(vx)===-1)try{let i=t(s);n.headers={...n.headers,[vx]:String(i)}}catch{}}return e({...r,request:n})}}var FM={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ts=t=>({applyToStack:e=>{e.add(LM(t.bodyLengthChecker),FM)}});function UM(t){return e=>async r=>{let{request:n}=r;return re.isInstance(n)&&n.body&&t.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),e({...r,request:n})}}var zM={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Ix=t=>({applyToStack:e=>{e.add(UM(t),zM)}});var $M=t=>e=>async r=>{if(!re.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return e(r)},qM={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},rs=t=>({applyToStack:e=>{e.add($M(t),qM)}});var HM=()=>(t,e)=>async r=>{var n,s;try{let o=await t(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=d,u=l??e.inputFilterSensitiveLog,g=f??e.outputFilterSensitiveLog,{$metadata:y,...x}=o.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:u(r.input),output:g(x),metadata:y}),o}catch(o){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:l}=d,f=l??e.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)==null||s.call(c,{clientName:i,commandName:a,input:f(r.input),error:o,metadata:o.$metadata}),o}},jM={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},ns=t=>({applyToStack:e=>{e.add(HM(),jM)}});var Dx="X-Amzn-Trace-Id",GM="AWS_LAMBDA_FUNCTION_NAME",KM="_X_AMZN_TRACE_ID",VM=t=>e=>async r=>{let{request:n}=r;if(!re.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(Dx))return e(r);let s=process.env[GM],o=process.env[KM],i=a=>typeof a=="string"&&a.length>0;return i(s)&&i(o)&&(n.headers[Dx]=o),e({...r,request:n})},WM={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},ss=t=>({applyToStack:e=>{e.add(VM(t),WM)}});var vr;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(vr||(vr={}));var Zs=3,Ir="STANDARD";var Bx=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Mx=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Lx=[500,502,503,504],Fx=["ECONNRESET","EPIPE","ETIMEDOUT"];var Qo=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||Bx.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},md=t=>{var e;return Mx.includes(t.name)||Fx.includes((t==null?void 0:t.code)||"")||Lx.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},Ux=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){let r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!md(t)}return!1};var Oa=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Qo(e)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}};var pd="amz-sdk-invocation-id",yd="amz-sdk-request";var zx=()=>{let t=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}};var Gx=(t,e,r,n)=>{let s=t,o=(n==null?void 0:n.retryCost)??5,i=(n==null?void 0:n.timeoutRetryCost)??10,a=(n==null?void 0:n.retryBackoffStrategy)??zx(),c=t,d=Math.min(2e4,e),l,f=r??0,u=Z=>Z==="TRANSIENT"?i:o,g=()=>f,y=()=>d,x=()=>l,R=Z=>u(Z)<=c;return{getRetryCount:g,getRetryDelay:y,getLastRetryCost:x,hasRetryTokens:R,getRetryTokenCount:Z=>{let $e=Z.errorType;if(!R($e))throw new Error("No retry token available");let Q=u($e),Ce=$e==="THROTTLING"?500:100;a.setDelayBase(Ce);let te=a.computeNextBackoffDelay(f);if(Z.retryAfterHint){let V=Z.retryAfterHint.getTime()-Date.now();d=Math.max(V||0,te)}else d=te;return f++,l=Q,c-=Q,Q},releaseRetryTokens:Z=>{c+=Z??1,c=Math.min(c,s)}}};var Jo=class{constructor(e){this.maxAttemptsProvider=e,this.mode=vr.STANDARD,this.retryToken=Gx(500,100),this.maxAttemptsProvider=e}async acquireInitialRetryToken(e){return this.retryToken}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n))return e.getRetryTokenCount(r),e;throw new Error("No retry token available")}recordSuccess(e){this.retryToken.releaseRetryTokens(e.getLastRetryCost())}async getMaxAttempts(){let e;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Zs}`),Zs}}shouldRetry(e,r,n){return e.getRetryCount()<n&&e.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};var Ed=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode=vr.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Oa,this.standardRetryStrategy=new Jo(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};var xh=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);var Vx="AWS_MAX_ATTEMPTS",Wx="max_attempts",os={environmentVariableSelector:t=>{let e=t[Vx];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${Vx} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[Wx];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Wx} mast be a number, got "${e}"`);return r},default:Zs},is=t=>{let{retryStrategy:e}=t,r=at(t.maxAttempts??Zs);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await at(t.retryMode)()===vr.ADAPTIVE?new Ed(r):new Jo(r))}},YM="AWS_RETRY_MODE",XM="retry_mode",as={environmentVariableSelector:t=>t[YM],configFileSelector:t=>t[XM],default:Ir};gf();var QM=t=>(e,r)=>async n=>{let s=await t.retryStrategy(),o=await t.maxAttempts();if(ZM(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:l}=n;for(re.isInstance(l)&&(l.headers[pd]=jc());;)try{re.isInstance(l)&&(l.headers[yd]=`attempt=${c+1}; max=${o}`);let{response:f,output:u}=await e(n);return s.recordSuccess(i),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=d,{response:f,output:u}}catch(f){let u=JM(f);a=xh(f);try{i=await s.refreshRetryTokenForRetry(i,u)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let g=i.getRetryDelay();d+=g,await new Promise(y=>setTimeout(y,g))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},ZM=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",JM=t=>{let e={errorType:eL(t)},r=rL(t.$response);return r&&(e.retryAfterHint=r),e},eL=t=>Qo(t)?"THROTTLING":md(t)?"TRANSIENT":Ux(t)?"SERVER_ERROR":"CLIENT_ERROR",tL={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},cs=t=>({applyToStack:e=>{e.add(QM(t),tL)}}),rL=t=>{if(!nr.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var It=class extends Error{constructor(e,r=!0){super(e),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,It.prototype)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}};var q=class extends It{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,q.prototype)}};var Dt=class extends It{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,Dt.prototype)}};function Sd(...t){return()=>{let e=Promise.reject(new It("No providers in chain"));for(let r of t)e=e.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return e}}var Yx=t=>()=>Promise.resolve(t);var ds=(t,e,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=t());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return e===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(e(n)&&await a(),n))};var Xx={},Ch={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Xx[t]=e,Ch[e]=t}function Qx(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in Ch)e[r/2]=Ch[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function ct(t){let e="";for(let r=0;r<t.byteLength;r++)e+=Xx[t[r]];return e}var Zx="X-Amz-Algorithm",Jx="X-Amz-Credential",bh="X-Amz-Date",eC="X-Amz-SignedHeaders",tC="X-Amz-Expires",_h="X-Amz-Signature",Rh="X-Amz-Security-Token";var Ah="authorization",kh=bh.toLowerCase(),nL="date",rC=[Ah,kh,nL],nC=_h.toLowerCase(),va="x-amz-content-sha256",sC=Rh.toLowerCase();var oC={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},iC=/^proxy-/,aC=/^sec-/;var wd="AWS4-HMAC-SHA256";var cC="AWS4-HMAC-SHA256-PAYLOAD",dC="UNSIGNED-PAYLOAD",lC=50,Th="aws4_request",uC=60*60*24*7;var xd={},Nh=[],Cd=(t,e,r)=>`${t}/${e}/${r}/${Th}`,hC=async(t,e,r,n,s)=>{let o=await fC(t,e.secretAccessKey,e.accessKeyId),i=`${r}:${n}:${s}:${ct(o)}:${e.sessionToken}`;if(i in xd)return xd[i];for(Nh.push(i);Nh.length>lC;)delete xd[Nh.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,s,Th])a=await fC(t,a,c);return xd[i]=a};var fC=(t,e,r)=>{let n=new t(e);return n.update(vt(r)),n.digest()};var bd=({headers:t},e,r)=>{let n={};for(let s of Object.keys(t).sort()){if(t[s]==null)continue;let o=s.toLowerCase();(o in oC||e!=null&&e.has(o)||iC.test(o)||aC.test(o))&&(!r||r&&!r.has(o))||(n[o]=t[s].trim().replace(/\s+/g," "))}return n};var Dr=t=>encodeURIComponent(t).replace(/[!'()*]/g,sL),sL=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;var Ph=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===nC)continue;e.push(n);let s=t[n];typeof s=="string"?r[n]=`${Dr(n)}=${Dr(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).sort().reduce((o,i)=>o.concat([`${Dr(n)}=${Dr(i)}`]),[]).join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")};var Ia=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===va)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Go(e)){let n=new r;return n.update(vt(e)),ct(await n.digest())}return dC};var mC=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1};var _d=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?oL(e):void 0}),oL=t=>Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{});var Oh=(t,e={})=>{var s;let{headers:r,query:n={}}=typeof t.clone=="function"?t.clone():_d(t);for(let o of Object.keys(r)){let i=o.toLowerCase();i.slice(0,6)==="x-amz-"&&!((s=e.unhoistableHeaders)!=null&&s.has(i))&&(n[o]=r[o],delete r[o])}return{...t,headers:r,query:n}};var Rd=t=>{t=typeof t.clone=="function"?t.clone():_d(t);for(let e of Object.keys(t.headers))rC.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};var pC=t=>iL(t).toISOString().replace(/\.\d{3}Z$/,"Z"),iL=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;var Js=class{constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=at(n),this.credentialProvider=at(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let f=c??await this.regionProvider(),{longDate:u,shortDate:g}=Ad(n);if(s>uC)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=Cd(g,f,d??this.service),x=Oh(Rd(e),{unhoistableHeaders:i});l.sessionToken&&(x.query[Rh]=l.sessionToken),x.query[Zx]=wd,x.query[Jx]=`${l.accessKeyId}/${y}`,x.query[bh]=u,x.query[tC]=s.toString(10);let R=bd(x,o,a);return x.query[eC]=yC(R),x.query[_h]=await this.getSignature(u,y,this.getSigningKey(l,f,g,d),this.createCanonicalRequest(x,R,await Ia(e,this.sha256))),x}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:c,longDate:d}=Ad(n),l=Cd(c,a,i??this.service),f=await Ia({headers:{},body:r},this.sha256),u=new this.sha256;u.update(e);let g=ct(await u.digest()),y=[cC,d,l,s,g,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:i})}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=Ad(r),c=new this.sha256(await this.getSigningKey(o,i,a,s));return c.update(vt(e)),ct(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),d=Rd(e),{longDate:l,shortDate:f}=Ad(r),u=Cd(f,c,i??this.service);d.headers[kh]=l,a.sessionToken&&(d.headers[sC]=a.sessionToken);let g=await Ia(d,this.sha256);!mC(va,d.headers)&&this.applyChecksum&&(d.headers[va]=g);let y=bd(d,s,n),x=await this.getSignature(l,u,this.getSigningKey(a,c,f,i),this.createCanonicalRequest(d,y,g));return d.headers[Ah]=`${wd} Credential=${a.accessKeyId}/${u}, SignedHeaders=${yC(y)}, Signature=${x}`,d}createCanonicalRequest(e,r,n){let s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Ph(e)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n){let s=new this.sha256;s.update(vt(n));let o=await s.digest();return`${wd}
${e}
${r}
${ct(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let o of e.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,s){let o=await this.createStringToSign(e,r,s),i=new this.sha256(await n);return i.update(vt(o)),ct(await i.digest())}getSigningKey(e,r,n,s){return hC(this.sha256,e,n,r,s||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Ad=t=>{let e=pC(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},yC=t=>Object.keys(t).sort().join(";");var aL=3e5,kd=t=>{let e=t.credentials?cL(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:s}=t,o;return t.signer?o=at(t.signer):t.regionInfoProvider?o=()=>at(t.region)().then(async i=>[await t.regionInfoProvider(i,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;t.signingRegion=t.signingRegion||c||a,t.signingName=t.signingName||d||t.serviceId;let l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},f=t.signerConstructor||Js;return new f(l)}):o=async i=>{i=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await at(t.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||c||t.serviceId;let d={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},l=t.signerConstructor||Js;return new l(d)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:o}};var cL=t=>typeof t=="function"?ds(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<aL,e=>e.expiration!==void 0):at(t);var Td=t=>new Date(Date.now()+t);var gC=(t,e)=>Math.abs(Td(e).getTime()-t)>=3e5;var vh=(t,e)=>{let r=Date.parse(t);return gC(r,e)?r-Date.now():e};var dL=t=>(e,r)=>async function(n){var d,l,f,u;if(!re.isInstance(n.request))return e(n);let s=(f=(l=(d=r.endpointV2)==null?void 0:d.properties)==null?void 0:l.authSchemes)==null?void 0:f[0],o=(s==null?void 0:s.name)==="sigv4a"?(u=s==null?void 0:s.signingRegionSet)==null?void 0:u.join(","):void 0,i=await t.signer(s),a=await e({...n,request:await i.sign(n.request,{signingDate:Td(t.systemClockOffset),signingRegion:o||r.signing_region,signingService:r.signing_service})}).catch(g=>{let y=g.ServerTime??EC(g.$response);throw y&&(t.systemClockOffset=vh(y,t.systemClockOffset)),g}),c=EC(a.response);return c&&(t.systemClockOffset=vh(c,t.systemClockOffset)),a},EC=t=>{var e,r;return nr.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},lL={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Nd=t=>({applyToStack:e=>{e.addRelativeTo(dL(t),lL)}});function ls(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}var Ih={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var SC=Ih,wC="",fL=t=>{let{partitions:e}=SC;for(let n of e){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===t)return{...o,...a}}for(let n of e){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(t))return{...o}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},xC=(t,e="")=>{SC=t,wC=e},hL=()=>{xC(Ih,"")},Dh=()=>wC;var sn="endpoints";function or(t){return typeof t!="object"||t==null?t:"ref"in t?`$${or(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(or).join(", ")})`:JSON.stringify(t,null,2)}var Ae=class extends Error{constructor(e){super(e),this.name="EndpointError"}};var Fh={};Po(Fh,{aws:()=>Bh,booleanEquals:()=>gL,getAttr:()=>Mh,isSet:()=>EL,isValidHostLabel:()=>Od,not:()=>SL,parseURL:()=>wL,stringEquals:()=>xL,substring:()=>CL,uriEncode:()=>bL});var Bh={};Po(Bh,{getUserAgentPrefix:()=>Dh,isVirtualHostableS3Bucket:()=>CC,parseArn:()=>yL,partition:()=>fL,setPartitionInfo:()=>xC,useDefaultPartitionInfo:()=>hL});var mL=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Pd=t=>mL.test(t)||t.startsWith("[")&&t.endsWith("]");var pL=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Od=(t,e=!1)=>{if(!e)return pL.test(t);let r=t.split(".");for(let n of r)if(!Od(n))return!1;return!0};var CC=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!CC(r))return!1;return!0}return!(!Od(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Pd(t))};var yL=t=>{let e=t.split(":");if(e.length<6)return null;let[r,n,s,o,i,...a]=e;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:o,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var gL=(t,e)=>t===e;var bC=t=>{let e=t.split("."),r=[];for(let n of e){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ae(`Path: '${t}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Ae(`Invalid array index: '${o}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r};var Mh=(t,e)=>bC(e).reduce((r,n)=>{if(typeof r!="object")throw new Ae(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t);var EL=t=>t!=null;var SL=t=>!t;var _C;(function(t){t.HEADER="header",t.QUERY="query"})(_C||(_C={}));var RC;(function(t){t.AAAA="AAAA",t.A="A"})(RC||(RC={}));var ei;(function(t){t.HTTP="http",t.HTTPS="https"})(ei||(ei={}));var AC;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(AC||(AC={}));var Lh={[ei.HTTP]:80,[ei.HTTPS]:443},wL=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:u,port:g,protocol:y="",path:x="",query:R={}}=t,v=new URL(`${y}//${u}${g?`:${g}`:""}${x}`);return v.search=Object.entries(R).map(([se,Z])=>`${se}=${Z}`).join("&"),v}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=e;if(a)return null;let c=i.slice(0,-1);if(!Object.values(ei).includes(c))return null;let d=Pd(s),l=r.includes(`${n}:${Lh[c]}`)||typeof t=="string"&&t.includes(`${n}:${Lh[c]}`),f=`${n}${l?`:${Lh[c]}`:""}`;return{scheme:c,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}};var xL=(t,e)=>t===e;var CL=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r);var bL=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var vd=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},s=0;for(;s<t.length;){let o=t.indexOf("{",s);if(o===-1){r.push(t.slice(s));break}r.push(t.slice(s,o));let i=t.indexOf("}",o);if(i===-1){r.push(t.slice(o));break}t[o+1]==="{"&&t[i+1]==="}"&&(r.push(t.slice(o+1,i)),s=i+2);let a=t.substring(o+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(Mh(n[c],d))}else r.push(n[a]);s=i+1}return r.join("")};var kC=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t];var us=(t,e,r)=>{if(typeof t=="string")return vd(t,r);if(t.fn)return Id(t,r);if(t.ref)return kC(t,r);throw new Ae(`'${e}': ${String(t)} is not a string, function or reference.`)};var Id=({fn:t,argv:e},r)=>{let n=e.map(s=>["boolean","number"].includes(typeof s)?s:us(s,"arg",r));return t.split(".").reduce((s,o)=>s[o],Fh)(...n)};var TC=({assign:t,...e},r)=>{var s,o;if(t&&t in r.referenceRecord)throw new Ae(`'${t}' is already defined in Reference Record.`);let n=Id(e,r);return(o=(s=r.logger)==null?void 0:s.debug)==null||o.call(s,sn,`evaluateCondition: ${or(e)} = ${or(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}};var ti=(t=[],e)=>{var n,s;let r={};for(let o of t){let{result:i,toAssign:a}=TC(o,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(s=(n=e.logger)==null?void 0:n.debug)==null||s.call(n,sn,`assign: ${a.name} := ${or(a.value)}`))}return{result:!0,referenceRecord:r}};var NC=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=us(o,"Header value entry",e);if(typeof i!="string")throw new Ae(`Header '${n}' value '${i}' is not a string`);return i})}),{});var Uh=(t,e)=>{if(Array.isArray(t))return t.map(r=>Uh(r,e));switch(typeof t){case"string":return vd(t,e);case"object":if(t===null)throw new Ae(`Unexpected endpoint property: ${t}`);return Dd(t,e);case"boolean":return t;default:throw new Ae(`Unexpected endpoint property type: ${typeof t}`)}};var Dd=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:Uh(s,e)}),{});var PC=(t,e)=>{let r=us(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ae(`Endpoint URL must be a string, got ${typeof r}`)};var OC=(t,e)=>{var l,f;let{conditions:r,endpoint:n}=t,{result:s,referenceRecord:o}=ti(r,e);if(!s)return;let i={...e,referenceRecord:{...e.referenceRecord,...o}},{url:a,properties:c,headers:d}=n;return(f=(l=e.logger)==null?void 0:l.debug)==null||f.call(l,sn,`Resolving endpoint from template: ${or(n)}`),{...d!=null&&{headers:NC(d,i)},...c!=null&&{properties:Dd(c,i)},url:PC(a,i)}};var vC=(t,e)=>{let{conditions:r,error:n}=t,{result:s,referenceRecord:o}=ti(r,e);if(s)throw new Ae(us(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))};var IC=(t,e)=>{let{conditions:r,rules:n}=t,{result:s,referenceRecord:o}=ti(r,e);if(s)return Bd(n,{...e,referenceRecord:{...e.referenceRecord,...o}})};var Bd=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=OC(r,e);if(n)return n}else if(r.type==="error")vC(r,e);else if(r.type==="tree"){let n=IC(r,e);if(n)return n}else throw new Ae(`Unknown endpoint rule: ${r}`);throw new Ae("Rules evaluation failed")};var fs=(t,e)=>{var d,l,f,u,g;let{endpointParams:r,logger:n}=e,{parameters:s,rules:o}=t;(l=(d=e.logger)==null?void 0:d.debug)==null||l.call(d,sn,`Initial EndpointParams: ${or(r)}`);let i=Object.entries(s).filter(([,y])=>y.default!=null).map(([y,x])=>[y,x.default]);if(i.length>0)for(let[y,x]of i)r[y]=r[y]??x;let a=Object.entries(s).filter(([,y])=>y.required).map(([y])=>y);for(let y of a)if(r[y]==null)throw new Ae(`Missing required parameter: '${y}'`);let c=Bd(o,{endpointParams:r,logger:n,referenceRecord:{}});if((f=e.endpointParams)!=null&&f.Endpoint)try{let y=new URL(e.endpointParams.Endpoint),{protocol:x,port:R}=y;c.url.protocol=x,c.url.port=R}catch{}return(g=(u=e.logger)==null?void 0:u.debug)==null||g.call(u,sn,`Resolved endpoint: ${or(c)}`),c};var zh="user-agent",Md="x-amz-user-agent",$h=" ",DC=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var _L=t=>(e,r)=>async n=>{var u,g;let{request:s}=n;if(!re.isInstance(s))return e(n);let{headers:o}=s,i=((u=r==null?void 0:r.userAgent)==null?void 0:u.map(qh))||[],a=(await t.defaultUserAgentProvider()).map(qh),c=((g=t==null?void 0:t.customUserAgent)==null?void 0:g.map(qh))||[],d=Dh(),l=(d?[d]:[]).concat([...a,...i,...c]).join($h),f=[...a.filter(y=>y.startsWith("aws-sdk-")),...c].join($h);return t.runtime!=="browser"?(f&&(o[Md]=o[Md]?`${o[zh]} ${f}`:f),o[zh]=l):o[Md]=l,e({...n,request:s})},qh=([t,e])=>{let r=t.indexOf("/"),n=t.substring(0,r),s=t.substring(r+1);return n==="api"&&(s=s.toLowerCase()),[n,s,e].filter(o=>o&&o.length>0).map(o=>o==null?void 0:o.replace(DC,"_")).join("/")},RL={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},hs=t=>({applyToStack:e=>{e.add(_L(t),RL)}});var BC=t=>({...t,useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var MC={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.321.1",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.321.1","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/credential-provider-node":"3.321.1","@aws-sdk/eventstream-serde-browser":"3.310.0","@aws-sdk/eventstream-serde-config-resolver":"3.310.0","@aws-sdk/eventstream-serde-node":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-blob-browser":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/hash-stream-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/md5-js":"3.310.0","@aws-sdk/middleware-bucket-endpoint":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-expect-continue":"3.310.0","@aws-sdk/middleware-flexible-checksums":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-location-constraint":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-sdk-s3":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-signing":"3.310.0","@aws-sdk/middleware-ssec":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.319.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.321.1","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/signature-v4-multi-region":"3.310.0","@aws-sdk/smithy-client":"3.316.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.316.0","@aws-sdk/util-defaults-mode-node":"3.316.0","@aws-sdk/util-endpoints":"3.319.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-stream-browser":"3.310.0","@aws-sdk/util-stream-node":"3.321.1","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0","@aws-sdk/util-waiter":"3.310.0","@aws-sdk/xml-builder":"3.310.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var LC=jt(eh());var Bt=class extends rr{constructor(e){super(e),Object.setPrototypeOf(this,Bt.prototype)}};var ri=class extends Bt{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,ri.prototype)}},ni=class extends Bt{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,ni.prototype)}},si=class extends Bt{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,si.prototype)}},oi=class extends Bt{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,oi.prototype)}},ii=class extends Bt{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,ii.prototype)}},ai=class extends Bt{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,ai.prototype)}},ci=class extends Bt{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,ci.prototype)}};var FC=async(t,e)=>{let r=QC,n;return n=JC({...vL(t,e),Action:"AssumeRole",Version:"2011-06-15"}),XC(e,r,"/",void 0,n)};var UC=async(t,e)=>{let r=QC,n;return n=JC({...IL(t,e),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),XC(e,r,"/",void 0,n)};var zC=async(t,e)=>{if(t.statusCode>=300)return kL(t,e);let r=await Hh(t.body,e),n={};return n=FL(r.AssumeRoleResult,e),{$metadata:on(t),...n}},kL=async(t,e)=>{let r={...t,body:await ZC(t.body,e)},n=eb(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await qC(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await HC(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await jC(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await GC(r,e);default:let s=r.body;return YC({output:t,parsedBody:s.Error,errorCode:n})}};var $C=async(t,e)=>{if(t.statusCode>=300)return TL(t,e);let r=await Hh(t.body,e),n={};return n=UL(r.AssumeRoleWithWebIdentityResult,e),{$metadata:on(t),...n}},TL=async(t,e)=>{let r={...t,body:await ZC(t.body,e)},n=eb(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await qC(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await NL(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await PL(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await OL(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await HC(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await jC(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await GC(r,e);default:let s=r.body;return YC({output:t,parsedBody:s.Error,errorCode:n})}};var qC=async(t,e)=>{let r=t.body,n=zL(r.Error,e),s=new ri({$metadata:on(t),...n});return Ee(s,r)},NL=async(t,e)=>{let r=t.body,n=$L(r.Error,e),s=new ci({$metadata:on(t),...n});return Ee(s,r)},PL=async(t,e)=>{let r=t.body,n=qL(r.Error,e),s=new ii({$metadata:on(t),...n});return Ee(s,r)};var OL=async(t,e)=>{let r=t.body,n=HL(r.Error,e),s=new ai({$metadata:on(t),...n});return Ee(s,r)},HC=async(t,e)=>{let r=t.body,n=jL(r.Error,e),s=new ni({$metadata:on(t),...n});return Ee(s,r)},jC=async(t,e)=>{let r=t.body,n=GL(r.Error,e),s=new si({$metadata:on(t),...n});return Ee(s,r)},GC=async(t,e)=>{let r=t.body,n=KL(r.Error,e),s=new oi({$metadata:on(t),...n});return Ee(s,r)},vL=(t,e)=>{var n,s,o;let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.PolicyArns!=null){let i=KC(t.PolicyArns,e);((n=t.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let d=`PolicyArns.${a}`;r[d]=c})}if(t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.Tags!=null){let i=LL(t.Tags,e);((s=t.Tags)==null?void 0:s.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let d=`Tags.${a}`;r[d]=c})}if(t.TransitiveTagKeys!=null){let i=ML(t.TransitiveTagKeys,e);((o=t.TransitiveTagKeys)==null?void 0:o.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let d=`TransitiveTagKeys.${a}`;r[d]=c})}return t.ExternalId!=null&&(r.ExternalId=t.ExternalId),t.SerialNumber!=null&&(r.SerialNumber=t.SerialNumber),t.TokenCode!=null&&(r.TokenCode=t.TokenCode),t.SourceIdentity!=null&&(r.SourceIdentity=t.SourceIdentity),r};var IL=(t,e)=>{var n;let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.WebIdentityToken!=null&&(r.WebIdentityToken=t.WebIdentityToken),t.ProviderId!=null&&(r.ProviderId=t.ProviderId),t.PolicyArns!=null){let s=KC(t.PolicyArns,e);((n=t.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),r};var KC=(t,e)=>{let r={},n=1;for(let s of t){if(s===null)continue;let o=DL(s,e);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},DL=(t,e)=>{let r={};return t.arn!=null&&(r.arn=t.arn),r},BL=(t,e)=>{let r={};return t.Key!=null&&(r.Key=t.Key),t.Value!=null&&(r.Value=t.Value),r},ML=(t,e)=>{let r={},n=1;for(let s of t)s!==null&&(r[`member.${n}`]=s,n++);return r},LL=(t,e)=>{let r={},n=1;for(let s of t){if(s===null)continue;let o=BL(s,e);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},VC=(t,e)=>{let r={};return t.AssumedRoleId!==void 0&&(r.AssumedRoleId=L(t.AssumedRoleId)),t.Arn!==void 0&&(r.Arn=L(t.Arn)),r},FL=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=WC(t.Credentials,e)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=VC(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=Ws(t.PackedPolicySize)),t.SourceIdentity!==void 0&&(r.SourceIdentity=L(t.SourceIdentity)),r};var UL=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=WC(t.Credentials,e)),t.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=L(t.SubjectFromWebIdentityToken)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=VC(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=Ws(t.PackedPolicySize)),t.Provider!==void 0&&(r.Provider=L(t.Provider)),t.Audience!==void 0&&(r.Audience=L(t.Audience)),t.SourceIdentity!==void 0&&(r.SourceIdentity=L(t.SourceIdentity)),r},WC=(t,e)=>{let r={};return t.AccessKeyId!==void 0&&(r.AccessKeyId=L(t.AccessKeyId)),t.SecretAccessKey!==void 0&&(r.SecretAccessKey=L(t.SecretAccessKey)),t.SessionToken!==void 0&&(r.SessionToken=L(t.SessionToken)),t.Expiration!==void 0&&(r.Expiration=it(Uf(t.Expiration))),r};var zL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=L(t.message)),r};var $L=(t,e)=>{let r={};return t.message!==void 0&&(r.message=L(t.message)),r},qL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=L(t.message)),r};var HL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=L(t.message)),r},jL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=L(t.message)),r},GL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=L(t.message)),r},KL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=L(t.message)),r},on=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),VL=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),WL=(t,e)=>VL(t,e).then(r=>e.utf8Encoder(r)),YC=qn(Bt),XC=async(t,e,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:c}=await t.endpoint(),d={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new re(d)},QC={"content-type":"application/x-www-form-urlencoded"},Hh=(t,e)=>WL(t,e).then(r=>{if(r.length){let n=new LC.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),xa(a)}return{}}),ZC=async(t,e)=>{let r=await Hh(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},JC=t=>Object.entries(t).map(([e,r])=>tn(e)+"="+tn(r)).join("&"),eb=(t,e)=>{var r;if(((r=e.Error)==null?void 0:r.Code)!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"};var di=class extends Be{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,di.getEndpointParameterInstructions())),this.middlewareStack.use(Nd(r));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return FC(e,r)}deserialize(e,r){return zC(e,r)}};var li=class extends Be{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,li.getEndpointParameterInstructions()));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return UC(e,r)}deserialize(e,r){return $C(e,r)}};var tb=(t,{stsClientCtor:e})=>kd({...t,stsClientCtor:e});var rb=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"});var nb={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.321.1",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/credential-provider-node":"3.321.1","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-sdk-sts":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-signing":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.319.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.321.1","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.316.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.316.0","@aws-sdk/util-defaults-mode-node":"3.316.0","@aws-sdk/util-endpoints":"3.319.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var sb="us-east-1",ob=t=>typeof t!="function"?t===void 0?sb:t:async()=>{try{return await t()}catch{return sb}},jh=(t,e)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:a,region:c,requestHandler:d}=t;r=new e({logger:a,credentialDefaultProvider:()=>async()=>n,region:ob(c||t.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new di(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Gh=(t,e)=>{let r;return async n=>{if(!r){let{logger:o,region:i,requestHandler:a}=t;r=new e({logger:o,region:ob(i||t.region),...a?{requestHandler:a}:{}})}let{Credentials:s}=await r.send(new li(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}},ib=t=>e=>t({roleAssumer:jh(e,e.stsClientCtor),roleAssumerWithWebIdentity:Gh(e,e.stsClientCtor),...e});var XL="AWS_ACCESS_KEY_ID",QL="AWS_SECRET_ACCESS_KEY",ZL="AWS_SESSION_TOKEN",JL="AWS_CREDENTIAL_EXPIRATION",Ld=()=>async()=>{let t=process.env[XL],e=process.env[QL],r=process.env[ZL],n=process.env[JL];if(t&&e)return{accessKeyId:t,secretAccessKey:e,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new q("Unable to find environment variable credentials.")};import{homedir as eF}from"os";import{sep as tF}from"path";var ui=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${tF}`}=process.env;return t||e||(r?`${n}${r}`:eF())};var Kh="AWS_PROFILE",rF="default",ir=t=>t.profile||process.env[Kh]||rF;import{createHash as nF}from"crypto";import{join as sF}from"path";var Fd=t=>{let r=nF("sha1").update(t).digest("hex");return sF(ui(),".aws","sso","cache",`${r}.json`)};import{promises as oF}from"fs";var{readFile:iF}=oF,Ud=async t=>{let e=Fd(t),r=await iF(e,"utf8");return JSON.parse(r)};import{join as aF}from"path";var cF="AWS_CONFIG_FILE",zd=()=>process.env[cF]||aF(ui(),".aws","config");import{join as dF}from"path";var lF="AWS_SHARED_CREDENTIALS_FILE",ab=()=>process.env[lF]||dF(ui(),".aws","credentials");var cb=/^profile\s(["'])?([^\1]+)\1$/,db=t=>Object.entries(t).filter(([e])=>cb.test(e)).reduce((e,[r,n])=>({...e,[cb.exec(r)[2]]:n}),{...t.default&&{default:t.default}});var uF=["__proto__","profile __proto__"],Da=t=>{let e={},r;for(let n of t.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),uF.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let o=n.indexOf("="),i=0,a=n.length-1;if(o!==-1&&o!==i&&o!==a){let[d,l]=[n.substring(0,o).trim(),n.substring(o+1).trim()];e[r]=e[r]||{},e[r][d]=l}}return e};import{promises as fF}from"fs";var{readFile:hF}=fF,Vh={},Ba=(t,e)=>((!Vh[t]||e!=null&&e.ignoreCache)&&(Vh[t]=hF(t,"utf8")),Vh[t]);var lb=()=>({}),$d=async(t={})=>{let{filepath:e=ab(),configFilepath:r=zd()}=t,n=await Promise.all([Ba(r,{ignoreCache:t.ignoreCache}).then(Da).then(db).catch(lb),Ba(e,{ignoreCache:t.ignoreCache}).then(Da).catch(lb)]);return{configFile:n[0],credentialsFile:n[1]}};var ub=/^sso-session\s(["'])?([^\1]+)\1$/,fb=t=>Object.entries(t).filter(([e])=>ub.test(e)).reduce((e,[r,n])=>({...e,[ub.exec(r)[2]]:n}),{});var mF=()=>({}),qd=async(t={})=>Ba(t.configFilepath??zd()).then(Da).then(fb).catch(mF);var hb=(...t)=>{let e={};for(let r of t)for(let[n,s]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],s):e[n]=s;return e};var ms=async t=>{let e=await $d(t);return hb(e.configFile,e.credentialsFile)};import{parse as gF}from"url";import{Buffer as pF}from"buffer";import{request as yF}from"http";function an(t){return new Promise((e,r)=>{var s;let n=yF({method:"GET",...t,hostname:(s=t.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new It("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new It("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:i=400}=o;(i<200||300<=i)&&(r(Object.assign(new It("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];o.on("data",c=>{a.push(c)}),o.on("end",()=>{e(pF.concat(a)),n.destroy()})}),n.end()})}var Hd=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",jd=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration)});var Gd=({maxRetries:t=0,timeout:e=1e3})=>({maxRetries:t,timeout:e});var Ma=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r};var La="AWS_CONTAINER_CREDENTIALS_FULL_URI",Fa="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",mb="AWS_CONTAINER_AUTHORIZATION_TOKEN",Kd=(t={})=>{let{timeout:e,maxRetries:r}=Gd(t);return()=>Ma(async()=>{let n=await CF(),s=JSON.parse(await EF(e,n));if(!Hd(s))throw new q("Invalid response received from instance metadata service.");return jd(s)},r)},EF=async(t,e)=>(process.env[mb]&&(e.headers={...e.headers,Authorization:process.env[mb]}),(await an({...e,timeout:t})).toString()),SF="169.254.170.2",wF={localhost:!0,"127.0.0.1":!0},xF={"http:":!0,"https:":!0},CF=async()=>{if(process.env[Fa])return{hostname:SF,path:process.env[Fa]};if(process.env[La]){let t=gF(process.env[La]);if(!t.hostname||!(t.hostname in wF))throw new q(`${t.hostname} is not a valid container metadata service hostname`,!1);if(!t.protocol||!(t.protocol in xF))throw new q(`${t.protocol} is not a valid container metadata service protocol`,!1);return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new q(`The container metadata credential provider cannot be used unless the ${Fa} or ${La} environment variable is set`,!1)};var pb=t=>async()=>{try{let e=t(process.env);if(e===void 0)throw new Error;return e}catch(e){throw new q(e.message||`Cannot load config from environment variables with getter: ${t}`)}};var yb=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=ir(r),{configFile:s,credentialsFile:o}=await $d(r),i=o[n]||{},a=s[n]||{},c=e==="config"?{...i,...a}:{...a,...i};try{let d=t(c);if(d===void 0)throw new Error;return d}catch(d){throw new q(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${t}`)}};var bF=t=>typeof t=="function",gb=t=>bF(t)?async()=>await t():Yx(t);var ce=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>ds(Sd(pb(t),yb(e,n),gb(r)));var Ua;(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(Ua||(Ua={}));var _F="AWS_EC2_METADATA_SERVICE_ENDPOINT",RF="ec2_metadata_service_endpoint",Eb={environmentVariableSelector:t=>t[_F],configFileSelector:t=>t[RF],default:void 0};var ps;(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(ps||(ps={}));var AF="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",kF="ec2_metadata_service_endpoint_mode",Sb={environmentVariableSelector:t=>t[AF],configFileSelector:t=>t[kF],default:ps.IPv4};var za=async()=>Pt(await TF()||await NF()),TF=async()=>ce(Eb)(),NF=async()=>{let t=await ce(Sb)();switch(t){case ps.IPv4:return Ua.IPv4;case ps.IPv6:return Ua.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(ps)}`)}};var PF="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Wh=(t,e)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);e.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+PF);let s=t.originalExpiration??t.expiration;return{...t,...s?{originalExpiration:s}:{},expiration:n}};var wb=(t,e={})=>{let r=(e==null?void 0:e.logger)||console,n;return async()=>{let s;try{s=await t(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=Wh(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=Wh(n,r);else throw o}return n=s,s}};var xb="/latest/meta-data/iam/security-credentials/",OF="/latest/api/token",Vd=(t={})=>wb(vF(t),{logger:t.logger}),vF=t=>{let e=!1,{timeout:r,maxRetries:n}=Gd(t),s=async(o,i)=>{let a=(await Ma(async()=>{let c;try{c=await DF(i)}catch(d){throw d.statusCode===401&&(e=!1),d}return c},o)).trim();return Ma(async()=>{let c;try{c=await BF(a,i)}catch(d){throw d.statusCode===401&&(e=!1),d}return c},o)};return async()=>{let o=await za();if(e)return s(n,{...o,timeout:r});{let i;try{i=(await IF({...o,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(e=!0),s(n,{...o,timeout:r})}return s(n,{...o,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},IF=async t=>an({...t,path:OF,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),DF=async t=>(await an({...t,path:xb})).toString(),BF=async(t,e)=>{let r=JSON.parse((await an({...e,path:xb+t})).toString());if(!Hd(r))throw new q("Invalid response received from instance metadata service.");return jd(r)};var Cb=(t,e)=>{let r={EcsContainer:Kd,Ec2InstanceMetadata:Vd,Environment:Ld};if(t in r)return r[t]();throw new q(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var bb=t=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(MF(t)||LF(t)),MF=t=>typeof t.source_profile=="string"&&typeof t.credential_source>"u",LF=t=>typeof t.credential_source=="string"&&typeof t.source_profile>"u",_b=async(t,e,r,n={})=>{let s=e[t];if(!r.roleAssumer)throw new q(`Profile ${t} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=s;if(o&&o in n)throw new q(`Detected a cycle attempting to resolve credentials for profile ${ir(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=o?Wd(o,e,r,{...n,[o]:!0}):Cb(s.credential_source,t)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!r.mfaCodeProvider)throw new q(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};import{exec as FF}from"child_process";import{promisify as UF}from"util";var Rb=(t,e)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let r=new Date;if(new Date(e.Expiration)<r)throw Error(`Profile ${t} credential_process returned expired credentials.`)}return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)}}};var Ab=async(t,e)=>{let r=e[t];if(e[t]){let n=r.credential_process;if(n!==void 0){let s=UF(FF);try{let{stdout:o}=await s(n),i;try{i=JSON.parse(o.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return Rb(t,i)}catch(o){throw new q(o.message)}}else throw new q(`Profile ${t} did not contain credential_process.`)}else throw new q(`Profile ${t} could not be found in shared credentials file.`)};var Yd=(t={})=>async()=>{let e=await ms(t);return Ab(ir(t),e)};var kb=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",Tb=async(t,e)=>Yd({...t,profile:e})();var $a=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string");var Er=class extends rr{constructor(e){super(e),Object.setPrototypeOf(this,Er.prototype)}};var fi=class extends Er{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,fi.prototype)}},hi=class extends Er{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,hi.prototype)}},mi=class extends Er{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,mi.prototype)}},pi=class extends Er{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,pi.prototype)}},Nb=t=>({...t,...t.accessToken&&{accessToken:Me}}),zF=t=>({...t,...t.secretAccessKey&&{secretAccessKey:Me},...t.sessionToken&&{sessionToken:Me}}),Pb=t=>({...t,...t.roleCredentials&&{roleCredentials:zF(t.roleCredentials)}});var Ob=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=J({},YF,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,c=J({role_name:[,it(t.roleName,"roleName")],account_id:[,it(t.accountId,"accountId")]}),d;return new re({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:d})};var vb=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $F(t,e);let r=J({$metadata:qa(t)}),n=it(zn(await Ib(t.body,e)),"body"),s=He(n,{roleCredentials:Ca});return Object.assign(r,s),r},$F=async(t,e)=>{let r={...t,body:await XF(t.body,e)},n=QF(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await HF(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await jF(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await GF(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await KF(r,e);default:let s=r.body;return qF({output:t,parsedBody:s,errorCode:n})}};var qF=qn(Er),HF=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{message:L});Object.assign(r,s);let o=new fi({$metadata:qa(t),...r});return Ee(o,t.body)},jF=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{message:L});Object.assign(r,s);let o=new hi({$metadata:qa(t),...r});return Ee(o,t.body)},GF=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{message:L});Object.assign(r,s);let o=new mi({$metadata:qa(t),...r});return Ee(o,t.body)},KF=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{message:L});Object.assign(r,s);let o=new pi({$metadata:qa(t),...r});return Ee(o,t.body)},qa=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),VF=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),WF=(t,e)=>VF(t,e).then(r=>e.utf8Encoder(r)),YF=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),Ib=(t,e)=>WF(t,e).then(r=>r.length?JSON.parse(r):{}),XF=async(t,e)=>{let r=await Ib(t,e);return r.message=r.message??r.Message,r},QF=(t,e)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)};var yi=class extends Be{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,yi.getEndpointParameterInstructions()));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:Nb,outputFilterSensitiveLog:Pb},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return Ob(e,r)}deserialize(e,r){return vb(e,r)}};var Db=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var Bb={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.321.1",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.319.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.321.1","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.316.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.316.0","@aws-sdk/util-defaults-mode-node":"3.316.0","@aws-sdk/util-endpoints":"3.319.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};import{Buffer as JF}from"buffer";import{createHash as e3,createHmac as t3}from"crypto";var ar=class{constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(vt(Mb(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?t3(this.algorithmIdentifier,Mb(this.secret)):e3(this.algorithmIdentifier)}};function Mb(t,e){return JF.isBuffer(t)?t:typeof t=="string"?Ko(t,e):ArrayBuffer.isView(t)?nn(t.buffer,t.byteOffset,t.byteLength):nn(t)}function Yh(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=Dr(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)e.push(`${r}=${Dr(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Dr(n)}`),e.push(s)}}return e.join("&")}import{Agent as n3,request as s3}from"http";import{Agent as o3,request as i3}from"https";var Lb=["ECONNRESET","EPIPE","ETIMEDOUT"];var Xh=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e};var Fb=(t,e,r=0)=>{r&&t.on("socket",n=>{if(n.connecting){let s=setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);n.on("connect",()=>{clearTimeout(s)})}})};var Ub=(t,e,r=0)=>{t.setTimeout(r,()=>{t.destroy(),e(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};import{Readable as r3}from"stream";function Qh(t,e){(e.headers.Expect||e.headers.expect)==="100-continue"?t.on("continue",()=>{zb(t,e.body)}):zb(t,e.body)}function zb(t,e){e instanceof r3?e.pipe(t):e?t.end(Buffer.from(e)):t.end()}var Br=class{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,httpAgent:o,httpsAgent:i}=e||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??s,httpAgent:o||new n3({keepAlive:a,maxSockets:c}),httpsAgent:i||new o3({keepAlive:a,maxSockets:c})}}destroy(){var e,r,n,s;(r=(e=this.config)==null?void 0:e.httpAgent)==null||r.destroy(),(s=(n=this.config)==null?void 0:n.httpsAgent)==null||s.destroy()}async handle(e,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let l=new Error("Request aborted");l.name="AbortError",s(l);return}let o=e.protocol==="https:",i=Yh(e.query||{}),a={headers:e.headers,host:e.hostname,method:e.method,path:i?`${e.path}?${i}`:e.path,port:e.port,agent:o?this.config.httpsAgent:this.config.httpAgent},d=(o?i3:s3)(a,l=>{let f=new nr({statusCode:l.statusCode||-1,headers:Xh(l.headers),body:l});n({response:f})});d.on("error",l=>{Lb.includes(l.code)?s(Object.assign(l,{name:"TimeoutError"})):s(l)}),Fb(d,s,this.config.connectionTimeout),Ub(d,s,this.config.requestTimeout),r&&(r.onabort=()=>{d.abort();let l=new Error("Request aborted");l.name="AbortError",s(l)}),Qh(d,e)})}};var Zh=class{constructor(e){this.sessions=[],this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}};import{Writable as a3}from"stream";var Xd=class extends a3{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,r,n){this.bufferedBytes.push(e),n()}};var Mr=t=>new Promise((e,r)=>{let n=new Xd;t.pipe(n),t.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));e(s)})});import{fstatSync as c3,lstatSync as d3}from"fs";var ys=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.from(t).length;if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.path=="string"||Buffer.isBuffer(t.path))return d3(t.path).size;if(typeof t.fd=="number")return c3(t.fd).size;throw new Error(`Body Length computation failed for ${t}`)};import{platform as l3,release as u3}from"os";import{env as qb,versions as f3}from"process";var $b=()=>{try{return typeof N=="function"&&typeof module<"u"&&N("aws-crt")?["md/crt-avail"]:null}catch{return null}};var h3="AWS_SDK_UA_APP_ID",m3="sdk-ua-app-id",gs=({serviceId:t,clientVersion:e})=>{let r=[["aws-sdk-js",e],[`os/${l3()}`,u3()],["lang/js"],["md/nodejs",`${f3.node}`]],n=$b();n&&r.push(n),t&&r.push([`api/${t}`,e]),qb.AWS_EXECUTION_ENV&&r.push([`exec-env/${qb.AWS_EXECUTION_ENV}`]);let s=ce({environmentVariableSelector:i=>i[h3],configFileSelector:i=>i[m3],default:void 0})(),o;return async()=>{if(!o){let i=await s;o=i?[...r,[`app/${i}`]]:[...r]}return o}};var p3=/^[A-Za-z0-9+/]*={0,2}$/,Es=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!p3.exec(t))throw new TypeError("Invalid base64 string.");let e=Ko(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};var Ss=t=>nn(t.buffer,t.byteOffset,t.byteLength).toString("base64");var Xb="required",cn="fn",dn="argv",gi="ref",Jh="PartitionResult",Lr="tree",Ha="error",ja="endpoint",Hb={[Xb]:!1,type:"String"},jb={[Xb]:!0,default:!1,type:"Boolean"},Qb={[gi]:"Endpoint"},Zb={[cn]:"booleanEquals",[dn]:[{[gi]:"UseFIPS"},!0]},Jb={[cn]:"booleanEquals",[dn]:[{[gi]:"UseDualStack"},!0]},Fr={},Gb={[cn]:"booleanEquals",[dn]:[!0,{[cn]:"getAttr",[dn]:[{[gi]:Jh},"supportsFIPS"]}]},Kb={[cn]:"booleanEquals",[dn]:[!0,{[cn]:"getAttr",[dn]:[{[gi]:Jh},"supportsDualStack"]}]},Vb=[Qb],Wb=[Zb],Yb=[Jb],y3={version:"1.0",parameters:{Region:Hb,UseDualStack:jb,UseFIPS:jb,Endpoint:Hb},rules:[{conditions:[{[cn]:"aws.partition",[dn]:[{[gi]:"Region"}],assign:Jh}],type:Lr,rules:[{conditions:[{[cn]:"isSet",[dn]:Vb},{[cn]:"parseURL",[dn]:Vb,assign:"url"}],type:Lr,rules:[{conditions:Wb,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ha},{type:Lr,rules:[{conditions:Yb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ha},{endpoint:{url:Qb,properties:Fr,headers:Fr},type:ja}]}]},{conditions:[Zb,Jb],type:Lr,rules:[{conditions:[Gb,Kb],type:Lr,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fr,headers:Fr},type:ja}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ha}]},{conditions:Wb,type:Lr,rules:[{conditions:[Gb],type:Lr,rules:[{type:Lr,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Fr,headers:Fr},type:ja}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Ha}]},{conditions:Yb,type:Lr,rules:[{conditions:[Kb],type:Lr,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fr,headers:Fr},type:ja}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Ha}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Fr,headers:Fr},type:ja}]}]},e_=y3;var t_=(t,e={})=>fs(e_,{endpointParams:t,logger:e.logger});var r_=t=>({apiVersion:"2019-06-10",base64Decoder:(t==null?void 0:t.base64Decoder)??Es,base64Encoder:(t==null?void 0:t.base64Encoder)??Ss,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??t_,logger:(t==null?void 0:t.logger)??new Rr,serviceId:(t==null?void 0:t.serviceId)??"SSO",urlParser:(t==null?void 0:t.urlParser)??Pt,utf8Decoder:(t==null?void 0:t.utf8Decoder)??Nr,utf8Encoder:(t==null?void 0:t.utf8Encoder)??Xn});var n_="AWS_EXECUTION_ENV",em="AWS_REGION",tm="AWS_DEFAULT_REGION",s_="AWS_EC2_METADATA_DISABLED",o_=["in-region","cross-region","mobile","standard","legacy"],i_="/latest/meta-data/placement/region";var g3="AWS_DEFAULTS_MODE",E3="defaults_mode",a_={environmentVariableSelector:t=>t[g3],configFileSelector:t=>t[E3],default:"legacy"};var ws=({region:t=ce(Or),defaultsMode:e=ce(a_)}={})=>ds(async()=>{let r=typeof e=="function"?await e():e;switch(r==null?void 0:r.toLowerCase()){case"auto":return S3(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${o_.join(", ")}, got ${r}`)}}),S3=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await w3();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},w3=async()=>{if(process.env[n_]&&(process.env[em]||process.env[tm]))return process.env[em]??process.env[tm];if(!process.env[s_])try{let t=await za();return(await an({...t,path:i_})).toString()}catch{}};var c_=t=>{jn(process.version);let e=ws(t),r=()=>e().then(Hn),n=r_(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??ys,defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??gs({serviceId:n.serviceId,clientVersion:Bb.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??ce(os),region:(t==null?void 0:t.region)??ce(Or,Jn),requestHandler:(t==null?void 0:t.requestHandler)??new Br(r),retryMode:(t==null?void 0:t.retryMode)??ce({...as,default:async()=>(await r()).retryMode||Ir}),sha256:(t==null?void 0:t.sha256)??ar.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??Mr,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ce(Qn),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ce(Zn)}};var Qd=class extends Ar{constructor(e){let r=c_(e),n=Db(r),s=es(n),o=Gn(s),i=is(o),a=i,c=ls(a);super(c),this.config=c,this.middlewareStack.use(cs(this.config)),this.middlewareStack.use(ts(this.config)),this.middlewareStack.use(rs(this.config)),this.middlewareStack.use(ns(this.config)),this.middlewareStack.use(ss(this.config)),this.middlewareStack.use(hs(this.config))}destroy(){super.destroy()}};var Ei="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var Je=class extends rr{constructor(e){super(e),Object.setPrototypeOf(this,Je.prototype)}};var Si=class extends Je{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Si.prototype),this.error=e.error,this.error_description=e.error_description}},wi=class extends Je{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,wi.prototype),this.error=e.error,this.error_description=e.error_description}},xi=class extends Je{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,xi.prototype),this.error=e.error,this.error_description=e.error_description}},Ci=class extends Je{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Ci.prototype),this.error=e.error,this.error_description=e.error_description}},bi=class extends Je{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,bi.prototype),this.error=e.error,this.error_description=e.error_description}},_i=class extends Je{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,_i.prototype),this.error=e.error,this.error_description=e.error_description}},Ri=class extends Je{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Ri.prototype),this.error=e.error,this.error_description=e.error_description}},Ai=class extends Je{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Ai.prototype),this.error=e.error,this.error_description=e.error_description}},ki=class extends Je{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,ki.prototype),this.error=e.error,this.error_description=e.error_description}},Ti=class extends Je{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Ti.prototype),this.error=e.error,this.error_description=e.error_description}},Ni=class extends Je{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Ni.prototype),this.error=e.error,this.error_description=e.error_description}};var d_=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/token`,c;return c=JSON.stringify(He(t,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:d=>Ca(d)})),new re({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,body:c})};var l_=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return x3(t,e);let r=J({$metadata:cr(t)}),n=it(zn(await u_(t.body,e)),"body"),s=He(n,{accessToken:L,expiresIn:Qc,idToken:L,refreshToken:L,tokenType:L});return Object.assign(r,s),r},x3=async(t,e)=>{let r={...t,body:await M3(t.body,e)},n=L3(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await b3(r,e);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await _3(r,e);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await R3(r,e);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await A3(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await k3(r,e);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await T3(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await N3(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await P3(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await O3(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await v3(r,e);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await I3(r,e);default:let s=r.body;return C3({output:t,parsedBody:s,errorCode:n})}};var C3=qn(Je),b3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new Si({$metadata:cr(t),...r});return Ee(o,t.body)},_3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new wi({$metadata:cr(t),...r});return Ee(o,t.body)},R3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new xi({$metadata:cr(t),...r});return Ee(o,t.body)},A3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new Ci({$metadata:cr(t),...r});return Ee(o,t.body)},k3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new bi({$metadata:cr(t),...r});return Ee(o,t.body)};var T3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new _i({$metadata:cr(t),...r});return Ee(o,t.body)},N3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new Ri({$metadata:cr(t),...r});return Ee(o,t.body)},P3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new Ai({$metadata:cr(t),...r});return Ee(o,t.body)},O3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new ki({$metadata:cr(t),...r});return Ee(o,t.body)},v3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new Ti({$metadata:cr(t),...r});return Ee(o,t.body)},I3=async(t,e)=>{let r=J({}),n=t.body,s=He(n,{error:L,error_description:L});Object.assign(r,s);let o=new Ni({$metadata:cr(t),...r});return Ee(o,t.body)},cr=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),D3=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),B3=(t,e)=>D3(t,e).then(r=>e.utf8Encoder(r));var u_=(t,e)=>B3(t,e).then(r=>r.length?JSON.parse(r):{}),M3=async(t,e)=>{let r=await u_(t,e);return r.message=r.message??r.Message,r},L3=(t,e)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)};var Pi=class extends Be{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(je(r,this.serialize,this.deserialize)),this.middlewareStack.use(Ge(r,Pi.getEndpointParameterInstructions()));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return d_(e,r)}deserialize(e,r){return l_(e,r)}};var f_=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var h_={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.321.1",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.319.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.321.1","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.316.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.316.0","@aws-sdk/util-defaults-mode-node":"3.316.0","@aws-sdk/util-endpoints":"3.319.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var x_="required",ln="fn",un="argv",Oi="ref",nm="PartitionResult",Ur="tree",Ga="error",Ka="endpoint",m_={[x_]:!1,type:"String"},p_={[x_]:!0,default:!1,type:"Boolean"},C_={[Oi]:"Endpoint"},b_={[ln]:"booleanEquals",[un]:[{[Oi]:"UseFIPS"},!0]},__={[ln]:"booleanEquals",[un]:[{[Oi]:"UseDualStack"},!0]},zr={},y_={[ln]:"booleanEquals",[un]:[!0,{[ln]:"getAttr",[un]:[{[Oi]:nm},"supportsFIPS"]}]},g_={[ln]:"booleanEquals",[un]:[!0,{[ln]:"getAttr",[un]:[{[Oi]:nm},"supportsDualStack"]}]},E_=[C_],S_=[b_],w_=[__],U3={version:"1.0",parameters:{Region:m_,UseDualStack:p_,UseFIPS:p_,Endpoint:m_},rules:[{conditions:[{[ln]:"aws.partition",[un]:[{[Oi]:"Region"}],assign:nm}],type:Ur,rules:[{conditions:[{[ln]:"isSet",[un]:E_},{[ln]:"parseURL",[un]:E_,assign:"url"}],type:Ur,rules:[{conditions:S_,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ga},{type:Ur,rules:[{conditions:w_,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ga},{endpoint:{url:C_,properties:zr,headers:zr},type:Ka}]}]},{conditions:[b_,__],type:Ur,rules:[{conditions:[y_,g_],type:Ur,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zr,headers:zr},type:Ka}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ga}]},{conditions:S_,type:Ur,rules:[{conditions:[y_],type:Ur,rules:[{type:Ur,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:zr,headers:zr},type:Ka}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Ga}]},{conditions:w_,type:Ur,rules:[{conditions:[g_],type:Ur,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zr,headers:zr},type:Ka}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Ga}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:zr,headers:zr},type:Ka}]}]},R_=U3;var A_=(t,e={})=>fs(R_,{endpointParams:t,logger:e.logger});var k_=t=>({apiVersion:"2019-06-10",base64Decoder:(t==null?void 0:t.base64Decoder)??Es,base64Encoder:(t==null?void 0:t.base64Encoder)??Ss,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??A_,logger:(t==null?void 0:t.logger)??new Rr,serviceId:(t==null?void 0:t.serviceId)??"SSO OIDC",urlParser:(t==null?void 0:t.urlParser)??Pt,utf8Decoder:(t==null?void 0:t.utf8Decoder)??Nr,utf8Encoder:(t==null?void 0:t.utf8Encoder)??Xn});var T_=t=>{jn(process.version);let e=ws(t),r=()=>e().then(Hn),n=k_(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??ys,defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??gs({serviceId:n.serviceId,clientVersion:h_.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??ce(os),region:(t==null?void 0:t.region)??ce(Or,Jn),requestHandler:(t==null?void 0:t.requestHandler)??new Br(r),retryMode:(t==null?void 0:t.retryMode)??ce({...as,default:async()=>(await r()).retryMode||Ir}),sha256:(t==null?void 0:t.sha256)??ar.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??Mr,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ce(Qn),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ce(Zn)}};var Zd=class extends Ar{constructor(e){let r=T_(e),n=f_(r),s=es(n),o=Gn(s),i=is(o),a=i,c=ls(a);super(c),this.config=c,this.middlewareStack.use(cs(this.config)),this.middlewareStack.use(ts(this.config)),this.middlewareStack.use(rs(this.config)),this.middlewareStack.use(ns(this.config)),this.middlewareStack.use(ss(this.config)),this.middlewareStack.use(hs(this.config))}destroy(){super.destroy()}};var sm={},N_=t=>{if(sm[t])return sm[t];let e=new Zd({region:t});return sm[t]=e,e};var P_=(t,e)=>N_(e).send(new Pi({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}));var om=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Dt(`Token is expired. ${Ei}`,!1)};var xs=(t,e,r=!1)=>{if(typeof e>"u")throw new Dt(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${Ei}`,!1)};import{promises as z3}from"fs";var{writeFile:$3}=z3,O_=(t,e)=>{let r=Fd(t),n=JSON.stringify(e,null,2);return $3(r,n)};var v_=new Date(0),I_=(t={})=>async()=>{let e=await ms(t),r=ir(t),n=e[r];if(n){if(!n.sso_session)throw new Dt(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new Dt(`Profile '${r}' could not be found in shared credentials file.`,!1);let s=n.sso_session,i=(await qd(t))[s];if(!i)throw new Dt(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!i[g])throw new Dt(`Sso session '${s}' is missing required property '${g}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await Ud(s)}catch{throw new Dt(`The SSO session token associated with profile=${r} was not found or is invalid. ${Ei}`,!1)}xs("accessToken",d.accessToken),xs("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:f}=d,u={token:l,expiration:new Date(f)};if(u.expiration.getTime()-Date.now()>3e5)return u;if(Date.now()-v_.getTime()<30*1e3)return om(u),u;xs("clientId",d.clientId,!0),xs("clientSecret",d.clientSecret,!0),xs("refreshToken",d.refreshToken,!0);try{v_.setTime(Date.now());let g=await P_(d,c);xs("accessToken",g.accessToken),xs("expiresIn",g.expiresIn);let y=new Date(Date.now()+g.expiresIn*1e3);try{await O_(s,{...d,accessToken:g.accessToken,expiresAt:y.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:y}}catch{return om(u),u}};var H3=15*60*1e3,Va=!1,im=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let R=await I_({profile:i})();a={accessToken:R.token,expiresAt:new Date(R.expiration).toISOString()}}catch(R){throw new q(R.message,Va)}else try{a=await Ud(t)}catch{throw new q(`The SSO session associated with this profile is invalid. ${c}`,Va)}if(new Date(a.expiresAt).getTime()-Date.now()<=H3)throw new q(`The SSO session associated with this profile has expired. ${c}`,Va);let{accessToken:d}=a,l=o||new Qd({region:n}),f;try{f=await l.send(new yi({accountId:r,roleName:s,accessToken:d}))}catch(R){throw q.from(R,Va)}let{roleCredentials:{accessKeyId:u,secretAccessKey:g,sessionToken:y,expiration:x}={}}=f;if(!u||!g||!y||!x)throw new q("SSO returns an invalid temporary credential.",Va);return{accessKeyId:u,secretAccessKey:g,sessionToken:y,expiration:new Date(x)}};var Jd=t=>{let{sso_start_url:e,sso_account_id:r,sso_region:n,sso_role_name:s}=t;if(!e||!r||!n||!s)throw new q(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return t};var el=(t={})=>async()=>{let{ssoStartUrl:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,ssoSession:i}=t,a=ir(t);if(!e&&!r&&!n&&!s&&!i){let d=(await ms(t))[a];if(!d)throw new q(`Profile ${a} was not found.`);if(!$a(d))throw new q(`Profile ${a} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let R=(await qd(t))[d.sso_session],v=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==R.sso_region)throw new q("Conflicting SSO region"+v,!1);if(e&&e!==R.sso_start_url)throw new q("Conflicting SSO start_url"+v,!1);d.sso_region=R.sso_region,d.sso_start_url=R.sso_start_url}let{sso_start_url:l,sso_account_id:f,sso_region:u,sso_role_name:g,sso_session:y}=Jd(d);return im({ssoStartUrl:l,ssoSession:y,ssoAccountId:f,ssoRegion:u,ssoRoleName:g,ssoClient:o,profile:a})}else{if(!e||!r||!n||!s)throw new q('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return im({ssoStartUrl:e,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:a})}};var D_=t=>{let{sso_start_url:e,sso_account_id:r,sso_session:n,sso_region:s,sso_role_name:o}=Jd(t);return el({ssoStartUrl:e,ssoAccountId:r,ssoSession:n,ssoRegion:s,ssoRoleName:o})()};var am=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1,cm=t=>Promise.resolve({accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token});import{readFileSync as j3}from"fs";var B_=t=>()=>{let{roleArn:e,roleSessionName:r,webIdentityToken:n,providerId:s,policyArns:o,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=t;if(!c)throw new q(`Role Arn '${e}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:e,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:o,Policy:i,DurationSeconds:a})};var G3="AWS_WEB_IDENTITY_TOKEN_FILE",K3="AWS_ROLE_ARN",V3="AWS_ROLE_SESSION_NAME",tl=(t={})=>async()=>W3(t),W3=t=>{let e=(t==null?void 0:t.webIdentityTokenFile)??process.env[G3],r=(t==null?void 0:t.roleArn)??process.env[K3],n=(t==null?void 0:t.roleSessionName)??process.env[V3];if(!e||!r)throw new q("Web identity configuration not specified");return B_({...t,webIdentityToken:j3(e,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};var M_=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,L_=async(t,e)=>tl({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity})();var Wd=async(t,e,r,n={})=>{let s=e[t];if(Object.keys(n).length>0&&am(s))return cm(s);if(bb(s))return _b(t,e,r,n);if(am(s))return cm(s);if(M_(s))return L_(s,r);if(kb(s))return Tb(r,t);if($a(s))return D_(s);throw new q(`Profile ${t} could not be found or parsed in shared credentials file.`)};var F_=(t={})=>async()=>{let e=await ms(t);return Wd(ir(t),e,t)};var Y3="AWS_EC2_METADATA_DISABLED",U_=t=>process.env[Fa]||process.env[La]?Kd(t):process.env[Y3]?async()=>{throw new q("EC2 Instance Metadata Service access disabled")}:Vd(t);var rl=(t={})=>ds(Sd(...t.profile||process.env[Kh]?[]:[Ld()],el(t),F_(t),Yd(t),tl(t),U_(t),async()=>{throw new q("Could not load credentials from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);var W_="required",ee="type",he="fn",me="argv",Cs="ref",eo="properties",to="headers";var lm="PartitionResult",dr="tree",ro="booleanEquals",dt="stringEquals",Y_="sigv4",X_="us-east-1",Q_="sts",Pe="endpoint",Z_="https://sts.{Region}.{PartitionResult#dnsSuffix}",Wa="error",um="getAttr",z_={[W_]:!1,[ee]:"String"},dm={[W_]:!0,default:!1,[ee]:"Boolean"},lt={[Cs]:"Region"},J_={[Cs]:"UseFIPS"},e0={[Cs]:"UseDualStack"},$_={[he]:"isSet",[me]:[{[Cs]:"Endpoint"}]},t0={[Cs]:"Endpoint"},ht={url:"https://sts.amazonaws.com",[eo]:{authSchemes:[{name:Y_,signingRegion:X_,signingName:Q_}]},[to]:{}},fn={},q_={conditions:[{[he]:dt,[me]:[lt,"aws-global"]}],[Pe]:ht,[ee]:Pe},r0={[he]:ro,[me]:[J_,!0]},n0={[he]:ro,[me]:[e0,!0]},H_={[he]:ro,[me]:[!0,{[he]:um,[me]:[{[Cs]:lm},"supportsFIPS"]}]},s0={[Cs]:lm},j_={[he]:ro,[me]:[!0,{[he]:um,[me]:[s0,"supportsDualStack"]}]},G_={url:Z_,[eo]:{},[to]:{}},X3=[t0],K_=[r0],V_=[n0],Q3={version:"1.0",parameters:{Region:z_,UseDualStack:dm,UseFIPS:dm,Endpoint:z_,UseGlobalEndpoint:dm},rules:[{conditions:[{[he]:"aws.partition",[me]:[lt],assign:lm}],[ee]:dr,rules:[{conditions:[{[he]:ro,[me]:[{[Cs]:"UseGlobalEndpoint"},!0]},{[he]:ro,[me]:[J_,!1]},{[he]:ro,[me]:[e0,!1]},{[he]:"not",[me]:[$_]}],[ee]:dr,rules:[{conditions:[{[he]:dt,[me]:[lt,"ap-northeast-1"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"ap-south-1"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"ap-southeast-1"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"ap-southeast-2"]}],endpoint:ht,[ee]:Pe},q_,{conditions:[{[he]:dt,[me]:[lt,"ca-central-1"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"eu-central-1"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"eu-north-1"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"eu-west-1"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"eu-west-2"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"eu-west-3"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"sa-east-1"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,X_]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"us-east-2"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"us-west-1"]}],endpoint:ht,[ee]:Pe},{conditions:[{[he]:dt,[me]:[lt,"us-west-2"]}],endpoint:ht,[ee]:Pe},{endpoint:{url:Z_,[eo]:{authSchemes:[{name:Y_,signingRegion:"{Region}",signingName:Q_}]},[to]:fn},[ee]:Pe}]},{conditions:[$_,{[he]:"parseURL",[me]:X3,assign:"url"}],[ee]:dr,rules:[{conditions:K_,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ee]:Wa},{[ee]:dr,rules:[{conditions:V_,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ee]:Wa},{endpoint:{url:t0,[eo]:fn,[to]:fn},[ee]:Pe}]}]},{conditions:[r0,n0],[ee]:dr,rules:[{conditions:[H_,j_],[ee]:dr,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[eo]:fn,[to]:fn},[ee]:Pe}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ee]:Wa}]},{conditions:K_,[ee]:dr,rules:[{conditions:[H_],[ee]:dr,rules:[{[ee]:dr,rules:[{conditions:[{[he]:dt,[me]:["aws-us-gov",{[he]:um,[me]:[s0,"name"]}]}],endpoint:G_,[ee]:Pe},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[eo]:fn,[to]:fn},[ee]:Pe}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[ee]:Wa}]},{conditions:V_,[ee]:dr,rules:[{conditions:[j_],[ee]:dr,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[eo]:fn,[to]:fn},[ee]:Pe}]},{error:"DualStack is enabled but this partition does not support DualStack",[ee]:Wa}]},{[ee]:dr,rules:[q_,{endpoint:G_,[ee]:Pe}]}]}]},o0=Q3;var i0=(t,e={})=>fs(o0,{endpointParams:t,logger:e.logger});var a0=t=>({apiVersion:"2011-06-15",base64Decoder:(t==null?void 0:t.base64Decoder)??Es,base64Encoder:(t==null?void 0:t.base64Encoder)??Ss,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??i0,logger:(t==null?void 0:t.logger)??new Rr,serviceId:(t==null?void 0:t.serviceId)??"STS",urlParser:(t==null?void 0:t.urlParser)??Pt,utf8Decoder:(t==null?void 0:t.utf8Decoder)??Nr,utf8Encoder:(t==null?void 0:t.utf8Encoder)??Xn});var c0=t=>{jn(process.version);let e=ws(t),r=()=>e().then(Hn),n=a0(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??ys,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??ib(rl),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??gs({serviceId:n.serviceId,clientVersion:nb.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??ce(os),region:(t==null?void 0:t.region)??ce(Or,Jn),requestHandler:(t==null?void 0:t.requestHandler)??new Br(r),retryMode:(t==null?void 0:t.retryMode)??ce({...as,default:async()=>(await r()).retryMode||Ir}),sha256:(t==null?void 0:t.sha256)??ar.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??Mr,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ce(Qn),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ce(Zn)}};var no=class extends Ar{constructor(e){let r=c0(e),n=rb(r),s=es(n),o=Gn(s),i=is(o),a=i,c=tb(a,{stsClientCtor:no}),d=ls(c);super(d),this.config=d,this.middlewareStack.use(cs(this.config)),this.middlewareStack.use(ts(this.config)),this.middlewareStack.use(rs(this.config)),this.middlewareStack.use(ns(this.config)),this.middlewareStack.use(ss(this.config)),this.middlewareStack.use(hs(this.config))}destroy(){super.destroy()}};var d0=(t,e)=>e?class extends t{constructor(n){super(n);for(let s of e)this.middlewareStack.use(s)}}:t,Z3=(t={},e)=>jh(t,d0(no,e)),J3=(t={},e)=>Gh(t,d0(no,e)),l0=t=>e=>t({roleAssumer:Z3(e),roleAssumerWithWebIdentity:J3(e),...e});var g0=jt(Na());var bs=class{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&u0(r),new bs(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&u0(e),parseInt(ct(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function u0(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var nl=class{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){let r=[];for(let o of Object.keys(e)){let i=this.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(e.value,3),i;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(bs.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!cU.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(Qx(e.value.replace(/\-/g,"")),1),f}}parse(e){let r={},n=0;for(;n<e.byteLength;){let s=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s));switch(n+=s,e.getUint8(n++)){case 0:r[o]={type:h0,value:!0};break;case 1:r[o]={type:h0,value:!1};break;case 2:r[o]={type:eU,value:e.getInt8(n++)};break;case 3:r[o]={type:tU,value:e.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:rU,value:e.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:nU,value:new bs(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:let i=e.getUint16(n,!1);n+=2,r[o]={type:sU,value:new Uint8Array(e.buffer,e.byteOffset+n,i)},n+=i;break;case 7:let a=e.getUint16(n,!1);n+=2,r[o]={type:oU,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[o]={type:iU,value:new Date(new bs(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[o]={type:aU,value:`${ct(c.subarray(0,4))}-${ct(c.subarray(4,6))}-${ct(c.subarray(6,8))}-${ct(c.subarray(8,10))}-${ct(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},f0;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(f0||(f0={}));var h0="boolean",eU="byte",tU="short",rU="integer",nU="long",sU="binary",oU="string",iU="timestamp",aU="uuid",cU=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var m0=jt(Na()),p0=4,_s=p0*2,so=4,dU=_s+so*2;function y0({byteLength:t,byteOffset:e,buffer:r}){if(t<dU)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,e,t),s=n.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(p0,!1),i=n.getUint32(_s,!1),a=n.getUint32(t-so,!1),c=new m0.Crc32().update(new Uint8Array(r,e,_s));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+_s,t-(_s+so))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+_s+so,o),body:new Uint8Array(r,e+_s+so+o,s-o-(_s+so+so))}}var sl=class{constructor(e,r){this.headerMarshaller=new nl(e,r)}encode({headers:e,body:r}){let n=this.headerMarshaller.format(e),s=n.byteLength+r.byteLength+16,o=new Uint8Array(s),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new g0.Crc32;return i.setUint32(0,s,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(r,n.byteLength+12),i.setUint32(s-4,a.update(o.subarray(8,s-4)).digest(),!1),o}decode(e){let{headers:r,body:n}=y0(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}};function E0(t){let e=0,r=0,n=null,s=null,o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},i=async function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}let l=c.length,f=0;for(;f<l;){if(!n){let g=l-f;s||(s=new Uint8Array(4));let y=Math.min(4-r,g);if(s.set(c.slice(f,f+y),r),r+=y,f+=y,r<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let u=Math.min(e-r,l-f);n.set(c.slice(f,f+u),r),r+=u,f+=u,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function S0(t,e){return{[Symbol.asyncIterator]:async function*(){for await(let r of t){let n=e.eventStreamCodec.decode(r),{value:s}=n.headers[":message-type"];if(s==="error"){let o=new Error(n.headers[":error-message"].value||"UnknownError");throw o.name=n.headers[":error-code"].value,o}else if(s==="exception"){let o=n.headers[":exception-type"].value,i={[o]:n},a=await e.deserializer(i);if(a.$unknown){let c=new Error(e.toUtf8(n.body));throw c.name=o,c}throw a[o]}else if(s==="event"){let o={[n.headers[":event-type"].value]:n},i=await e.deserializer(o);if(i.$unknown)continue;yield i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}}}var Ya=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new sl(e,r),this.utfEncoder=e}deserialize(e,r){let n=E0(e);return S0(n,{eventStreamCodec:this.eventStreamCodec,deserializer:r,toUtf8:this.utfEncoder})}serialize(e,r){let n=this,s=async function*(){for await(let o of e)yield n.eventStreamCodec.encode(r(o));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:s}}};import{Readable as lU}from"stream";async function*w0(t){let e=!1,r=!1,n=new Array;for(t.on("error",s=>{if(e||(e=!0),s)throw s}),t.on("data",s=>{n.push(s)}),t.on("end",()=>{e=!0});!r;){let s=await new Promise(o=>setTimeout(()=>o(n.shift()),0));s&&(yield s),r=e&&n.length===0}}var ol=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new Ya({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){let n=typeof e[Symbol.asyncIterator]=="function"?e:w0(e);return this.universalMarshaller.deserialize(n,r)}serialize(e,r){return lU.from(this.universalMarshaller.serialize(e,r))}};var x0=t=>new ol(t);import{Writable as uU}from"stream";var Xa=class extends uU{constructor(e,r){super(r),this.hash=e}_write(e,r,n){try{this.hash.update(vt(e))}catch(s){return n(s)}n()}};var C0=(t,e)=>{if(e.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new t,n=new Xa(r);return e.pipe(n),new Promise((s,o)=>{e.on("error",i=>{n.end(),o(i)}),n.on("error",o),n.on("finish",()=>{r.digest().then(s).catch(o)})})};var fU="AWS_S3_USE_ARN_REGION",hU="s3_use_arn_region",b0={environmentVariableSelector:t=>Pr(t,fU,sr.ENV),configFileSelector:t=>Pr(t,hU,sr.CONFIG),default:!1};import{Readable as bU}from"stream";var _0=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=e,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,t):void 0,d=new bU({read:()=>{}});return t.on("data",l=>{d.push(`${(n(l)||0).toString(16)}\r
${l.toString()}\r
`)}),t.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${o}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};import{Readable as fm}from"stream";import{TextDecoder as _U}from"util";var R0="The stream has already been transformed.",A0=t=>{var n,s;if(!(t instanceof fm)){let o=((s=(n=t==null?void 0:t.__proto__)==null?void 0:n.constructor)==null?void 0:s.name)||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let e=!1,r=async()=>{if(e)throw new Error(R0);return e=!0,await Mr(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{let i=await r();return o===void 0||Buffer.isEncoding(o)?nn(i.buffer,i.byteOffset,i.byteLength).toString(o):new _U(o).decode(i)},transformToWebStream:()=>{if(e)throw new Error(R0);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof fm.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return e=!0,fm.toWeb(t)}})};var il=class{constructor(e){this.sigv4Signer=new Js(e),this.signerOptions=e}async sign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,r)}return this.sigv4Signer.sign(e,r)}async presign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,r)}return this.sigv4Signer.presign(e,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let e;try{if(e=typeof N=="function"&&N("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof e!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var Dm="required",h="type",S="rules",E="conditions",m="fn",p="argv",b="ref",et="assign",I="url",D="properties",H="authSchemes",j="disableDoubleEncoding",G="signingName",K="signingRegion",B="headers";var w="tree",Kt="isSet",Qa="substring",IR="hardwareType",DR="regionPrefix",k0="abbaSuffix",vm="outpostId",rc="aws.partition",U="stringEquals",ao="isValidHostLabel",De="not",M="error",BR="parseURL",Bm="s3-outposts",_="endpoint",P="booleanEquals",MR="aws.parseArn",W="s3",T0="aws.isVirtualHostableS3Bucket",Oe="getAttr",$="name",hm="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",LR="https://{Bucket}.s3.{partitionResult#dnsSuffix}",FR="bucketArn",UR="arnType",fl="",Mm="s3-object-lambda",zR="accesspoint",Lm="accessPointName",N0="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",P0="mrapPartition",O0="outpostType",v0="arnPrefix",co="{url#scheme}://{url#authority}{url#path}",$R="https://s3.{partitionResult#dnsSuffix}",mm={[Dm]:!1,[h]:"String"},Za={[Dm]:!0,default:!1,[h]:"Boolean"},al={[Dm]:!1,[h]:"Boolean"},qR={[m]:Kt,[p]:[{[b]:"Bucket"}]},$r={[b]:"Bucket"},I0={[b]:IR},D0={[E]:[{[m]:De,[p]:[{[m]:Kt,[p]:[{[b]:"Endpoint"}]}]}],[M]:"Expected a endpoint to be specified but no endpoint was found",[h]:M},Y={[m]:De,[p]:[{[m]:Kt,[p]:[{[b]:"Endpoint"}]}]},ie={[m]:Kt,[p]:[{[b]:"Endpoint"}]},Se={[m]:BR,[p]:[{[b]:"Endpoint"}],[et]:"url"},cl={[H]:[{[j]:!0,[$]:"sigv4",[G]:Bm,[K]:"{Region}"}]},Ve={},B0={[b]:"ForcePathStyle"},M0={[E]:[{[m]:"uriEncode",[p]:[$r],[et]:"uri_encoded_bucket"}],[h]:w,[S]:[{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!0]},ie],[M]:"Cannot set dual-stack in combination with a custom endpoint.",[h]:M},{[h]:w,[S]:[{[E]:[{[m]:rc,[p]:[{[b]:"Region"}],[et]:"partitionResult"}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:P,[p]:[{[b]:"Accelerate"},!1]}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!0]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!0]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!0]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:w,[S]:[{[_]:{[I]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!0]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},ie,Se,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},ie,Se,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},ie,Se,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:w,[S]:[{[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},ie,Se,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:w,[S]:[{[_]:{[I]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!0]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!0]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!0]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!0]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:w,[S]:[{[_]:{[I]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!0]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},ie,Se,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},ie,Se,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},ie,Se,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:w,[S]:[{[E]:[{[m]:U,[p]:[{[b]:"Region"},"us-east-1"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_},{[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},ie,Se,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:w,[S]:[{[E]:[{[m]:U,[p]:[{[b]:"Region"},"us-east-1"]}],[_]:{[I]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_},{[_]:{[I]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:P,[p]:[{[b]:"UseDualStack"},!1]},Y,{[m]:P,[p]:[{[b]:"UseFIPS"},!1]},{[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},[B]:{}},[h]:_}]}]},{[M]:"Path-style addressing cannot be used with S3 Accelerate",[h]:M}]}]},{[M]:"A valid partition could not be determined",[h]:M}]}]},xe={[m]:P,[p]:[{[b]:"UseDualStack"},!0]},Xe={[m]:P,[p]:[{[b]:"Accelerate"},!1]},ke={[m]:P,[p]:[{[b]:"UseFIPS"},!0]},le={[m]:De,[p]:[{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}]},mt={[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!0]},yt={[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{Region}"}]},pt={[m]:P,[p]:[{[b]:"UseGlobalEndpoint"},!1]},pe={[m]:P,[p]:[{[b]:"UseDualStack"},!1]},ae={[m]:P,[p]:[{[b]:"UseFIPS"},!1]},oo={[M]:"A valid partition could not be determined",[h]:M},pm={[E]:[ke,{[m]:U,[p]:[{[m]:Oe,[p]:[{[b]:"partitionResult"},$]},"aws-cn"]}],[M]:"Partition does not support FIPS",[h]:M},RU={[m]:U,[p]:[{[m]:Oe,[p]:[{[b]:"partitionResult"},$]},"aws-cn"]},Sr={[m]:P,[p]:[{[b]:"Accelerate"},!0]},L0={[E]:[xe,ke,Xe,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},F0={[I]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},U0={[E]:[pe,ke,Xe,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},z0={[I]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},$0={[E]:[xe,ae,Sr,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},q0={[I]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},H0={[E]:[xe,ae,Xe,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},j0={[I]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},G0={[E]:[pe,ae,Xe,ie,Se,{[m]:P,[p]:[{[m]:Oe,[p]:[{[b]:"url"},"isIp"]},!0]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},K0={[m]:P,[p]:[{[m]:Oe,[p]:[{[b]:"url"},"isIp"]},!0]},Fm={[b]:"url"},V0={[E]:[pe,ae,Xe,ie,Se,{[m]:P,[p]:[{[m]:Oe,[p]:[Fm,"isIp"]},!1]},{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},W0={[m]:P,[p]:[{[m]:Oe,[p]:[Fm,"isIp"]},!1]},ym={[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[D]:yt,[B]:{}},Im={[I]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[D]:yt,[B]:{}},Y0={[_]:Im,[h]:_},X0={[E]:[pe,ae,Sr,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},gm={[I]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},Q0={[E]:[pe,ae,Xe,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:LR,[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},Z0={[I]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},dl={[M]:"Invalid region: region was not a valid DNS name.",[h]:M},Mt={[b]:FR},HR={[b]:UR},Em={[m]:Oe,[p]:[Mt,"service"]},Um={[b]:Lm},J0={[E]:[xe],[M]:"S3 Object Lambda does not support Dual-stack",[h]:M},eR={[E]:[Sr],[M]:"S3 Object Lambda does not support S3 Accelerate",[h]:M},tR={[E]:[{[m]:Kt,[p]:[{[b]:"DisableAccessPoints"}]},{[m]:P,[p]:[{[b]:"DisableAccessPoints"},!0]}],[M]:"Access points are not supported for this operation",[h]:M},Sm={[E]:[{[m]:Kt,[p]:[{[b]:"UseArnRegion"}]},{[m]:P,[p]:[{[b]:"UseArnRegion"},!1]},{[m]:De,[p]:[{[m]:U,[p]:[{[m]:Oe,[p]:[Mt,"region"]},"{Region}"]}]}],[M]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[h]:M},zm={[m]:Oe,[p]:[{[b]:"bucketPartition"},$]},jR={[m]:Oe,[p]:[Mt,"accountId"]},rR={[E]:[ke,{[m]:U,[p]:[zm,"aws-cn"]}],[M]:"Partition does not support FIPS",[h]:M},wm={[H]:[{[j]:!0,[$]:"sigv4",[G]:Mm,[K]:"{bucketArn#region}"}]},nR={[M]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[h]:M},xm={[M]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[h]:M},Cm={[M]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[h]:M},bm={[M]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[h]:M},sR={[M]:"Could not load partition for ARN region `{bucketArn#region}`",[h]:M},oR={[M]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[h]:M},iR={[M]:"Invalid ARN: bucket ARN is missing a region",[h]:M},aR={[M]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[h]:M},Ja={[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"{bucketArn#region}"}]},cR={[H]:[{[j]:!0,[$]:"sigv4",[G]:Bm,[K]:"{bucketArn#region}"}]},dR={[b]:"UseObjectLambdaEndpoint"},_m={[H]:[{[j]:!0,[$]:"sigv4",[G]:Mm,[K]:"{Region}"}]},lR={[E]:[ke,xe,ie,Se,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:co,[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},GR={[_]:{[I]:co,[D]:yt,[B]:{}},[h]:_},ec={[I]:co,[D]:yt,[B]:{}},uR={[E]:[ke,xe,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},fR={[I]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},hR={[E]:[ke,pe,ie,Se,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:co,[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},mR={[E]:[ke,pe,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},pR={[I]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},yR={[E]:[ae,xe,ie,Se,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:co,[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},gR={[E]:[ae,xe,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},ER={[I]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},SR={[E]:[ae,pe,ie,Se,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:co,[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},wR={[E]:[ae,pe,Y,{[m]:U,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:$R,[D]:{[H]:[{[j]:!0,[$]:"sigv4",[G]:W,[K]:"us-east-1"}]},[B]:{}},[h]:_},xR={[I]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[D]:yt,[B]:{}},ul=[{[b]:"Region"}],AU=[$r],CR=[{[m]:ao,[p]:[{[b]:vm},!1]}],bR=[{[m]:U,[p]:[{[b]:DR},"beta"]}],kU=[{[b]:"Endpoint"}],tc=[ie,Se],_R=[qR],RR=[{[m]:MR,[p]:[$r]}],TU=[xe,ie],io=[{[m]:rc,[p]:ul,[et]:"partitionResult"}],vi=[{[m]:U,[p]:[{[b]:"Region"},"us-east-1"]}],AR=[{[m]:ao,[p]:[{[b]:"Region"},!1]}],Rm=[{[m]:U,[p]:[HR,zR]}],kR=[{[m]:Oe,[p]:[Mt,"resourceId[1]"],[et]:Lm},{[m]:De,[p]:[{[m]:U,[p]:[Um,fl]}]}],NU=[Mt,"resourceId[1]"],TR=[xe],Am=[Sr],km=[{[m]:De,[p]:[{[m]:U,[p]:[{[m]:Oe,[p]:[Mt,"region"]},fl]}]}],NR=[{[m]:De,[p]:[{[m]:Kt,[p]:[{[m]:Oe,[p]:[Mt,"resourceId[2]"]}]}]}],PU=[Mt,"resourceId[2]"],Tm=[{[m]:rc,[p]:[{[m]:Oe,[p]:[Mt,"region"]}],[et]:"bucketPartition"}],PR=[{[m]:U,[p]:[zm,{[m]:Oe,[p]:[{[b]:"partitionResult"},$]}]}],Nm=[{[m]:ao,[p]:[{[m]:Oe,[p]:[Mt,"region"]},!0]}],Pm=[{[m]:ao,[p]:[jR,!1]}],OR=[{[m]:ao,[p]:[Um,!1]}],ll=[ke],vR=[{[m]:ao,[p]:[{[b]:"Region"},!0]}],Om=[GR],OU={version:"1.0",parameters:{Bucket:mm,Region:mm,UseFIPS:Za,UseDualStack:Za,Endpoint:mm,ForcePathStyle:al,Accelerate:Za,UseGlobalEndpoint:Za,UseObjectLambdaEndpoint:al,DisableAccessPoints:al,DisableMultiRegionAccessPoints:Za,UseArnRegion:al},[S]:[{[h]:w,[S]:[{[E]:[{[m]:Kt,[p]:ul}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:[qR,{[m]:Qa,[p]:[$r,49,50,!0],[et]:IR},{[m]:Qa,[p]:[$r,8,12,!0],[et]:DR},{[m]:Qa,[p]:[$r,0,7,!0],[et]:k0},{[m]:Qa,[p]:[$r,32,49,!0],[et]:vm},{[m]:rc,[p]:ul,[et]:"regionPartition"},{[m]:U,[p]:[{[b]:k0},"--op-s3"]}],[h]:w,[S]:[{[E]:CR,[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:U,[p]:[I0,"e"]}],[h]:w,[S]:[{[E]:bR,[h]:w,[S]:[D0,{[E]:tc,endpoint:{[I]:"https://{Bucket}.ec2.{url#authority}",[D]:cl,[B]:Ve},[h]:_}]},{endpoint:{[I]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[D]:cl,[B]:Ve},[h]:_}]},{[E]:[{[m]:U,[p]:[I0,"o"]}],[h]:w,[S]:[{[E]:bR,[h]:w,[S]:[D0,{[E]:tc,endpoint:{[I]:"https://{Bucket}.op-{outpostId}.{url#authority}",[D]:cl,[B]:Ve},[h]:_}]},{endpoint:{[I]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[D]:cl,[B]:Ve},[h]:_}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[h]:M}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[h]:M}]},{[E]:_R,[h]:w,[S]:[{[E]:[ie,{[m]:De,[p]:[{[m]:Kt,[p]:[{[m]:BR,[p]:kU}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[h]:M},{[h]:w,[S]:[{[E]:[{[m]:Kt,[p]:[B0]},{[m]:P,[p]:[B0,!0]}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:RR,error:"Path-style addressing cannot be used with ARN buckets",[h]:M},M0]}]},{[E]:[{[m]:T0,[p]:[$r,!1]}],[h]:w,[S]:[{[E]:io,[h]:w,[S]:[{[h]:w,[S]:[{[E]:AR,[h]:w,[S]:[{[h]:w,[S]:[pm,{[h]:w,[S]:[{[E]:[Sr,ke],error:"Accelerate cannot be used with FIPS",[h]:M},{[h]:w,[S]:[{[E]:[Sr,RU],error:"S3 Accelerate cannot be used in this region",[h]:M},{[h]:w,[S]:[{[E]:[ie,xe],error:hm,[h]:M},{[h]:w,[S]:[{[E]:[ie,ke],error:hm,[h]:M},{[h]:w,[S]:[{[E]:[ie,Sr],error:hm,[h]:M},{[h]:w,[S]:[L0,L0,{[E]:[xe,ke,Xe,Y,le,mt],[h]:w,[S]:[{endpoint:F0,[h]:_}]},{[E]:[xe,ke,Xe,Y,le,pt],endpoint:F0,[h]:_},U0,U0,{[E]:[pe,ke,Xe,Y,le,mt],[h]:w,[S]:[{endpoint:z0,[h]:_}]},{[E]:[pe,ke,Xe,Y,le,pt],endpoint:z0,[h]:_},$0,$0,{[E]:[xe,ae,Sr,Y,le,mt],[h]:w,[S]:[{endpoint:q0,[h]:_}]},{[E]:[xe,ae,Sr,Y,le,pt],endpoint:q0,[h]:_},H0,H0,{[E]:[xe,ae,Xe,Y,le,mt],[h]:w,[S]:[{endpoint:j0,[h]:_}]},{[E]:[xe,ae,Xe,Y,le,pt],endpoint:j0,[h]:_},G0,V0,G0,V0,{[E]:[pe,ae,Xe,ie,Se,K0,le,mt],[h]:w,[S]:[{[E]:vi,endpoint:ym,[h]:_},{endpoint:ym,[h]:_}]},{[E]:[pe,ae,Xe,ie,Se,W0,le,mt],[h]:w,[S]:[{[E]:vi,endpoint:Im,[h]:_},Y0]},{[E]:[pe,ae,Xe,ie,Se,K0,le,pt],endpoint:ym,[h]:_},{[E]:[pe,ae,Xe,ie,Se,W0,le,pt],endpoint:Im,[h]:_},X0,X0,{[E]:[pe,ae,Sr,Y,le,mt],[h]:w,[S]:[{[E]:vi,endpoint:gm,[h]:_},{endpoint:gm,[h]:_}]},{[E]:[pe,ae,Sr,Y,le,pt],endpoint:gm,[h]:_},Q0,Q0,{[E]:[pe,ae,Xe,Y,le,mt],[h]:w,[S]:[{[E]:vi,endpoint:{[I]:LR,[D]:yt,[B]:Ve},[h]:_},{endpoint:Z0,[h]:_}]},{[E]:[pe,ae,Xe,Y,le,pt],endpoint:Z0,[h]:_}]}]}]}]}]}]}]}]},dl]}]},oo]},{[E]:[ie,Se,{[m]:U,[p]:[{[m]:Oe,[p]:[Fm,"scheme"]},"http"]},{[m]:T0,[p]:[$r,!0]},ae,pe,Xe],[h]:w,[S]:[{[E]:io,[h]:w,[S]:[{[h]:w,[S]:[{[E]:AR,[h]:w,[S]:[Y0]},dl]}]},oo]},{[E]:[{[m]:MR,[p]:AU,[et]:FR}],[h]:w,[S]:[{[E]:[{[m]:Oe,[p]:[Mt,"resourceId[0]"],[et]:UR},{[m]:De,[p]:[{[m]:U,[p]:[HR,fl]}]}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:U,[p]:[Em,Mm]}],[h]:w,[S]:[{[E]:Rm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:kR,[h]:w,[S]:[{[h]:w,[S]:[J0,{[h]:w,[S]:[eR,{[h]:w,[S]:[{[E]:km,[h]:w,[S]:[{[h]:w,[S]:[tR,{[h]:w,[S]:[{[E]:NR,[h]:w,[S]:[{[h]:w,[S]:[Sm,{[h]:w,[S]:[{[E]:Tm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:io,[h]:w,[S]:[{[h]:w,[S]:[{[E]:PR,[h]:w,[S]:[{[h]:w,[S]:[{[E]:Nm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:U,[p]:[jR,fl]}],error:"Invalid ARN: Missing account id",[h]:M},{[h]:w,[S]:[{[E]:Pm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:OR,[h]:w,[S]:[{[h]:w,[S]:[rR,{[h]:w,[S]:[{[E]:tc,endpoint:{[I]:N0,[D]:wm,[B]:Ve},[h]:_},{[E]:ll,endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:wm,[B]:Ve},[h]:_},{endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:wm,[B]:Ve},[h]:_}]}]}]},nR]}]},xm]}]}]},Cm]}]},bm]}]},oo]}]},sR]}]}]},oR]}]}]},iR]}]}]}]},aR]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[h]:M}]},{[E]:Rm,[h]:w,[S]:[{[E]:kR,[h]:w,[S]:[{[h]:w,[S]:[{[E]:km,[h]:w,[S]:[{[E]:Rm,[h]:w,[S]:[{[E]:km,[h]:w,[S]:[{[h]:w,[S]:[tR,{[h]:w,[S]:[{[E]:NR,[h]:w,[S]:[{[h]:w,[S]:[Sm,{[h]:w,[S]:[{[E]:Tm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:io,[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:U,[p]:[zm,"{partitionResult#name}"]}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:Nm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:U,[p]:[Em,W]}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:Pm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:OR,[h]:w,[S]:[{[h]:w,[S]:[{[E]:Am,error:"Access Points do not support S3 Accelerate",[h]:M},{[h]:w,[S]:[rR,{[h]:w,[S]:[{[E]:TU,error:"DualStack cannot be combined with a Host override (PrivateLink)",[h]:M},{[h]:w,[S]:[{[E]:[ke,xe],endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:Ja,[B]:Ve},[h]:_},{[E]:[ke,pe],endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:Ja,[B]:Ve},[h]:_},{[E]:[ae,xe],endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:Ja,[B]:Ve},[h]:_},{[E]:[ae,pe,ie,Se],endpoint:{[I]:N0,[D]:Ja,[B]:Ve},[h]:_},{[E]:[ae,pe],endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:Ja,[B]:Ve},[h]:_}]}]}]}]}]},nR]}]},xm]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[h]:M}]}]},Cm]}]},bm]}]},oo]}]},sR]}]}]},oR]}]}]},iR]}]},{[h]:w,[S]:[{[E]:[{[m]:ao,[p]:[Um,!0]}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:TR,error:"S3 MRAP does not support dual-stack",[h]:M},{[h]:w,[S]:[{[E]:ll,error:"S3 MRAP does not support FIPS",[h]:M},{[h]:w,[S]:[{[E]:Am,error:"S3 MRAP does not support S3 Accelerate",[h]:M},{[h]:w,[S]:[{[E]:[{[m]:P,[p]:[{[b]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[h]:M},{[h]:w,[S]:[{[E]:[{[m]:rc,[p]:ul,[et]:P0}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:U,[p]:[{[m]:Oe,[p]:[{[b]:P0},$]},{[m]:Oe,[p]:[Mt,"partition"]}]}],[h]:w,[S]:[{endpoint:{[I]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[D]:{[H]:[{[j]:!0,name:"sigv4a",[G]:W,signingRegionSet:["*"]}]},[B]:Ve},[h]:_}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[h]:M}]}]},{error:"{Region} was not a valid region",[h]:M}]}]}]}]}]}]},{error:"Invalid Access Point Name",[h]:M}]}]}]},aR]},{[E]:[{[m]:U,[p]:[Em,Bm]}],[h]:w,[S]:[{[E]:TR,error:"S3 Outposts does not support Dual-stack",[h]:M},{[h]:w,[S]:[{[E]:ll,error:"S3 Outposts does not support FIPS",[h]:M},{[h]:w,[S]:[{[E]:Am,error:"S3 Outposts does not support S3 Accelerate",[h]:M},{[h]:w,[S]:[{[E]:[{[m]:Kt,[p]:[{[m]:Oe,[p]:[Mt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[h]:M},{[h]:w,[S]:[{[E]:[{[m]:Oe,[p]:NU,[et]:vm}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:CR,[h]:w,[S]:[{[h]:w,[S]:[Sm,{[h]:w,[S]:[{[E]:Tm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:io,[h]:w,[S]:[{[h]:w,[S]:[{[E]:PR,[h]:w,[S]:[{[h]:w,[S]:[{[E]:Nm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:Pm,[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:Oe,[p]:PU,[et]:O0}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:Oe,[p]:[Mt,"resourceId[3]"],[et]:Lm}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:[{[m]:U,[p]:[{[b]:O0},zR]}],[h]:w,[S]:[{[h]:w,[S]:[{[E]:tc,endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[D]:cR,[B]:Ve},[h]:_},{endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:cR,[B]:Ve},[h]:_}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[h]:M}]}]},{error:"Invalid ARN: expected an access point name",[h]:M}]}]},{error:"Invalid ARN: Expected a 4-component resource",[h]:M}]}]},xm]}]},Cm]}]},bm]}]},oo]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[h]:M}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[h]:M}]}]},{error:"Invalid ARN: The Outpost Id was not set",[h]:M}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[h]:M}]}]},{error:"Invalid ARN: No ARN type specified",[h]:M}]},{[E]:[{[m]:Qa,[p]:[$r,0,4,!1],[et]:v0},{[m]:U,[p]:[{[b]:v0},"arn:"]},{[m]:De,[p]:[{[m]:Kt,[p]:RR}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[h]:M},M0]}]},{[E]:[{[m]:Kt,[p]:[dR]},{[m]:P,[p]:[dR,!0]}],[h]:w,[S]:[{[E]:io,[h]:w,[S]:[{[h]:w,[S]:[{[E]:vR,[h]:w,[S]:[{[h]:w,[S]:[J0,{[h]:w,[S]:[eR,{[h]:w,[S]:[pm,{[h]:w,[S]:[{[E]:tc,endpoint:{[I]:co,[D]:_m,[B]:Ve},[h]:_},{[E]:ll,endpoint:{[I]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[D]:_m,[B]:Ve},[h]:_},{endpoint:{[I]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[D]:_m,[B]:Ve},[h]:_}]}]}]}]}]},dl]}]},oo]},{[E]:[{[m]:De,[p]:_R}],[h]:w,[S]:[{[E]:io,[h]:w,[S]:[{[h]:w,[S]:[{[E]:vR,[h]:w,[S]:[{[h]:w,[S]:[pm,{[h]:w,[S]:[lR,lR,{[E]:[ke,xe,ie,Se,le,mt],[h]:w,[S]:Om},{[E]:[ke,xe,ie,Se,le,pt],endpoint:ec,[h]:_},uR,uR,{[E]:[ke,xe,Y,le,mt],[h]:w,[S]:[{endpoint:fR,[h]:_}]},{[E]:[ke,xe,Y,le,pt],endpoint:fR,[h]:_},hR,hR,{[E]:[ke,pe,ie,Se,le,mt],[h]:w,[S]:Om},{[E]:[ke,pe,ie,Se,le,pt],endpoint:ec,[h]:_},mR,mR,{[E]:[ke,pe,Y,le,mt],[h]:w,[S]:[{endpoint:pR,[h]:_}]},{[E]:[ke,pe,Y,le,pt],endpoint:pR,[h]:_},yR,yR,{[E]:[ae,xe,ie,Se,le,mt],[h]:w,[S]:Om},{[E]:[ae,xe,ie,Se,le,pt],endpoint:ec,[h]:_},gR,gR,{[E]:[ae,xe,Y,le,mt],[h]:w,[S]:[{endpoint:ER,[h]:_}]},{[E]:[ae,xe,Y,le,pt],endpoint:ER,[h]:_},SR,SR,{[E]:[ae,pe,ie,Se,le,mt],[h]:w,[S]:[{[E]:vi,endpoint:ec,[h]:_},GR]},{[E]:[ae,pe,ie,Se,le,pt],endpoint:ec,[h]:_},wR,wR,{[E]:[ae,pe,Y,le,mt],[h]:w,[S]:[{[E]:vi,endpoint:{[I]:$R,[D]:yt,[B]:Ve},[h]:_},{endpoint:xR,[h]:_}]},{[E]:[ae,pe,Y,le,pt],endpoint:xR,[h]:_}]}]}]},dl]}]},oo]}]}]},{error:"A region must be set when sending requests to S3.",[h]:M}]}]},KR=OU;var VR=(t,e={})=>fs(KR,{endpointParams:t,logger:e.logger});var WR=t=>({apiVersion:"2006-03-01",base64Decoder:(t==null?void 0:t.base64Decoder)??Es,base64Encoder:(t==null?void 0:t.base64Encoder)??Ss,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??VR,logger:(t==null?void 0:t.logger)??new Rr,serviceId:(t==null?void 0:t.serviceId)??"S3",signerConstructor:(t==null?void 0:t.signerConstructor)??il,signingEscapePath:(t==null?void 0:t.signingEscapePath)??!1,urlParser:(t==null?void 0:t.urlParser)??Pt,useArnRegion:(t==null?void 0:t.useArnRegion)??!1,utf8Decoder:(t==null?void 0:t.utf8Decoder)??Nr,utf8Encoder:(t==null?void 0:t.utf8Encoder)??Xn});var YR=t=>{jn(process.version);let e=ws(t),r=()=>e().then(Hn),n=WR(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??ys,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??l0(rl),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??gs({serviceId:n.serviceId,clientVersion:MC.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??x0,getAwsChunkedEncodingStream:(t==null?void 0:t.getAwsChunkedEncodingStream)??_0,maxAttempts:(t==null?void 0:t.maxAttempts)??ce(os),md5:(t==null?void 0:t.md5)??ar.bind(null,"md5"),region:(t==null?void 0:t.region)??ce(Or,Jn),requestHandler:(t==null?void 0:t.requestHandler)??new Br(r),retryMode:(t==null?void 0:t.retryMode)??ce({...as,default:async()=>(await r()).retryMode||Ir}),sdkStreamMixin:(t==null?void 0:t.sdkStreamMixin)??A0,sha1:(t==null?void 0:t.sha1)??ar.bind(null,"sha1"),sha256:(t==null?void 0:t.sha256)??ar.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??Mr,streamHasher:(t==null?void 0:t.streamHasher)??C0,useArnRegion:(t==null?void 0:t.useArnRegion)??ce(b0),useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ce(Qn),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ce(Zn)}};var hl=class extends Ar{constructor(e){let r=YR(e),n=BC(r),s=es(n),o=Gn(s),i=is(o),a=i,c=kd(a),d=Yw(c),l=ls(d),f=Ox(l);super(f),this.config=f,this.middlewareStack.use(cs(this.config)),this.middlewareStack.use(ts(this.config)),this.middlewareStack.use(rs(this.config)),this.middlewareStack.use(ns(this.config)),this.middlewareStack.use(ss(this.config)),this.middlewareStack.use(Nd(this.config)),this.middlewareStack.use(Zw(this.config)),this.middlewareStack.use(Ix(this.config)),this.middlewareStack.use(hs(this.config))}destroy(){super.destroy()}};var ml=class{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}};var pl=class{constructor(){this.signal=new ml}abort(){this.signal.abort()}};import{EventEmitter as Hm}from"events";import{lstatSync as vU}from"fs";var XR={lstatSync:()=>{}};var QR={...XR,runtime:"node",lstatSync:vU};var yl=t=>{if(t==null)return 0;if(typeof t=="string"&&(t=Buffer.from(t)),typeof t.byteLength=="number")return t.byteLength;if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size;if(typeof t.path=="string")try{return QR.lstatSync(t.path).size}catch{return}};import{Buffer as eA}from"buffer";import{Readable as BU}from"stream";async function*$m(t,e){let r=1,n=0,s=e;for(;s<t.byteLength;)yield{partNumber:r,data:t.slice(n,s)},r+=1,n=s,s=n+e;yield{partNumber:r,data:t.slice(n),lastPart:!0}}import{Buffer as ZR}from"buffer";async function*gl(t,e,r){let n=1,s={chunks:[],length:0};for await(let o of r(t))for(s.chunks.push(o),s.length+=o.length;s.length>=e;){let i=s.chunks.length>1?ZR.concat(s.chunks):s.chunks[0];yield{partNumber:n,data:i.slice(0,e)},s.chunks=[i.slice(e)],s.length=s.chunks[0].length,n+=1}yield{partNumber:n,data:ZR.concat(s.chunks),lastPart:!0}}import{Buffer as IU}from"buffer";async function*JR(t){for await(let e of t)yield IU.from(e)}import{Buffer as DU}from"buffer";async function*qm(t){let e=t.getReader();try{for(;;){let{done:r,value:n}=await e.read();if(r)return;yield DU.from(n)}}catch(r){throw r}finally{e.releaseLock()}}var tA=(t,e)=>{if(t instanceof eA)return $m(t,e);if(t instanceof BU)return gl(t,e,JR);if(t instanceof String||typeof t=="string"||t instanceof Uint8Array)return $m(eA.from(t),e);if(typeof t.stream=="function")return gl(t.stream(),e,qm);if(t instanceof ReadableStream)return gl(t,e,qm);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")};var jm=1024*1024*5,El=class extends Hm{constructor(e){super(),this.MAX_PARTS=1e4,this.queueSize=4,this.partSize=jm,this.leavePartsOnError=!1,this.tags=[],this.concurrentUploaders=[],this.uploadedParts=[],this.isMultiPart=!0,this.queueSize=e.queueSize||this.queueSize,this.partSize=e.partSize||this.partSize,this.leavePartsOnError=e.leavePartsOnError||this.leavePartsOnError,this.tags=e.tags||this.tags,this.client=e.client,this.params=e.params,this.__validateInput(),this.totalBytes=yl(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=e.abortController??new pl}async abort(){this.abortController.abort()}async done(){return await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(e,r){return this.uploadEvent=e,super.on(e,r)}async __uploadUsingPut(e){var y;this.isMultiPart=!1;let r={...this.params,Body:e.data},n=this.client.config,s=n.requestHandler,o=s instanceof Hm?s:null,i=x=>{this.bytesUploadedSoFar=x.loaded,this.totalBytes=x.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:e.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};o!==null&&o.on("xhr.upload.progress",i);let a=await Promise.all([this.client.send(new Qs(r)),(y=n==null?void 0:n.endpoint)==null?void 0:y.call(n)]),c=a[0],d=a[1];if(d||(d=ed(await Jc(r,Qs,{...n}))),!d)throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');o!==null&&o.off("xhr.upload.progress",i);let l=this.params.Key.split("/").map(x=>tn(x)).join("/"),f=tn(this.params.Bucket),u=(()=>{let x=d.hostname.startsWith(`${f}.`);return this.client.config.forcePathStyle?`${d.protocol}//${d.hostname}/${f}/${l}`:x?`${d.protocol}//${d.hostname}/${l}`:`${d.protocol}//${f}.${d.hostname}/${l}`})();this.singleUploadResult={...c,Bucket:this.params.Bucket,Key:this.params.Key,Location:u};let g=yl(e.data);this.__notifyProgress({loaded:g,total:g,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){if(!this.createMultiPartPromise){let r={...this.params,Body:void 0};this.createMultiPartPromise=this.client.send(new jo(r))}let e=await this.createMultiPartPromise;this.uploadId=e.UploadId}async __doConcurrentUpload(e){for await(let r of e){if(this.uploadedParts.length>this.MAX_PARTS)throw new Error(`Exceeded ${this.MAX_PARTS} as part of the upload to ${this.params.Key} and ${this.params.Bucket}.`);try{if(this.abortController.signal.aborted)return;if(r.partNumber===1&&r.lastPart)return await this.__uploadUsingPut(r);if(!this.uploadId&&(await this.__createMultipartUpload(),this.abortController.signal.aborted))return;let n=yl(r.data)||0,s=this.client.config.requestHandler,o=s instanceof Hm?s:null,i=0,a=(d,l)=>{(Number(l.query.partNumber)||-1)===r.partNumber&&(d.total&&n&&(this.bytesUploadedSoFar+=d.loaded-i,i=d.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:r.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};o!==null&&o.on("xhr.upload.progress",a);let c=await this.client.send(new Xo({...this.params,UploadId:this.uploadId,Body:r.data,PartNumber:r.partNumber}));if(o!==null&&o.off("xhr.upload.progress",a),this.abortController.signal.aborted)return;if(!c.ETag)throw new Error(`Part ${r.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:r.partNumber,ETag:c.ETag,...c.ChecksumCRC32&&{ChecksumCRC32:c.ChecksumCRC32},...c.ChecksumCRC32C&&{ChecksumCRC32C:c.ChecksumCRC32C},...c.ChecksumSHA1&&{ChecksumSHA1:c.ChecksumSHA1},...c.ChecksumSHA256&&{ChecksumSHA256:c.ChecksumSHA256}}),o===null&&(this.bytesUploadedSoFar+=n),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:r.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}catch(n){if(!this.uploadId||this.leavePartsOnError)throw n}}}async __doMultipartUpload(){let e=tA(this.params.Body,this.partSize);for(let n=0;n<this.queueSize;n++){let s=this.__doConcurrentUpload(e);this.concurrentUploaders.push(s)}if(await Promise.all(this.concurrentUploaders),this.abortController.signal.aborted)throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});let r;if(this.isMultiPart){this.uploadedParts.sort((s,o)=>s.PartNumber-o.PartNumber);let n={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};r=await this.client.send(new Ho(n))}else r=this.singleUploadResult;return this.tags.length&&await this.client.send(new Yo({...this.params,Tagging:{TagSet:this.tags}})),r}__notifyProgress(e){this.uploadEvent&&this.emit(this.uploadEvent,e)}async __abortTimeout(e){return new Promise((r,n)=>{e.onabort=()=>{let s=new Error("Upload aborted.");s.name="AbortError",n(s)}})}__validateInput(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<jm)throw new Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${jm}] (5MB)`);if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}};var vv=jt(lN(),1);var xv=jt(My(),1),Ic=jt(EE(),1),vc=jt(rv(),1);import YG from"node:fs";import XG from"node:path";var kE=jt(EE(),1),mv=jt(fv(),1);import GG from"node:process";import hv from"node:fs";import ma from"node:path";function ha(t){let e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")}import{fileURLToPath as HG}from"node:url";import{Transform as jG}from"node:stream";var Oc=t=>t instanceof URL?HG(t):t,of=class extends jG{constructor(e){super({objectMode:!0,transform(r,n,s){s(void 0,e(r)?r:void 0)}})}},af=t=>t[0]==="!";var pv={ignore:["**/node_modules","**/flow-typed","**/coverage","**/.git"],absolute:!0,dot:!0},yv="**/.gitignore",KG=(t,e)=>af(t)?"!"+ma.posix.join(e,t.slice(1)):ma.posix.join(e,t),VG=(t,e)=>{let r=ha(ma.relative(e,ma.dirname(t.filePath)));return t.content.split(/\r?\n/).filter(n=>n&&!n.startsWith("#")).map(n=>KG(n,r))},WG=(t,e)=>{if(e=ha(e),ma.isAbsolute(t)){if(ha(t).startsWith(e))return ma.relative(e,t);throw new Error(`Path ${t} is not in cwd ${e}`)}return t},gv=(t,e)=>{let r=t.flatMap(s=>VG(s,e)),n=(0,mv.default)().add(r);return s=>(s=Oc(s),s=WG(s,e),s?n.ignores(ha(s)):!1)},Ev=(t={})=>({cwd:Oc(t.cwd)||GG.cwd(),suppressErrors:!!t.suppressErrors}),Sv=async(t,e)=>{let{cwd:r,suppressErrors:n}=Ev(e),s=await(0,kE.default)(t,{cwd:r,suppressErrors:n,...pv}),o=await Promise.all(s.map(async i=>({filePath:i,content:await hv.promises.readFile(i,"utf8")})));return gv(o,r)},wv=(t,e)=>{let{cwd:r,suppressErrors:n}=Ev(e),o=kE.default.sync(t,{cwd:r,suppressErrors:n,...pv}).map(i=>({filePath:i,content:hv.readFileSync(i,"utf8")}));return gv(o,r)};var QG=t=>{if(t.some(e=>typeof e!="string"))throw new TypeError("Patterns must be a string or an array of strings")},TE=t=>(t=[...new Set([t].flat())],QG(t),t),ZG=t=>{if(!t.cwd)return;let e;try{e=YG.statSync(t.cwd)}catch{return}if(!e.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},Cv=(t={})=>(t={ignore:[],expandDirectories:!0,...t,cwd:Oc(t.cwd)},ZG(t),t),bv=t=>async(e,r)=>t(TE(e),Cv(r)),cf=t=>(e,r)=>t(TE(e),Cv(r)),_v=t=>{let{ignoreFiles:e,gitignore:r}=t,n=e?TE(e):[];return r&&n.push(yv),n},JG=async t=>{let e=_v(t);return Av(e.length>0&&await Sv(e,t))},Rv=t=>{let e=_v(t);return Av(e.length>0&&wv(e,t))},Av=t=>{let e=new Set;return r=>{let n=r.path||r,s=XG.normalize(n),o=e.has(s)||t&&t(n);return e.add(s),!o}},kv=(t,e)=>t.flat().filter(r=>e(r)),eK=(t,e)=>(0,xv.default)(t).pipe(new of(r=>e(r))),Tv=(t,e)=>{let r=[];for(;t.length>0;){let n=t.findIndex(o=>af(o));if(n===-1){r.push({patterns:t,options:e});break}let s=t[n].slice(1);for(let o of r)o.options.ignore.push(s);n!==0&&r.push({patterns:t.slice(0,n),options:{...e,ignore:[...e.ignore,s]}}),t=t.slice(n+1)}return r},Nv=(t,e)=>({...e?{cwd:e}:{},...Array.isArray(t)?{files:t}:t}),Pv=async(t,e)=>{let r=Tv(t,e),{cwd:n,expandDirectories:s}=e;if(!s)return r;let o=Nv(s,n),i=n?{cwd:n}:void 0;return Promise.all(r.map(async a=>{let{patterns:c,options:d}=a;return[c,d.ignore]=await Promise.all([(0,vc.default)(c,o),(0,vc.default)(d.ignore,i)]),{patterns:c,options:d}}))},NE=(t,e)=>{let r=Tv(t,e),{cwd:n,expandDirectories:s}=e;if(!s)return r;let o=Nv(s,n),i=n?{cwd:n}:void 0;return r.map(a=>{let{patterns:c,options:d}=a;return c=vc.default.sync(c,o),d.ignore=vc.default.sync(d.ignore,i),{patterns:c,options:d}})},Ov=bv(async(t,e)=>{let[r,n]=await Promise.all([Pv(t,e),JG(e)]),s=await Promise.all(r.map(o=>(0,Ic.default)(o.patterns,o.options)));return kv(s,n)}),Dhe=cf((t,e)=>{let r=NE(t,e),n=Rv(e),s=r.map(o=>Ic.default.sync(o.patterns,o.options));return kv(s,n)}),Bhe=cf((t,e)=>{let r=NE(t,e),n=Rv(e),s=r.map(o=>Ic.default.stream(o.patterns,o.options));return eK(s,n)}),Mhe=cf((t,e)=>t.some(r=>Ic.default.isDynamicPattern(r,e))),Lhe=bv(Pv),Fhe=cf(NE);try{let t=(0,_t.getInput)("bucket",{required:!0}),e=(0,_t.getInput)("name",{required:!0}),r=(0,_t.getMultilineInput)("path",{required:!0}),n=(0,_t.getInput)("prefix"),s=(0,_t.getBooleanInput)("gzip"),i=(await Ov(r,{onlyFiles:!1,markDirectories:!0})).filter((g,y,x)=>g.at(-1)!=="/"||!x.some((R,v)=>y!==v&&R.startsWith(g)&&R.length>g.length)),a=new hl({}),c=tK.join(n,e),d=(0,vv.create)({gzip:s},i).pipe(new rK),l=new El({client:a,params:{Bucket:t,Key:c,Body:d}});(0,_t.info)("Uploading...");let f=nK(()=>(0,_t.info)("Still uploading..."),1e4);await l.done();let{ObjectSize:u}=await a.send(new Wo({Bucket:t,Key:c,ObjectAttributes:["ObjectSize"]}));sK(f),(0,_t.info)("Upload complete."),u!==void 0&&(0,_t.info)(`Size of uploaded archive: ${Intl.NumberFormat("en").format(u)} bytes`)}catch(t){(0,_t.info)("Upload failed."),t instanceof Error&&(0,_t.setFailed)(t)}
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
