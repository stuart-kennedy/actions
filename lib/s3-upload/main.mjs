import { createRequire } from "module";const require = createRequire(import.meta.url);
var Jb=Object.create;var Ws=Object.defineProperty;var Zb=Object.getOwnPropertyDescriptor;var e_=Object.getOwnPropertyNames;var t_=Object.getPrototypeOf,r_=Object.prototype.hasOwnProperty;var G=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Ie=(e,t)=>()=>(e&&(t=e(e=0)),t);var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),zn=(e,t)=>{for(var r in t)Ws(e,r,{get:t[r],enumerable:!0})},gf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e_(t))!r_.call(e,o)&&o!==r&&Ws(e,o,{get:()=>t[o],enumerable:!(n=Zb(t,o))||n.enumerable});return e};var xt=(e,t,r)=>(r=e!=null?Jb(t_(e)):{},gf(t||!e||!e.__esModule?Ws(r,"default",{value:e,enumerable:!0}):r,e)),qn=e=>gf(Ws({},"__esModule",{value:!0}),e);var Ys=R(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.toCommandProperties=jn.toCommandValue=void 0;function n_(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}jn.toCommandValue=n_;function o_(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}jn.toCommandProperties=o_});var wf=R(Et=>{"use strict";var s_=Et&&Et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),i_=Et&&Et.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a_=Et&&Et.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&s_(t,e,r);return i_(t,e),t};Object.defineProperty(Et,"__esModule",{value:!0});Et.issue=Et.issueCommand=void 0;var c_=a_(G("os")),Ef=Ys();function Cf(e,t,r){let n=new Za(e,t,r);process.stdout.write(n.toString()+c_.EOL)}Et.issueCommand=Cf;function d_(e,t=""){Cf(e,{},t)}Et.issue=d_;var xf="::",Za=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=xf+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let o=this.properties[n];o&&(r?r=!1:t+=",",t+=`${n}=${u_(o)}`)}}return t+=`${xf}${l_(this.message)}`,t}};function l_(e){return Ef.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function u_(e){return Ef.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});import f_ from"crypto";function Qo(){return Qs>Xs.length-16&&(f_.randomFillSync(Xs),Qs=0),Xs.slice(Qs,Qs+=16)}var Xs,Qs,ec=Ie(()=>{Xs=new Uint8Array(256),Qs=Xs.length});var Sf,bf=Ie(()=>{Sf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function m_(e){return typeof e=="string"&&Sf.test(e)}var Rr,Xo=Ie(()=>{bf();Rr=m_});function h_(e,t=0){let r=(je[e[t+0]]+je[e[t+1]]+je[e[t+2]]+je[e[t+3]]+"-"+je[e[t+4]]+je[e[t+5]]+"-"+je[e[t+6]]+je[e[t+7]]+"-"+je[e[t+8]]+je[e[t+9]]+"-"+je[e[t+10]]+je[e[t+11]]+je[e[t+12]]+je[e[t+13]]+je[e[t+14]]+je[e[t+15]]).toLowerCase();if(!Rr(r))throw TypeError("Stringified UUID is invalid");return r}var je,kr,Jo=Ie(()=>{Xo();je=[];for(let e=0;e<256;++e)je.push((e+256).toString(16).substr(1));kr=h_});function p_(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||_f,i=e.clockseq!==void 0?e.clockseq:tc;if(s==null||i==null){let f=e.random||(e.rng||Qo)();s==null&&(s=_f=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),i==null&&(i=tc=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:nc+1,d=a-rc+(c-nc)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>rc)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rc=a,nc=c,tc=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=l&255;let m=a/4294967296*1e4&268435455;o[n++]=m>>>8&255,o[n++]=m&255,o[n++]=m>>>24&15|16,o[n++]=m>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let f=0;f<6;++f)o[n+f]=s[f];return t||kr(o)}var _f,tc,rc,nc,Af,Rf=Ie(()=>{ec();Jo();rc=0,nc=0;Af=p_});function y_(e){if(!Rr(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Js,oc=Ie(()=>{Xo();Js=y_});function g_(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Zs(e,t,r){function n(o,s,i,a){if(typeof o=="string"&&(o=g_(o)),typeof s=="string"&&(s=Js(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+o.length);if(c.set(s),c.set(o,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return kr(c)}try{n.name=e}catch{}return n.DNS=x_,n.URL=E_,n}var x_,E_,sc=Ie(()=>{Jo();oc();x_="6ba7b810-9dad-11d1-80b4-00c04fd430c8",E_="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import C_ from"crypto";function w_(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),C_.createHash("md5").update(e).digest()}var kf,Tf=Ie(()=>{kf=w_});var S_,Nf,vf=Ie(()=>{sc();Tf();S_=Zs("v3",48,kf),Nf=S_});function b_(e,t,r){e=e||{};let n=e.random||(e.rng||Qo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return kr(n)}var ei,Pf=Ie(()=>{ec();Jo();ei=b_});import __ from"crypto";function A_(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),__.createHash("sha1").update(e).digest()}var Of,If=Ie(()=>{Of=A_});var R_,Df,Bf=Ie(()=>{sc();If();R_=Zs("v5",80,Of),Df=R_});var Mf,Ff=Ie(()=>{Mf="00000000-0000-0000-0000-000000000000"});function k_(e){if(!Rr(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Lf,$f=Ie(()=>{Xo();Lf=k_});var Uf={};zn(Uf,{NIL:()=>Mf,parse:()=>Js,stringify:()=>kr,v1:()=>Af,v3:()=>Nf,v4:()=>ei,v5:()=>Df,validate:()=>Rr,version:()=>Lf});var ic=Ie(()=>{Rf();vf();Pf();Bf();Ff();$f();Xo();Jo();oc()});var Hf=R(Ct=>{"use strict";var T_=Ct&&Ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),N_=Ct&&Ct.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qf=Ct&&Ct.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&T_(t,e,r);return N_(t,e),t};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.prepareKeyValueMessage=Ct.issueFileCommand=void 0;var zf=qf(G("fs")),ac=qf(G("os")),v_=(ic(),qn(Uf)),jf=Ys();function P_(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!zf.existsSync(r))throw new Error(`Missing file at path: ${r}`);zf.appendFileSync(r,`${jf.toCommandValue(t)}${ac.EOL}`,{encoding:"utf8"})}Ct.issueFileCommand=P_;function O_(e,t){let r=`ghadelimiter_${v_.v4()}`,n=jf.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${ac.EOL}${n}${ac.EOL}${r}`}Ct.prepareKeyValueMessage=O_});var Kf=R(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.checkBypass=Hn.getProxyUrl=void 0;function I_(e){let t=e.protocol==="https:";if(Gf(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Hn.getProxyUrl=I_;function Gf(e){if(!e.hostname)return!1;let t=e.hostname;if(D_(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let o=[e.hostname.toUpperCase()];typeof n=="number"&&o.push(`${o[0]}:${n}`);for(let s of r.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(s==="*"||o.some(i=>i===s||i.endsWith(`.${s}`)||s.startsWith(".")&&i.endsWith(`${s}`)))return!0;return!1}Hn.checkBypass=Gf;function D_(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var Qf=R(Gn=>{"use strict";var c3=G("net"),B_=G("tls"),cc=G("http"),Vf=G("https"),M_=G("events"),d3=G("assert"),F_=G("util");Gn.httpOverHttp=L_;Gn.httpsOverHttp=$_;Gn.httpOverHttps=U_;Gn.httpsOverHttps=z_;function L_(e){var t=new dr(e);return t.request=cc.request,t}function $_(e){var t=new dr(e);return t.request=cc.request,t.createSocket=Wf,t.defaultPort=443,t}function U_(e){var t=new dr(e);return t.request=Vf.request,t}function z_(e){var t=new dr(e);return t.request=Vf.request,t.createSocket=Wf,t.defaultPort=443,t}function dr(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||cc.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,o,s,i){for(var a=Yf(o,s,i),c=0,d=t.requests.length;c<d;++c){var l=t.requests[c];if(l.host===a.host&&l.port===a.port){t.requests.splice(c,1),l.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}F_.inherits(dr,M_.EventEmitter);dr.prototype.addRequest=function(t,r,n,o){var s=this,i=dc({request:t},s.options,Yf(r,n,o));if(s.sockets.length>=this.maxSockets){s.requests.push(i);return}s.createSocket(i,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),t.onSocket(a);function c(){s.emit("free",a,i)}function d(l){s.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};dr.prototype.createSocket=function(t,r){var n=this,o={};n.sockets.push(o);var s=dc({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),Tr("making CONNECT request");var i=n.request(s);i.useChunkedEncodingByDefault=!1,i.once("response",a),i.once("upgrade",c),i.once("connect",d),i.once("error",l),i.end();function a(m){m.upgrade=!0}function c(m,f,C){process.nextTick(function(){d(m,f,C)})}function d(m,f,C){if(i.removeAllListeners(),f.removeAllListeners(),m.statusCode!==200){Tr("tunneling socket could not be established, statusCode=%d",m.statusCode),f.destroy();var g=new Error("tunneling socket could not be established, statusCode="+m.statusCode);g.code="ECONNRESET",t.request.emit("error",g),n.removeSocket(o);return}if(C.length>0){Tr("got illegal response body from proxy"),f.destroy();var g=new Error("got illegal response body from proxy");g.code="ECONNRESET",t.request.emit("error",g),n.removeSocket(o);return}return Tr("tunneling connection has established"),n.sockets[n.sockets.indexOf(o)]=f,r(f)}function l(m){i.removeAllListeners(),Tr(`tunneling socket could not be established, cause=%s
`,m.message,m.stack);var f=new Error("tunneling socket could not be established, cause="+m.message);f.code="ECONNRESET",t.request.emit("error",f),n.removeSocket(o)}};dr.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(o){n.request.onSocket(o)})}};function Wf(e,t){var r=this;dr.prototype.createSocket.call(r,e,function(n){var o=e.request.getHeader("host"),s=dc({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host}),i=B_.connect(0,s);r.sockets[r.sockets.indexOf(n)]=i,t(i)})}function Yf(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function dc(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var o=Object.keys(n),s=0,i=o.length;s<i;++s){var a=o[s];n[a]!==void 0&&(e[a]=n[a])}}return e}var Tr;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Tr=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Tr=function(){};Gn.debug=Tr});var Jf=R((u3,Xf)=>{Xf.exports=Qf()});var em=R(he=>{"use strict";var q_=he&&he.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),j_=he&&he.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),si=he&&he.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&q_(t,e,r);return j_(t,e),t},Le=he&&he.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(he,"__esModule",{value:!0});he.HttpClient=he.isHttps=he.HttpClientResponse=he.HttpClientError=he.getProxyUrl=he.MediaTypes=he.Headers=he.HttpCodes=void 0;var ti=si(G("http")),lc=si(G("https")),Zf=si(Kf()),ri=si(Jf()),Ot;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Ot=he.HttpCodes||(he.HttpCodes={}));var nt;(function(e){e.Accept="accept",e.ContentType="content-type"})(nt=he.Headers||(he.Headers={}));var Nr;(function(e){e.ApplicationJson="application/json"})(Nr=he.MediaTypes||(he.MediaTypes={}));function H_(e){let t=Zf.getProxyUrl(new URL(e));return t?t.href:""}he.getProxyUrl=H_;var G_=[Ot.MovedPermanently,Ot.ResourceMoved,Ot.SeeOther,Ot.TemporaryRedirect,Ot.PermanentRedirect],K_=[Ot.BadGateway,Ot.ServiceUnavailable,Ot.GatewayTimeout],V_=["OPTIONS","GET","DELETE","HEAD"],W_=10,Y_=5,Kn=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Kn.prototype)}};he.HttpClientError=Kn;var oi=class{constructor(t){this.message=t}readBody(){return Le(this,void 0,void 0,function*(){return new Promise(t=>Le(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};he.HttpClientResponse=oi;function Q_(e){return new URL(e).protocol==="https:"}he.isHttps=Q_;var uc=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return Le(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return Le(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return Le(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return Le(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return Le(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return Le(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return Le(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,o){return Le(this,void 0,void 0,function*(){return this.request(t,r,n,o)})}getJson(t,r={}){return Le(this,void 0,void 0,function*(){r[nt.Accept]=this._getExistingOrDefaultHeader(r,nt.Accept,Nr.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return Le(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[nt.Accept]=this._getExistingOrDefaultHeader(n,nt.Accept,Nr.ApplicationJson),n[nt.ContentType]=this._getExistingOrDefaultHeader(n,nt.ContentType,Nr.ApplicationJson);let s=yield this.post(t,o,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return Le(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[nt.Accept]=this._getExistingOrDefaultHeader(n,nt.Accept,Nr.ApplicationJson),n[nt.ContentType]=this._getExistingOrDefaultHeader(n,nt.ContentType,Nr.ApplicationJson);let s=yield this.put(t,o,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return Le(this,void 0,void 0,function*(){let o=JSON.stringify(r,null,2);n[nt.Accept]=this._getExistingOrDefaultHeader(n,nt.Accept,Nr.ApplicationJson),n[nt.ContentType]=this._getExistingOrDefaultHeader(n,nt.ContentType,Nr.ApplicationJson);let s=yield this.patch(t,o,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,o){return Le(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),i=this._prepareRequest(t,s,o),a=this._allowRetries&&V_.includes(t)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(i,n),d&&d.message&&d.message.statusCode===Ot.Unauthorized){let m;for(let f of this.handlers)if(f.canHandleAuthentication(d)){m=f;break}return m?m.handleAuthentication(this,i,n):d}let l=this._maxRedirects;for(;d.message.statusCode&&G_.includes(d.message.statusCode)&&this._allowRedirects&&l>0;){let m=d.message.headers.location;if(!m)break;let f=new URL(m);if(s.protocol==="https:"&&s.protocol!==f.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),f.hostname!==s.hostname)for(let C in o)C.toLowerCase()==="authorization"&&delete o[C];i=this._prepareRequest(t,f,o),d=yield this.requestRaw(i,n),l--}if(!d.message.statusCode||!K_.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return Le(this,void 0,void 0,function*(){return new Promise((n,o)=>{function s(i,a){i?o(i):a?n(a):o(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let o=!1;function s(c,d){o||(o=!0,n(c,d))}let i=t.httpModule.request(t.options,c=>{let d=new oi(c);s(void 0,d)}),a;i.on("socket",c=>{a=c}),i.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${t.options.path}`))}),i.on("error",function(c){s(c)}),r&&typeof r=="string"&&i.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){i.end()}),r.pipe(i)):i.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let o={};o.parsedUrl=r;let s=o.parsedUrl.protocol==="https:";o.httpModule=s?lc:ti;let i=s?443:80;if(o.options={},o.options.host=o.parsedUrl.hostname,o.options.port=o.parsedUrl.port?parseInt(o.parsedUrl.port):i,o.options.path=(o.parsedUrl.pathname||"")+(o.parsedUrl.search||""),o.options.method=t,o.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(o.options.headers["user-agent"]=this.userAgent),o.options.agent=this._getAgent(o.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(o.options);return o}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},ni(this.requestOptions.headers),ni(t||{})):ni(t||{})}_getExistingOrDefaultHeader(t,r,n){let o;return this.requestOptions&&this.requestOptions.headers&&(o=ni(this.requestOptions.headers)[r]),t[r]||o||n}_getAgent(t){let r,n=Zf.getProxyUrl(t),o=n&&n.hostname;if(this._keepAlive&&o&&(r=this._proxyAgent),this._keepAlive&&!o&&(r=this._agent),r)return r;let s=t.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||ti.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";s?c=d?ri.httpsOverHttps:ri.httpsOverHttp:c=d?ri.httpOverHttps:ri.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:i};r=s?new lc.Agent(a):new ti.Agent(a),this._agent=r}return r||(r=s?lc.globalAgent:ti.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return Le(this,void 0,void 0,function*(){t=Math.min(W_,t);let r=Y_*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return Le(this,void 0,void 0,function*(){return new Promise((n,o)=>Le(this,void 0,void 0,function*(){let s=t.message.statusCode||0,i={statusCode:s,result:null,headers:{}};s===Ot.NotFound&&n(i);function a(l,m){if(typeof m=="string"){let f=new Date(m);if(!isNaN(f.valueOf()))return f}return m}let c,d;try{d=yield t.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),i.result=c),i.headers=t.message.headers}catch{}if(s>299){let l;c&&c.message?l=c.message:d&&d.length>0?l=d:l=`Failed request: (${s})`;let m=new Kn(l,s);m.result=i.result,o(m)}else n(i)}))})}};he.HttpClient=uc;var ni=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var tm=R(Lt=>{"use strict";var pc=Lt&&Lt.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.PersonalAccessTokenCredentialHandler=Lt.BearerCredentialHandler=Lt.BasicCredentialHandler=void 0;var fc=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return pc(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Lt.BasicCredentialHandler=fc;var mc=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return pc(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Lt.BearerCredentialHandler=mc;var hc=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return pc(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Lt.PersonalAccessTokenCredentialHandler=hc});var om=R(Vn=>{"use strict";var rm=Vn&&Vn.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.OidcClient=void 0;var X_=em(),J_=tm(),nm=yc(),vr=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new X_.HttpClient("actions/oidc-client",[new J_.BearerCredentialHandler(vr.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return rm(this,void 0,void 0,function*(){let s=(r=(yield vr.createHttpClient().getJson(t).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(t){return rm(this,void 0,void 0,function*(){try{let r=vr.getIDTokenUrl();if(t){let o=encodeURIComponent(t);r=`${r}&audience=${o}`}nm.debug(`ID token url is ${r}`);let n=yield vr.getCall(r);return nm.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Vn.OidcClient=vr});var Cc=R(ot=>{"use strict";var gc=ot&&ot.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(ot,"__esModule",{value:!0});ot.summary=ot.markdownSummary=ot.SUMMARY_DOCS_URL=ot.SUMMARY_ENV_VAR=void 0;var Z_=G("os"),xc=G("fs"),{access:e0,appendFile:t0,writeFile:r0}=xc.promises;ot.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";ot.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Ec=class{constructor(){this._buffer=""}filePath(){return gc(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[ot.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${ot.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield e0(t,xc.constants.R_OK|xc.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let o=Object.entries(n).map(([s,i])=>` ${s}="${i}"`).join("");return r?`<${t}${o}>${r}</${t}>`:`<${t}${o}>`}write(t){return gc(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?r0:t0)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return gc(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(Z_.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),o=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(o).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",o=t.map(i=>this.wrap("li",i)).join(""),s=this.wrap(n,o);return this.addRaw(s).addEOL()}addTable(t){let r=t.map(o=>{let s=o.map(i=>{if(typeof i=="string")return this.wrap("td",i);let{header:a,data:c,colspan:d,rowspan:l}=i,m=a?"th":"td",f=Object.assign(Object.assign({},d&&{colspan:d}),l&&{rowspan:l});return this.wrap(m,c,f)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:o,height:s}=n||{},i=Object.assign(Object.assign({},o&&{width:o}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:t,alt:r},i));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,o=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(o,t);return this.addRaw(s).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),o=this.wrap("blockquote",t,n);return this.addRaw(o).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},sm=new Ec;ot.markdownSummary=sm;ot.summary=sm});var im=R(st=>{"use strict";var n0=st&&st.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),o0=st&&st.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s0=st&&st.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&n0(t,e,r);return o0(t,e),t};Object.defineProperty(st,"__esModule",{value:!0});st.toPlatformPath=st.toWin32Path=st.toPosixPath=void 0;var i0=s0(G("path"));function a0(e){return e.replace(/[\\]/g,"/")}st.toPosixPath=a0;function c0(e){return e.replace(/[/]/g,"\\")}st.toWin32Path=c0;function d0(e){return e.replace(/[/\\]/g,i0.sep)}st.toPlatformPath=d0});var yc=R(F=>{"use strict";var l0=F&&F.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),u0=F&&F.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),am=F&&F.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&l0(t,e,r);return u0(t,e),t},cm=F&&F.__awaiter||function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(F,"__esModule",{value:!0});F.getIDToken=F.getState=F.saveState=F.group=F.endGroup=F.startGroup=F.info=F.notice=F.warning=F.error=F.debug=F.isDebug=F.setFailed=F.setCommandEcho=F.setOutput=F.getBooleanInput=F.getMultilineInput=F.getInput=F.addPath=F.setSecret=F.exportVariable=F.ExitCode=void 0;var wt=wf(),wn=Hf(),Wn=Ys(),dm=am(G("os")),f0=am(G("path")),m0=om(),lm;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(lm=F.ExitCode||(F.ExitCode={}));function h0(e,t){let r=Wn.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return wn.issueFileCommand("ENV",wn.prepareKeyValueMessage(e,t));wt.issueCommand("set-env",{name:e},r)}F.exportVariable=h0;function p0(e){wt.issueCommand("add-mask",{},e)}F.setSecret=p0;function y0(e){process.env.GITHUB_PATH||""?wn.issueFileCommand("PATH",e):wt.issueCommand("add-path",{},e),process.env.PATH=`${e}${f0.delimiter}${process.env.PATH}`}F.addPath=y0;function wc(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}F.getInput=wc;function g0(e,t){let r=wc(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}F.getMultilineInput=g0;function x0(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],o=wc(e,t);if(r.includes(o))return!0;if(n.includes(o))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}F.getBooleanInput=x0;function E0(e,t){if(process.env.GITHUB_OUTPUT||"")return wn.issueFileCommand("OUTPUT",wn.prepareKeyValueMessage(e,t));process.stdout.write(dm.EOL),wt.issueCommand("set-output",{name:e},Wn.toCommandValue(t))}F.setOutput=E0;function C0(e){wt.issue("echo",e?"on":"off")}F.setCommandEcho=C0;function w0(e){process.exitCode=lm.Failure,um(e)}F.setFailed=w0;function S0(){return process.env.RUNNER_DEBUG==="1"}F.isDebug=S0;function b0(e){wt.issueCommand("debug",{},e)}F.debug=b0;function um(e,t={}){wt.issueCommand("error",Wn.toCommandProperties(t),e instanceof Error?e.toString():e)}F.error=um;function _0(e,t={}){wt.issueCommand("warning",Wn.toCommandProperties(t),e instanceof Error?e.toString():e)}F.warning=_0;function A0(e,t={}){wt.issueCommand("notice",Wn.toCommandProperties(t),e instanceof Error?e.toString():e)}F.notice=A0;function R0(e){process.stdout.write(e+dm.EOL)}F.info=R0;function fm(e){wt.issue("group",e)}F.startGroup=fm;function mm(){wt.issue("endgroup")}F.endGroup=mm;function k0(e,t){return cm(this,void 0,void 0,function*(){fm(e);let r;try{r=yield t()}finally{mm()}return r})}F.group=k0;function T0(e,t){if(process.env.GITHUB_STATE||"")return wn.issueFileCommand("STATE",wn.prepareKeyValueMessage(e,t));wt.issueCommand("save-state",{name:e},Wn.toCommandValue(t))}F.saveState=T0;function N0(e){return process.env[`STATE_${e}`]||""}F.getState=N0;function v0(e){return cm(this,void 0,void 0,function*(){return yield m0.OidcClient.getIDToken(e)})}F.getIDToken=v0;var P0=Cc();Object.defineProperty(F,"summary",{enumerable:!0,get:function(){return P0.summary}});var O0=Cc();Object.defineProperty(F,"markdownSummary",{enumerable:!0,get:function(){return O0.markdownSummary}});var Sc=im();Object.defineProperty(F,"toPosixPath",{enumerable:!0,get:function(){return Sc.toPosixPath}});Object.defineProperty(F,"toWin32Path",{enumerable:!0,get:function(){return Sc.toWin32Path}});Object.defineProperty(F,"toPlatformPath",{enumerable:!0,get:function(){return Sc.toPlatformPath}})});var Nc=R(ur=>{"use strict";var $m=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",iA=$m+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Um="["+$m+"]["+iA+"]*",aA=new RegExp("^"+Um+"$"),cA=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r},dA=function(e){let t=aA.exec(e);return!(t===null||typeof t>"u")};ur.isExist=function(e){return typeof e<"u"};ur.isEmptyObject=function(e){return Object.keys(e).length===0};ur.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let s=0;s<o;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};ur.getValue=function(e){return ur.isExist(e)?e:""};ur.isName=dA;ur.getAllMatches=cA;ur.nameRegexp=Um});var Pc=R(Gm=>{"use strict";var vc=Nc(),lA={allowBooleanAttributes:!1,unpairedTags:[]};Gm.validate=function(e,t){t=Object.assign({},lA,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=qm(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=jm(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!xA(c)){let m;return c.trim().length===0?m="Invalid space after '<'.":m="Tag '"+c+"' is an invalid name.",Be("InvalidTag",m,at(e,s))}let d=mA(e,s);if(d===!1)return Be("InvalidAttr","Attributes for '"+c+"' have open quote.",at(e,s));let l=d.value;if(s=d.index,l[l.length-1]==="/"){let m=s-l.length;l=l.substring(0,l.length-1);let f=Hm(l,t);if(f===!0)n=!0;else return Be(f.err.code,f.err.msg,at(e,m+f.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return Be("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",at(e,i));{let m=r.pop();if(c!==m.tagName){let f=at(e,m.tagStartPos);return Be("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",at(e,i))}r.length==0&&(o=!0)}}else return Be("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",at(e,s));else{let m=Hm(l,t);if(m!==!0)return Be(m.err.code,m.err.msg,at(e,s-l.length+m.err.line));if(o===!0)return Be("InvalidXml","Multiple possible root nodes found.",at(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=jm(e,s);continue}else if(e[s+1]==="?"){if(s=qm(e,++s),s.err)return s}else break;else if(e[s]==="&"){let m=yA(e,s);if(m==-1)return Be("InvalidChar","char '&' is not expected.",at(e,s));s=m}else if(o===!0&&!zm(e[s]))return Be("InvalidXml","Extra text at the end",at(e,s));e[s]==="<"&&s--}}else{if(zm(e[s]))continue;return Be("InvalidChar","char '"+e[s]+"' is not expected.",at(e,s))}if(n){if(r.length==1)return Be("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",at(e,r[0].tagStartPos));if(r.length>0)return Be("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Be("InvalidXml","Start tag expected.",1);return!0};function zm(e){return e===" "||e==="	"||e===`
`||e==="\r"}function qm(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return Be("InvalidXml","XML declaration allowed only at the start of the document.",at(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function jm(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var uA='"',fA="'";function mA(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===uA||e[t]===fA)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var hA=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Hm(e,t){let r=vc.getAllMatches(e,hA),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return Be("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",ns(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return Be("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",ns(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return Be("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",ns(r[o]));let s=r[o][2];if(!gA(s))return Be("InvalidAttr","Attribute '"+s+"' is an invalid name.",ns(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return Be("InvalidAttr","Attribute '"+s+"' is repeated.",ns(r[o]))}return!0}function pA(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function yA(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,pA(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Be(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function gA(e){return vc.isName(e)}function xA(e){return vc.isName(e)}function at(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ns(e){return e.startIndex+e[1].length}});var Vm=R(Oc=>{var Km={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},EA=function(e){return Object.assign({},Km,e)};Oc.buildOptions=EA;Oc.defaultOptions=Km});var Ym=R((MF,Wm)=>{"use strict";var Ic=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};Wm.exports=Ic});var Xm=R((FF,Qm)=>{function CA(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,s=!0;else if(o&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(o&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):(s&&(SA(a,r),s=!1),n--),n===0)break}else e[t]==="["?o=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var wA=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function SA(e,t){let r=wA.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}Qm.exports=CA});var Zm=R((LF,Jm)=>{var bA=/^[-+]?0x[a-fA-F0-9]+$/,_A=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var AA={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function RA(e,t={}){if(t=Object.assign({},AA,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&bA.test(r))return Number.parseInt(r,16);{let n=_A.exec(r);if(n){let o=n[1],s=n[2],i=kA(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||o&&d==="-"+i?c:e:s?i===d||o+i===d?c:e:r===d||r===o+d?c:e}}else return e}}function kA(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Jm.exports=RA});var th=R((UF,eh)=>{"use strict";var Fc=Nc(),os=Ym(),TA=Xm(),NA=Zm(),$F="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Fc.nameRegexp),Dc=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=vA,this.parseXml=BA,this.parseTextData=PA,this.resolveNameSpace=OA,this.buildAttributesMap=DA,this.isItStopNode=LA,this.replaceEntitiesValue=MA,this.readStopNodeData=UA,this.saveTextToParentTag=FA}};function vA(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function PA(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Mc(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Mc(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function OA(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var IA=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function DA(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=Fc.getAllMatches(e,IA),n=r.length,o={};for(let s=0;s<n;s++){let i=this.resolveNameSpace(r[s][1]),a=r[s][4],c=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(i,a,t);d==null?o[c]=a:typeof d!=typeof a||d!==a?o[c]=d:o[c]=Mc(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[c]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}var BA=function(e){e=e.replace(/\r\n?/g,`
`);let t=new os("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=Sn(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o)),o=o.substr(0,o.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=Bc(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new os(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o)),r.addChild(c)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=Sn(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=TA(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=Sn(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,o,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}s=a+2}else{let a=Bc(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,m=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1)),c!==t.tagname&&(o+=o?"."+c:c);let f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,o,c)){let C="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let b=this.readStopNodeData(e,c,m+1);if(!b)throw new Error(`Unexpected end of ${c}`);s=b.i,C=b.tagContent}let g=new os(c);c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,o)),C&&(C=this.parseTextData(C,c,o,!0,l,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),g.add(this.options.textNodeName,C),r.addChild(g)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let C=new os(c);c!==d&&l&&(C[":@"]=this.buildAttributesMap(d,o)),o=o.substr(0,o.lastIndexOf(".")),r.addChild(C)}else{let C=new os(c);this.tagsNodeStack.push(r),c!==d&&l&&(C[":@"]=this.buildAttributesMap(d,o)),r.addChild(C),r=C}n="",s=m}}else n+=e[s];return t.child},MA=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function FA(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function LA(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function $A(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function Sn(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Bc(e,t,r,n=">"){let o=$A(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,d=!0;if(a!==-1&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),d=c!==o.data.substr(l+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:d}}function UA(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=Sn(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=Sn(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Sn(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Sn(e,"]]>",r,"StopNode is not closed.")-2;else{let s=Bc(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Mc(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:NA(e,r)}else return Fc.isExist(e)?e:""}eh.exports=Dc});var oh=R(nh=>{"use strict";function zA(e,t){return rh(e,t)}function rh(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=qA(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=rh(i[a],t,c),l=HA(d,t);i[":@"]?jA(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):t.isArray(a,c,l)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function qA(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function jA(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function HA(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}nh.prettify=zA});var ih=R((qF,sh)=>{var{buildOptions:GA}=Vm(),KA=th(),{prettify:VA}=oh(),WA=Pc(),Lc=class{constructor(t){this.externalEntities={},this.options=GA(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=WA.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new KA(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:VA(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};sh.exports=Lc});var uh=R((jF,lh)=>{var YA=`
`;function QA(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=YA),ch(e,t,"",r)}function ch(e,t,r,n){let o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i],c=XA(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let g=a[c];JA(d,t)||(g=t.tagValueProcessor(c,g),g=dh(g,t)),s&&(o+=n),o+=g,s=!1;continue}else if(c===t.cdataPropName){s&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let g=ah(a[":@"],t),b=c==="?xml"?"":n,T=a[c][0][t.textNodeName];T=T.length!==0?" "+T:"",o+=b+`<${c}${T}${g}?>`,s=!0;continue}let l=n;l!==""&&(l+=t.indentBy);let m=ah(a[":@"],t),f=n+`<${c}${m}`,C=ch(a[c],t,d,l);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=f+">":o+=f+"/>":(!C||C.length===0)&&t.suppressEmptyNode?o+=f+"/>":C&&C.endsWith(">")?o+=f+`>${C}${n}</${c}>`:(o+=f+">",C&&n!==""&&(C.includes("/>")||C.includes("</"))?o+=n+t.indentBy+C+n:o+=C,o+=`</${c}>`),s=!0}return o}function XA(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function ah(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=dh(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function JA(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function dh(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}lh.exports=QA});var mh=R((HF,fh)=>{"use strict";var ZA=uh(),eR={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Br(e){this.options=Object.assign({},eR,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=nR),this.processTextOrObjNode=tR,this.options.format?(this.indentate=rR,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Br.prototype.build=function(e){return this.options.preserveOrder?ZA(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Br.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let s=this.isAttribute(o);if(s)r+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let s=e[o].length;for(let i=0;i<s;i++){let a=e[o][i];typeof a>"u"||(a===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,o,t):n+=this.buildTextValNode(a,o,"",t))}}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let s=Object.keys(e[o]),i=s.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(s[a],""+e[o][s[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};Br.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function tR(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Br.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+o}};Br.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Br.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};Br.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function rR(e){return this.options.indentBy.repeat(e)}function nR(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}fh.exports=Br});var $c=R((GF,hh)=>{"use strict";var oR=Pc(),sR=ih(),iR=mh();hh.exports={XMLParser:sR,XMLValidator:oR,XMLBuilder:iR}});var Hc={};zn(Hc,{__assign:()=>qc,__asyncDelegator:()=>IR,__asyncGenerator:()=>OR,__asyncValues:()=>DR,__await:()=>as,__awaiter:()=>RR,__classPrivateFieldGet:()=>LR,__classPrivateFieldSet:()=>$R,__createBinding:()=>TR,__decorate:()=>bR,__exportStar:()=>NR,__extends:()=>wR,__generator:()=>kR,__importDefault:()=>FR,__importStar:()=>MR,__makeTemplateObject:()=>BR,__metadata:()=>AR,__param:()=>_R,__read:()=>Ih,__rest:()=>SR,__spread:()=>vR,__spreadArrays:()=>PR,__values:()=>jc});function wR(e,t){zc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function SR(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function bR(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function _R(e,t){return function(r,n){t(r,n,e)}}function AR(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function RR(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function kR(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function TR(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function NR(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function jc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ih(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function vR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ih(arguments[t]));return e}function PR(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function as(e){return this instanceof as?(this.v=e,this):new as(e)}function OR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(f){n[f]&&(o[f]=function(C){return new Promise(function(g,b){s.push([f,C,g,b])>1||a(f,C)})})}function a(f,C){try{c(n[f](C))}catch(g){m(s[0][3],g)}}function c(f){f.value instanceof as?Promise.resolve(f.value.v).then(d,l):m(s[0][2],f)}function d(f){a("next",f)}function l(f){a("throw",f)}function m(f,C){f(C),s.shift(),s.length&&a(s[0][0],s[0][1])}}function IR(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:as(e[o](i)),done:o==="return"}:s?s(i):i}:s}}function DR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof jc=="function"?jc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function BR(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function MR(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function FR(e){return e&&e.__esModule?e:{default:e}}function LR(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function $R(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var zc,qc,Gc=Ie(()=>{zc=function(e,t){return zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},zc(e,t)};qc=function(){return qc=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},qc.apply(this,arguments)}});var Dh,Bh,Mh=Ie(()=>{Dh=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let o=e.charCodeAt(r);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,o&63|128);else if(r+1<e.length&&(o&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let s=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(t)},Bh=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let o=e[r];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){let s=e[++r];t+=String.fromCharCode((o&31)<<6|s&63)}else if(240<=o&&o<365){let i="%"+[o,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((o&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t}});function Fh(e){return new TextEncoder().encode(e)}function Lh(e){return new TextDecoder("utf-8").decode(e)}var $h=Ie(()=>{});var Uh={};zn(Uh,{fromUtf8:()=>UR,toUtf8:()=>zR});var UR,zR,zh=Ie(()=>{Mh();$h();UR=e=>typeof TextEncoder=="function"?Fh(e):Dh(e),zR=e=>typeof TextDecoder=="function"?Lh(e):Bh(e)});var qh=R(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.convertToBuffer=void 0;var qR=(zh(),qn(Uh)),jR=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:qR.fromUtf8;function HR(e){return e instanceof Uint8Array?e:typeof e=="string"?jR(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}ui.convertToBuffer=HR});var jh=R(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.isEmptyData=void 0;function GR(e){return typeof e=="string"?e.length===0:e.byteLength===0}fi.isEmptyData=GR});var Hh=R(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.numToUint8=void 0;function KR(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}mi.numToUint8=KR});var Gh=R(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.uint32ArrayFrom=void 0;function VR(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}hi.uint32ArrayFrom=VR});var cs=R(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.uint32ArrayFrom=Ht.numToUint8=Ht.isEmptyData=Ht.convertToBuffer=void 0;var WR=qh();Object.defineProperty(Ht,"convertToBuffer",{enumerable:!0,get:function(){return WR.convertToBuffer}});var YR=jh();Object.defineProperty(Ht,"isEmptyData",{enumerable:!0,get:function(){return YR.isEmptyData}});var QR=Hh();Object.defineProperty(Ht,"numToUint8",{enumerable:!0,get:function(){return QR.numToUint8}});var XR=Gh();Object.defineProperty(Ht,"uint32ArrayFrom",{enumerable:!0,get:function(){return XR.uint32ArrayFrom}})});var Wh=R(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.AwsCrc32=void 0;var Kh=(Gc(),qn(Hc)),Kc=cs(),Vh=ds(),JR=function(){function e(){this.crc32=new Vh.Crc32}return e.prototype.update=function(t){(0,Kc.isEmptyData)(t)||this.crc32.update((0,Kc.convertToBuffer)(t))},e.prototype.digest=function(){return Kh.__awaiter(this,void 0,void 0,function(){return Kh.__generator(this,function(t){return[2,(0,Kc.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Vh.Crc32},e}();pi.AwsCrc32=JR});var ds=R(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.AwsCrc32=Mr.Crc32=Mr.crc32=void 0;var ZR=(Gc(),qn(Hc)),ek=cs();function tk(e){return new Yh().update(e).digest()}Mr.crc32=tk;var Yh=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=ZR.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^nk[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Mr.Crc32=Yh;var rk=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],nk=(0,ek.uint32ArrayFrom)(rk),ok=Wh();Object.defineProperty(Mr,"AwsCrc32",{enumerable:!0,get:function(){return ok.AwsCrc32}})});var Qc={};zn(Qc,{__assign:()=>Wc,__asyncDelegator:()=>gk,__asyncGenerator:()=>yk,__asyncValues:()=>xk,__await:()=>ls,__awaiter:()=>lk,__classPrivateFieldGet:()=>Sk,__classPrivateFieldSet:()=>bk,__createBinding:()=>fk,__decorate:()=>ak,__exportStar:()=>mk,__extends:()=>sk,__generator:()=>uk,__importDefault:()=>wk,__importStar:()=>Ck,__makeTemplateObject:()=>Ek,__metadata:()=>dk,__param:()=>ck,__read:()=>Qh,__rest:()=>ik,__spread:()=>hk,__spreadArrays:()=>pk,__values:()=>Yc});function sk(e,t){Vc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function ik(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function ak(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function ck(e,t){return function(r,n){t(r,n,e)}}function dk(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function lk(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(m){i(m)}}function c(l){try{d(n.throw(l))}catch(m){i(m)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function uk(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function fk(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function mk(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Yc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function hk(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qh(arguments[t]));return e}function pk(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function ls(e){return this instanceof ls?(this.v=e,this):new ls(e)}function yk(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(f){n[f]&&(o[f]=function(C){return new Promise(function(g,b){s.push([f,C,g,b])>1||a(f,C)})})}function a(f,C){try{c(n[f](C))}catch(g){m(s[0][3],g)}}function c(f){f.value instanceof ls?Promise.resolve(f.value.v).then(d,l):m(s[0][2],f)}function d(f){a("next",f)}function l(f){a("throw",f)}function m(f,C){f(C),s.shift(),s.length&&a(s[0][0],s[0][1])}}function gk(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:ls(e[o](i)),done:o==="return"}:s?s(i):i}:s}}function xk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Yc=="function"?Yc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function Ek(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Ck(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function wk(e){return e&&e.__esModule?e:{default:e}}function Sk(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function bk(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var Vc,Wc,Xc=Ie(()=>{Vc=function(e,t){return Vc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},Vc(e,t)};Wc=function(){return Wc=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Wc.apply(this,arguments)}});var Zh=R(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.AwsCrc32c=void 0;var Xh=(Xc(),qn(Qc)),Jc=cs(),Jh=Zc(),_k=function(){function e(){this.crc32c=new Jh.Crc32c}return e.prototype.update=function(t){(0,Jc.isEmptyData)(t)||this.crc32c.update((0,Jc.convertToBuffer)(t))},e.prototype.digest=function(){return Xh.__awaiter(this,void 0,void 0,function(){return Xh.__generator(this,function(t){return[2,(0,Jc.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new Jh.Crc32c},e}();yi.AwsCrc32c=_k});var Zc=R(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.AwsCrc32c=Fr.Crc32c=Fr.crc32c=void 0;var Ak=(Xc(),qn(Qc)),Rk=cs();function kk(e){return new ep().update(e).digest()}Fr.crc32c=kk;var ep=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=Ak.__values(t),s=o.next();!s.done;s=o.next()){var i=s.value;this.checksum=this.checksum>>>8^Nk[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Fr.Crc32c=ep;var Tk=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],Nk=(0,Rk.uint32ArrayFrom)(Tk),vk=Zh();Object.defineProperty(Fr,"AwsCrc32c",{enumerable:!0,get:function(){return vk.AwsCrc32c}})});var Sl=R((GQ,NC)=>{"use strict";var IP=G("stream"),kC=IP.PassThrough,DP=Array.prototype.slice;NC.exports=BP;function BP(){let e=[],t=DP.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let o=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let i=kC(n);function a(){for(let l=0,m=arguments.length;l<m;l++)e.push(TC(arguments[l],n));return c(),this}function c(){if(r)return;r=!0;let l=e.shift();if(!l){process.nextTick(d);return}Array.isArray(l)||(l=[l]);let m=l.length+1;function f(){--m>0||(r=!1,c())}function C(g){function b(){g.removeListener("merge2UnpipeEnd",b),g.removeListener("end",b),s&&g.removeListener("error",T),f()}function T($){i.emit("error",$)}if(g._readableState.endEmitted)return f();g.on("merge2UnpipeEnd",b),g.on("end",b),s&&g.on("error",T),g.pipe(i,{end:!1}),g.resume()}for(let g=0;g<l.length;g++)C(l[g]);f()}function d(){r=!1,i.emit("queueDrain"),o&&i.end()}return i.setMaxListeners(0),i.add=a,i.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),i}function TC(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=TC(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(kC(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var vC=R(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.splitWhen=Lo.flatten=void 0;function MP(e){return e.reduce((t,r)=>[].concat(t,r),[])}Lo.flatten=MP;function FP(e,t){let r=[[]],n=0;for(let o of e)t(o)?(n++,r[n]=[]):r[n].push(o);return r}Lo.splitWhen=FP});var PC=R(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.isEnoentCodeError=void 0;function LP(e){return e.code==="ENOENT"}Ca.isEnoentCodeError=LP});var OC=R(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.createDirentFromStats=void 0;var bl=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function $P(e,t){return new bl(e,t)}wa.createDirentFromStats=$P});var IC=R(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.removeLeadingDotSegment=or.escape=or.makeAbsolute=or.unixify=void 0;var UP=G("path"),zP=2,qP=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function jP(e){return e.replace(/\\/g,"/")}or.unixify=jP;function HP(e,t){return UP.resolve(e,t)}or.makeAbsolute=HP;function GP(e){return e.replace(qP,"\\$2")}or.escape=GP;function KP(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(zP)}return e}or.removeLeadingDotSegment=KP});var BC=R((QQ,DC)=>{DC.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var LC=R((XQ,FC)=>{var VP=BC(),MC={"{":"}","(":")","[":"]"},WP=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,o=-2,s=-2,i=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(i===-1||i>n||(i=e.indexOf("\\",t),i===-1||i>n)))||o!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(o=e.indexOf("}",t),o>t&&(i=e.indexOf("\\",t),i===-1||i>o))||s!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(s=e.indexOf(")",t),s>t&&(i=e.indexOf("\\",t),i===-1||i>s))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(s=e.indexOf(")",r),s>r&&(i=e.indexOf("\\",r),i===-1||i>s))))return!0;if(e[t]==="\\"){var a=e[t+1];t+=2;var c=MC[a];if(c){var d=e.indexOf(c,t);d!==-1&&(t=d+1)}if(e[t]==="!")return!0}else t++}return!1},YP=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=MC[r];if(n){var o=e.indexOf(n,t);o!==-1&&(t=o+1)}if(e[t]==="!")return!0}else t++}return!1};FC.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(VP(t))return!0;var n=WP;return r&&r.strict===!1&&(n=YP),n(t)}});var UC=R((JQ,$C)=>{"use strict";var QP=LC(),XP=G("path").posix.dirname,JP=G("os").platform()==="win32",_l="/",ZP=/\\/g,eO=/[\{\[].*[\}\]]$/,tO=/(^|[^\\])([\{\[]|\([^\)]+$)/,rO=/\\([\!\*\?\|\[\]\(\)\{\}])/g;$C.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&JP&&t.indexOf(_l)<0&&(t=t.replace(ZP,_l)),eO.test(t)&&(t+=_l),t+="a";do t=XP(t);while(QP(t)||tO.test(t));return t.replace(rO,"$1")}});var Sa=R(vt=>{"use strict";vt.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;vt.find=(e,t)=>e.nodes.find(r=>r.type===t);vt.exceedsLimit=(e,t,r=1,n)=>n===!1||!vt.isInteger(e)||!vt.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;vt.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};vt.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);vt.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;vt.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;vt.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);vt.flatten=(...e)=>{let t=[],r=n=>{for(let o=0;o<n.length;o++){let s=n[o];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var ba=R((eX,qC)=>{"use strict";var zC=Sa();qC.exports=(e,t={})=>{let r=(n,o={})=>{let s=t.escapeInvalid&&zC.isInvalidBrace(o),i=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||i)&&zC.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(e)}});var HC=R((tX,jC)=>{"use strict";jC.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var ZC=R((rX,JC)=>{"use strict";var GC=HC(),Dn=(e,t,r)=>{if(GC(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(GC(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let o=String(n.relaxZeros),s=String(n.shorthand),i=String(n.capture),a=String(n.wrap),c=e+":"+t+"="+o+s+i+a;if(Dn.cache.hasOwnProperty(c))return Dn.cache[c].result;let d=Math.min(e,t),l=Math.max(e,t);if(Math.abs(d-l)===1){let b=e+"|"+t;return n.capture?`(${b})`:n.wrap===!1?b:`(?:${b})`}let m=XC(e)||XC(t),f={min:e,max:t,a:d,b:l},C=[],g=[];if(m&&(f.isPadded=m,f.maxLen=String(f.max).length),d<0){let b=l<0?Math.abs(l):1;g=KC(b,Math.abs(d),f,n),d=f.a=0}return l>=0&&(C=KC(d,l,f,n)),f.negatives=g,f.positives=C,f.result=nO(g,C,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&C.length+g.length>1&&(f.result=`(?:${f.result})`),Dn.cache[c]=f,f.result};function nO(e,t,r){let n=Al(e,t,"-",!1,r)||[],o=Al(t,e,"",!1,r)||[],s=Al(e,t,"-?",!0,r)||[];return n.concat(s).concat(o).join("|")}function oO(e,t){let r=1,n=1,o=WC(e,r),s=new Set([t]);for(;e<=o&&o<=t;)s.add(o),r+=1,o=WC(e,r);for(o=YC(t+1,n)-1;e<o&&o<=t;)s.add(o),n+=1,o=YC(t+1,n)-1;return s=[...s],s.sort(aO),s}function sO(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=iO(e,t),o=n.length,s="",i=0;for(let a=0;a<o;a++){let[c,d]=n[a];c===d?s+=c:c!=="0"||d!=="9"?s+=cO(c,d,r):i++}return i&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[i],digits:o}}function KC(e,t,r,n){let o=oO(e,t),s=[],i=e,a;for(let c=0;c<o.length;c++){let d=o[c],l=sO(String(i),String(d),n),m="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+QC(a.count),i=d+1;continue}r.isPadded&&(m=dO(d,r,n)),l.string=m+l.pattern+QC(l.count),s.push(l),i=d+1,a=l}return s}function Al(e,t,r,n,o){let s=[];for(let i of e){let{string:a}=i;!n&&!VC(t,"string",a)&&s.push(r+a),n&&VC(t,"string",a)&&s.push(r+a)}return s}function iO(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function aO(e,t){return e>t?1:t>e?-1:0}function VC(e,t,r){return e.some(n=>n[t]===r)}function WC(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function YC(e,t){return e-e%Math.pow(10,t)}function QC(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function cO(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function XC(e){return/^-?(0+)\d/.test(e)}function dO(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),o=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return o?"0?":"0";case 2:return o?"0{0,2}":"00";default:return o?`0{0,${n}}`:`0{${n}}`}}Dn.cache={};Dn.clearCache=()=>Dn.cache={};JC.exports=Dn});var Tl=R((nX,aw)=>{"use strict";var lO=G("util"),rw=ZC(),ew=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),uO=e=>t=>e===!0?Number(t):String(t),Rl=e=>typeof e=="number"||typeof e=="string"&&e!=="",Fs=e=>Number.isInteger(+e),kl=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},fO=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,mO=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},tw=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},hO=(e,t)=>{e.negatives.sort((i,a)=>i<a?-1:i>a?1:0),e.positives.sort((i,a)=>i<a?-1:i>a?1:0);let r=t.capture?"":"?:",n="",o="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(o=`-(${r}${e.negatives.join("|")})`),n&&o?s=`${n}|${o}`:s=n||o,t.wrap?`(${r}${s})`:s},nw=(e,t,r,n)=>{if(r)return rw(e,t,{wrap:!1,...n});let o=String.fromCharCode(e);if(e===t)return o;let s=String.fromCharCode(t);return`[${o}-${s}]`},ow=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,o=r.capture?"":"?:";return n?`(${o}${e.join("|")})`:e.join("|")}return rw(e,t,r)},sw=(...e)=>new RangeError("Invalid range arguments: "+lO.inspect(...e)),iw=(e,t,r)=>{if(r.strictRanges===!0)throw sw([e,t]);return[]},pO=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},yO=(e,t,r=1,n={})=>{let o=Number(e),s=Number(t);if(!Number.isInteger(o)||!Number.isInteger(s)){if(n.strictRanges===!0)throw sw([e,t]);return[]}o===0&&(o=0),s===0&&(s=0);let i=o>s,a=String(e),c=String(t),d=String(r);r=Math.max(Math.abs(r),1);let l=kl(a)||kl(c)||kl(d),m=l?Math.max(a.length,c.length,d.length):0,f=l===!1&&fO(e,t,n)===!1,C=n.transform||uO(f);if(n.toRegex&&r===1)return nw(tw(e,m),tw(t,m),!0,n);let g={negatives:[],positives:[]},b=ie=>g[ie<0?"negatives":"positives"].push(Math.abs(ie)),T=[],$=0;for(;i?o>=s:o<=s;)n.toRegex===!0&&r>1?b(o):T.push(mO(C(o,$),m,f)),o=i?o-r:o+r,$++;return n.toRegex===!0?r>1?hO(g,n):ow(T,null,{wrap:!1,...n}):T},gO=(e,t,r=1,n={})=>{if(!Fs(e)&&e.length>1||!Fs(t)&&t.length>1)return iw(e,t,n);let o=n.transform||(f=>String.fromCharCode(f)),s=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),a=s>i,c=Math.min(s,i),d=Math.max(s,i);if(n.toRegex&&r===1)return nw(c,d,!1,n);let l=[],m=0;for(;a?s>=i:s<=i;)l.push(o(s,m)),s=a?s-r:s+r,m++;return n.toRegex===!0?ow(l,null,{wrap:!1,options:n}):l},_a=(e,t,r,n={})=>{if(t==null&&Rl(e))return[e];if(!Rl(e)||!Rl(t))return iw(e,t,n);if(typeof r=="function")return _a(e,t,1,{transform:r});if(ew(r))return _a(e,t,0,r);let o={...n};return o.capture===!0&&(o.wrap=!0),r=r||o.step||1,Fs(r)?Fs(e)&&Fs(t)?yO(e,t,r,o):gO(e,t,Math.max(Math.abs(r),1),o):r!=null&&!ew(r)?pO(r,o):_a(e,t,1,r)};aw.exports=_a});var lw=R((oX,dw)=>{"use strict";var xO=Tl(),cw=Sa(),EO=(e,t={})=>{let r=(n,o={})=>{let s=cw.isInvalidBrace(o),i=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||i===!0,c=t.escapeInvalid===!0?"\\":"",d="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=cw.reduce(n.nodes),m=xO(...l,{...t,wrap:!1,toRegex:!0});if(m.length!==0)return l.length>1&&m.length>1?`(${m})`:m}if(n.nodes)for(let l of n.nodes)d+=r(l,n);return d};return r(e)};dw.exports=EO});var mw=R((sX,fw)=>{"use strict";var CO=Tl(),uw=ba(),$o=Sa(),Bn=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?$o.flatten(t).map(o=>`{${o}}`):t;for(let o of e)if(Array.isArray(o))for(let s of o)n.push(Bn(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Bn(o,s,r):o+s);return $o.flatten(n)},wO=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(o,s={})=>{o.queue=[];let i=s,a=s.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,a=i.queue;if(o.invalid||o.dollar){a.push(Bn(a.pop(),uw(o,t)));return}if(o.type==="brace"&&o.invalid!==!0&&o.nodes.length===2){a.push(Bn(a.pop(),["{}"]));return}if(o.nodes&&o.ranges>0){let m=$o.reduce(o.nodes);if($o.exceedsLimit(...m,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=CO(...m,t);f.length===0&&(f=uw(o,t)),a.push(Bn(a.pop(),f)),o.nodes=[];return}let c=$o.encloseBrace(o),d=o.queue,l=o;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,d=l.queue;for(let m=0;m<o.nodes.length;m++){let f=o.nodes[m];if(f.type==="comma"&&o.type==="brace"){m===1&&d.push(""),d.push("");continue}if(f.type==="close"){a.push(Bn(a.pop(),d,c));continue}if(f.value&&f.type!=="open"){d.push(Bn(d.pop(),f.value));continue}f.nodes&&n(f,o)}return d};return $o.flatten(n(e))};fw.exports=wO});var pw=R((iX,hw)=>{"use strict";hw.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Cw=R((aX,Ew)=>{"use strict";var SO=ba(),{MAX_LENGTH:yw,CHAR_BACKSLASH:Nl,CHAR_BACKTICK:bO,CHAR_COMMA:_O,CHAR_DOT:AO,CHAR_LEFT_PARENTHESES:RO,CHAR_RIGHT_PARENTHESES:kO,CHAR_LEFT_CURLY_BRACE:TO,CHAR_RIGHT_CURLY_BRACE:NO,CHAR_LEFT_SQUARE_BRACKET:gw,CHAR_RIGHT_SQUARE_BRACKET:xw,CHAR_DOUBLE_QUOTE:vO,CHAR_SINGLE_QUOTE:PO,CHAR_NO_BREAK_SPACE:OO,CHAR_ZERO_WIDTH_NOBREAK_SPACE:IO}=pw(),DO=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(yw,r.maxLength):yw;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let o={type:"root",input:e,nodes:[]},s=[o],i=o,a=o,c=0,d=e.length,l=0,m=0,f,C={},g=()=>e[l++],b=T=>{if(T.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&T.type==="text"){a.value+=T.value;return}return i.nodes.push(T),T.parent=i,T.prev=a,a=T,T};for(b({type:"bos"});l<d;)if(i=s[s.length-1],f=g(),!(f===IO||f===OO)){if(f===Nl){b({type:"text",value:(t.keepEscaping?f:"")+g()});continue}if(f===xw){b({type:"text",value:"\\"+f});continue}if(f===gw){c++;let T=!0,$;for(;l<d&&($=g());){if(f+=$,$===gw){c++;continue}if($===Nl){f+=g();continue}if($===xw&&(c--,c===0))break}b({type:"text",value:f});continue}if(f===RO){i=b({type:"paren",nodes:[]}),s.push(i),b({type:"text",value:f});continue}if(f===kO){if(i.type!=="paren"){b({type:"text",value:f});continue}i=s.pop(),b({type:"text",value:f}),i=s[s.length-1];continue}if(f===vO||f===PO||f===bO){let T=f,$;for(t.keepQuotes!==!0&&(f="");l<d&&($=g());){if($===Nl){f+=$+g();continue}if($===T){t.keepQuotes===!0&&(f+=$);break}f+=$}b({type:"text",value:f});continue}if(f===TO){m++;let $={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||i.dollar===!0,depth:m,commas:0,ranges:0,nodes:[]};i=b($),s.push(i),b({type:"open",value:f});continue}if(f===NO){if(i.type!=="brace"){b({type:"text",value:f});continue}let T="close";i=s.pop(),i.close=!0,b({type:T,value:f}),m--,i=s[s.length-1];continue}if(f===_O&&m>0){if(i.ranges>0){i.ranges=0;let T=i.nodes.shift();i.nodes=[T,{type:"text",value:SO(i)}]}b({type:"comma",value:f}),i.commas++;continue}if(f===AO&&m>0&&i.commas===0){let T=i.nodes;if(m===0||T.length===0){b({type:"text",value:f});continue}if(a.type==="dot"){if(i.range=[],a.value+=f,a.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,a.type="text";continue}i.ranges++,i.args=[];continue}if(a.type==="range"){T.pop();let $=T[T.length-1];$.value+=a.value+f,a=$,i.ranges--;continue}b({type:"dot",value:f});continue}b({type:"text",value:f})}do if(i=s.pop(),i.type!=="root"){i.nodes.forEach(ie=>{ie.nodes||(ie.type==="open"&&(ie.isOpen=!0),ie.type==="close"&&(ie.isClose=!0),ie.nodes||(ie.type="text"),ie.invalid=!0)});let T=s[s.length-1],$=T.nodes.indexOf(i);T.nodes.splice($,1,...i.nodes)}while(s.length>0);return b({type:"eos"}),o};Ew.exports=DO});var bw=R((cX,Sw)=>{"use strict";var ww=ba(),BO=lw(),MO=mw(),FO=Cw(),yt=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let o=yt.create(n,t);Array.isArray(o)?r.push(...o):r.push(o)}else r=[].concat(yt.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};yt.parse=(e,t={})=>FO(e,t);yt.stringify=(e,t={})=>ww(typeof e=="string"?yt.parse(e,t):e,t);yt.compile=(e,t={})=>(typeof e=="string"&&(e=yt.parse(e,t)),BO(e,t));yt.expand=(e,t={})=>{typeof e=="string"&&(e=yt.parse(e,t));let r=MO(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};yt.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?yt.compile(e,t):yt.expand(e,t);Sw.exports=yt});var Ls=R((dX,Tw)=>{"use strict";var LO=G("path"),sr="\\\\/",_w=`[^${sr}]`,wr="\\.",$O="\\+",UO="\\?",Aa="\\/",zO="(?=.)",Aw="[^/]",vl=`(?:${Aa}|$)`,Rw=`(?:^|${Aa})`,Pl=`${wr}{1,2}${vl}`,qO=`(?!${wr})`,jO=`(?!${Rw}${Pl})`,HO=`(?!${wr}{0,1}${vl})`,GO=`(?!${Pl})`,KO=`[^.${Aa}]`,VO=`${Aw}*?`,kw={DOT_LITERAL:wr,PLUS_LITERAL:$O,QMARK_LITERAL:UO,SLASH_LITERAL:Aa,ONE_CHAR:zO,QMARK:Aw,END_ANCHOR:vl,DOTS_SLASH:Pl,NO_DOT:qO,NO_DOTS:jO,NO_DOT_SLASH:HO,NO_DOTS_SLASH:GO,QMARK_NO_DOT:KO,STAR:VO,START_ANCHOR:Rw},WO={...kw,SLASH_LITERAL:`[${sr}]`,QMARK:_w,STAR:`${_w}*?`,DOTS_SLASH:`${wr}{1,2}(?:[${sr}]|$)`,NO_DOT:`(?!${wr})`,NO_DOTS:`(?!(?:^|[${sr}])${wr}{1,2}(?:[${sr}]|$))`,NO_DOT_SLASH:`(?!${wr}{0,1}(?:[${sr}]|$))`,NO_DOTS_SLASH:`(?!${wr}{1,2}(?:[${sr}]|$))`,QMARK_NO_DOT:`[^.${sr}]`,START_ANCHOR:`(?:^|[${sr}])`,END_ANCHOR:`(?:[${sr}]|$)`},YO={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Tw.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:YO,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:LO.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?WO:kw}}});var $s=R(mt=>{"use strict";var QO=G("path"),XO=process.platform==="win32",{REGEX_BACKSLASH:JO,REGEX_REMOVE_BACKSLASH:ZO,REGEX_SPECIAL_CHARS:eI,REGEX_SPECIAL_CHARS_GLOBAL:tI}=Ls();mt.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);mt.hasRegexChars=e=>eI.test(e);mt.isRegexChar=e=>e.length===1&&mt.hasRegexChars(e);mt.escapeRegex=e=>e.replace(tI,"\\$1");mt.toPosixSlashes=e=>e.replace(JO,"/");mt.removeBackslashes=e=>e.replace(ZO,t=>t==="\\"?"":t);mt.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};mt.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:XO===!0||QO.sep==="\\";mt.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?mt.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};mt.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};mt.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",o=r.contains?"":"$",s=`${n}(?:${e})${o}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Mw=R((uX,Bw)=>{"use strict";var Nw=$s(),{CHAR_ASTERISK:Ol,CHAR_AT:rI,CHAR_BACKWARD_SLASH:Us,CHAR_COMMA:nI,CHAR_DOT:Il,CHAR_EXCLAMATION_MARK:Dl,CHAR_FORWARD_SLASH:Dw,CHAR_LEFT_CURLY_BRACE:Bl,CHAR_LEFT_PARENTHESES:Ml,CHAR_LEFT_SQUARE_BRACKET:oI,CHAR_PLUS:sI,CHAR_QUESTION_MARK:vw,CHAR_RIGHT_CURLY_BRACE:iI,CHAR_RIGHT_PARENTHESES:Pw,CHAR_RIGHT_SQUARE_BRACKET:aI}=Ls(),Ow=e=>e===Dw||e===Us,Iw=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},cI=(e,t)=>{let r=t||{},n=e.length-1,o=r.parts===!0||r.scanToEnd===!0,s=[],i=[],a=[],c=e,d=-1,l=0,m=0,f=!1,C=!1,g=!1,b=!1,T=!1,$=!1,ie=!1,ee=!1,Oe=!1,X=!1,xe=0,Z,V,me={value:"",depth:0,isGlob:!1},qe=()=>d>=n,k=()=>c.charCodeAt(d+1),_e=()=>(Z=V,c.charCodeAt(++d));for(;d<n;){V=_e();let tt;if(V===Us){ie=me.backslashes=!0,V=_e(),V===Bl&&($=!0);continue}if($===!0||V===Bl){for(xe++;qe()!==!0&&(V=_e());){if(V===Us){ie=me.backslashes=!0,_e();continue}if(V===Bl){xe++;continue}if($!==!0&&V===Il&&(V=_e())===Il){if(f=me.isBrace=!0,g=me.isGlob=!0,X=!0,o===!0)continue;break}if($!==!0&&V===nI){if(f=me.isBrace=!0,g=me.isGlob=!0,X=!0,o===!0)continue;break}if(V===iI&&(xe--,xe===0)){$=!1,f=me.isBrace=!0,X=!0;break}}if(o===!0)continue;break}if(V===Dw){if(s.push(d),i.push(me),me={value:"",depth:0,isGlob:!1},X===!0)continue;if(Z===Il&&d===l+1){l+=2;continue}m=d+1;continue}if(r.noext!==!0&&(V===sI||V===rI||V===Ol||V===vw||V===Dl)===!0&&k()===Ml){if(g=me.isGlob=!0,b=me.isExtglob=!0,X=!0,V===Dl&&d===l&&(Oe=!0),o===!0){for(;qe()!==!0&&(V=_e());){if(V===Us){ie=me.backslashes=!0,V=_e();continue}if(V===Pw){g=me.isGlob=!0,X=!0;break}}continue}break}if(V===Ol){if(Z===Ol&&(T=me.isGlobstar=!0),g=me.isGlob=!0,X=!0,o===!0)continue;break}if(V===vw){if(g=me.isGlob=!0,X=!0,o===!0)continue;break}if(V===oI){for(;qe()!==!0&&(tt=_e());){if(tt===Us){ie=me.backslashes=!0,_e();continue}if(tt===aI){C=me.isBracket=!0,g=me.isGlob=!0,X=!0;break}}if(o===!0)continue;break}if(r.nonegate!==!0&&V===Dl&&d===l){ee=me.negated=!0,l++;continue}if(r.noparen!==!0&&V===Ml){if(g=me.isGlob=!0,o===!0){for(;qe()!==!0&&(V=_e());){if(V===Ml){ie=me.backslashes=!0,V=_e();continue}if(V===Pw){X=!0;break}}continue}break}if(g===!0){if(X=!0,o===!0)continue;break}}r.noext===!0&&(b=!1,g=!1);let Ce=c,Ar="",_="";l>0&&(Ar=c.slice(0,l),c=c.slice(l),m-=l),Ce&&g===!0&&m>0?(Ce=c.slice(0,m),_=c.slice(m)):g===!0?(Ce="",_=c):Ce=c,Ce&&Ce!==""&&Ce!=="/"&&Ce!==c&&Ow(Ce.charCodeAt(Ce.length-1))&&(Ce=Ce.slice(0,-1)),r.unescape===!0&&(_&&(_=Nw.removeBackslashes(_)),Ce&&ie===!0&&(Ce=Nw.removeBackslashes(Ce)));let A={prefix:Ar,input:e,start:l,base:Ce,glob:_,isBrace:f,isBracket:C,isGlob:g,isExtglob:b,isGlobstar:T,negated:ee,negatedExtglob:Oe};if(r.tokens===!0&&(A.maxDepth=0,Ow(V)||i.push(me),A.tokens=i),r.parts===!0||r.tokens===!0){let tt;for(let ce=0;ce<s.length;ce++){let Mt=tt?tt+1:l,Ft=s[ce],ht=e.slice(Mt,Ft);r.tokens&&(ce===0&&l!==0?(i[ce].isPrefix=!0,i[ce].value=Ar):i[ce].value=ht,Iw(i[ce]),A.maxDepth+=i[ce].depth),(ce!==0||ht!=="")&&a.push(ht),tt=Ft}if(tt&&tt+1<e.length){let ce=e.slice(tt+1);a.push(ce),r.tokens&&(i[i.length-1].value=ce,Iw(i[i.length-1]),A.maxDepth+=i[i.length-1].depth)}A.slashes=s,A.parts=a}return A};Bw.exports=cI});var $w=R((fX,Lw)=>{"use strict";var Ra=Ls(),gt=$s(),{MAX_LENGTH:ka,POSIX_REGEX_SOURCE:dI,REGEX_NON_SPECIAL_CHARS:lI,REGEX_SPECIAL_CHARS_BACKREF:uI,REPLACEMENTS:Fw}=Ra,fI=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(o=>gt.escapeRegex(o)).join("..")}return r},Uo=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Fl=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Fw[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(ka,r.maxLength):ka,o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},i=[s],a=r.capture?"":"?:",c=gt.isWindows(t),d=Ra.globChars(c),l=Ra.extglobChars(d),{DOT_LITERAL:m,PLUS_LITERAL:f,SLASH_LITERAL:C,ONE_CHAR:g,DOTS_SLASH:b,NO_DOT:T,NO_DOT_SLASH:$,NO_DOTS_SLASH:ie,QMARK:ee,QMARK_NO_DOT:Oe,STAR:X,START_ANCHOR:xe}=d,Z=B=>`(${a}(?:(?!${xe}${B.dot?b:m}).)*?)`,V=r.dot?"":T,me=r.dot?ee:Oe,qe=r.bash===!0?Z(r):X;r.capture&&(qe=`(${qe})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let k={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=gt.removePrefix(e,k),o=e.length;let _e=[],Ce=[],Ar=[],_=s,A,tt=()=>k.index===o-1,ce=k.peek=(B=1)=>e[k.index+B],Mt=k.advance=()=>e[++k.index]||"",Ft=()=>e.slice(k.index+1),ht=(B="",we=0)=>{k.consumed+=B,k.index+=we},Hs=B=>{k.output+=B.output!=null?B.output:B.value,ht(B.value)},Qb=()=>{let B=1;for(;ce()==="!"&&(ce(2)!=="("||ce(3)==="?");)Mt(),k.start++,B++;return B%2===0?!1:(k.negated=!0,k.start++,!0)},Gs=B=>{k[B]++,Ar.push(B)},Cn=B=>{k[B]--,Ar.pop()},re=B=>{if(_.type==="globstar"){let we=k.braces>0&&(B.type==="comma"||B.type==="brace"),v=B.extglob===!0||_e.length&&(B.type==="pipe"||B.type==="paren");B.type!=="slash"&&B.type!=="paren"&&!we&&!v&&(k.output=k.output.slice(0,-_.output.length),_.type="star",_.value="*",_.output=qe,k.output+=_.output)}if(_e.length&&B.type!=="paren"&&(_e[_e.length-1].inner+=B.value),(B.value||B.output)&&Hs(B),_&&_.type==="text"&&B.type==="text"){_.value+=B.value,_.output=(_.output||"")+B.value;return}B.prev=_,i.push(B),_=B},Ks=(B,we)=>{let v={...l[we],conditions:1,inner:""};v.prev=_,v.parens=k.parens,v.output=k.output;let te=(r.capture?"(":"")+v.open;Gs("parens"),re({type:B,value:we,output:k.output?"":g}),re({type:"paren",extglob:!0,value:Mt(),output:te}),_e.push(v)},Xb=B=>{let we=B.close+(r.capture?")":""),v;if(B.type==="negate"){let te=qe;if(B.inner&&B.inner.length>1&&B.inner.includes("/")&&(te=Z(r)),(te!==qe||tt()||/^\)+$/.test(Ft()))&&(we=B.close=`)$))${te}`),B.inner.includes("*")&&(v=Ft())&&/^\.[^\\/.]+$/.test(v)){let Te=Fl(v,{...t,fastpaths:!1}).output;we=B.close=`)${Te})${te})`}B.prev.type==="bos"&&(k.negatedExtglob=!0)}re({type:"paren",extglob:!0,value:A,output:we}),Cn("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let B=!1,we=e.replace(uI,(v,te,Te,rt,Fe,Ja)=>rt==="\\"?(B=!0,v):rt==="?"?te?te+rt+(Fe?ee.repeat(Fe.length):""):Ja===0?me+(Fe?ee.repeat(Fe.length):""):ee.repeat(Te.length):rt==="."?m.repeat(Te.length):rt==="*"?te?te+rt+(Fe?qe:""):qe:te?v:`\\${v}`);return B===!0&&(r.unescape===!0?we=we.replace(/\\/g,""):we=we.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),we===e&&r.contains===!0?(k.output=e,k):(k.output=gt.wrapOutput(we,k,t),k)}for(;!tt();){if(A=Mt(),A==="\0")continue;if(A==="\\"){let v=ce();if(v==="/"&&r.bash!==!0||v==="."||v===";")continue;if(!v){A+="\\",re({type:"text",value:A});continue}let te=/^\\+/.exec(Ft()),Te=0;if(te&&te[0].length>2&&(Te=te[0].length,k.index+=Te,Te%2!==0&&(A+="\\")),r.unescape===!0?A=Mt():A+=Mt(),k.brackets===0){re({type:"text",value:A});continue}}if(k.brackets>0&&(A!=="]"||_.value==="["||_.value==="[^")){if(r.posix!==!1&&A===":"){let v=_.value.slice(1);if(v.includes("[")&&(_.posix=!0,v.includes(":"))){let te=_.value.lastIndexOf("["),Te=_.value.slice(0,te),rt=_.value.slice(te+2),Fe=dI[rt];if(Fe){_.value=Te+Fe,k.backtrack=!0,Mt(),!s.output&&i.indexOf(_)===1&&(s.output=g);continue}}}(A==="["&&ce()!==":"||A==="-"&&ce()==="]")&&(A=`\\${A}`),A==="]"&&(_.value==="["||_.value==="[^")&&(A=`\\${A}`),r.posix===!0&&A==="!"&&_.value==="["&&(A="^"),_.value+=A,Hs({value:A});continue}if(k.quotes===1&&A!=='"'){A=gt.escapeRegex(A),_.value+=A,Hs({value:A});continue}if(A==='"'){k.quotes=k.quotes===1?0:1,r.keepQuotes===!0&&re({type:"text",value:A});continue}if(A==="("){Gs("parens"),re({type:"paren",value:A});continue}if(A===")"){if(k.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Uo("opening","("));let v=_e[_e.length-1];if(v&&k.parens===v.parens+1){Xb(_e.pop());continue}re({type:"paren",value:A,output:k.parens?")":"\\)"}),Cn("parens");continue}if(A==="["){if(r.nobracket===!0||!Ft().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Uo("closing","]"));A=`\\${A}`}else Gs("brackets");re({type:"bracket",value:A});continue}if(A==="]"){if(r.nobracket===!0||_&&_.type==="bracket"&&_.value.length===1){re({type:"text",value:A,output:`\\${A}`});continue}if(k.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Uo("opening","["));re({type:"text",value:A,output:`\\${A}`});continue}Cn("brackets");let v=_.value.slice(1);if(_.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(A=`/${A}`),_.value+=A,Hs({value:A}),r.literalBrackets===!1||gt.hasRegexChars(v))continue;let te=gt.escapeRegex(_.value);if(k.output=k.output.slice(0,-_.value.length),r.literalBrackets===!0){k.output+=te,_.value=te;continue}_.value=`(${a}${te}|${_.value})`,k.output+=_.value;continue}if(A==="{"&&r.nobrace!==!0){Gs("braces");let v={type:"brace",value:A,output:"(",outputIndex:k.output.length,tokensIndex:k.tokens.length};Ce.push(v),re(v);continue}if(A==="}"){let v=Ce[Ce.length-1];if(r.nobrace===!0||!v){re({type:"text",value:A,output:A});continue}let te=")";if(v.dots===!0){let Te=i.slice(),rt=[];for(let Fe=Te.length-1;Fe>=0&&(i.pop(),Te[Fe].type!=="brace");Fe--)Te[Fe].type!=="dots"&&rt.unshift(Te[Fe].value);te=fI(rt,r),k.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){let Te=k.output.slice(0,v.outputIndex),rt=k.tokens.slice(v.tokensIndex);v.value=v.output="\\{",A=te="\\}",k.output=Te;for(let Fe of rt)k.output+=Fe.output||Fe.value}re({type:"brace",value:A,output:te}),Cn("braces"),Ce.pop();continue}if(A==="|"){_e.length>0&&_e[_e.length-1].conditions++,re({type:"text",value:A});continue}if(A===","){let v=A,te=Ce[Ce.length-1];te&&Ar[Ar.length-1]==="braces"&&(te.comma=!0,v="|"),re({type:"comma",value:A,output:v});continue}if(A==="/"){if(_.type==="dot"&&k.index===k.start+1){k.start=k.index+1,k.consumed="",k.output="",i.pop(),_=s;continue}re({type:"slash",value:A,output:C});continue}if(A==="."){if(k.braces>0&&_.type==="dot"){_.value==="."&&(_.output=m);let v=Ce[Ce.length-1];_.type="dots",_.output+=A,_.value+=A,v.dots=!0;continue}if(k.braces+k.parens===0&&_.type!=="bos"&&_.type!=="slash"){re({type:"text",value:A,output:m});continue}re({type:"dot",value:A,output:m});continue}if(A==="?"){if(!(_&&_.value==="(")&&r.noextglob!==!0&&ce()==="("&&ce(2)!=="?"){Ks("qmark",A);continue}if(_&&_.type==="paren"){let te=ce(),Te=A;if(te==="<"&&!gt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(_.value==="("&&!/[!=<:]/.test(te)||te==="<"&&!/<([!=]|\w+>)/.test(Ft()))&&(Te=`\\${A}`),re({type:"text",value:A,output:Te});continue}if(r.dot!==!0&&(_.type==="slash"||_.type==="bos")){re({type:"qmark",value:A,output:Oe});continue}re({type:"qmark",value:A,output:ee});continue}if(A==="!"){if(r.noextglob!==!0&&ce()==="("&&(ce(2)!=="?"||!/[!=<:]/.test(ce(3)))){Ks("negate",A);continue}if(r.nonegate!==!0&&k.index===0){Qb();continue}}if(A==="+"){if(r.noextglob!==!0&&ce()==="("&&ce(2)!=="?"){Ks("plus",A);continue}if(_&&_.value==="("||r.regex===!1){re({type:"plus",value:A,output:f});continue}if(_&&(_.type==="bracket"||_.type==="paren"||_.type==="brace")||k.parens>0){re({type:"plus",value:A});continue}re({type:"plus",value:f});continue}if(A==="@"){if(r.noextglob!==!0&&ce()==="("&&ce(2)!=="?"){re({type:"at",extglob:!0,value:A,output:""});continue}re({type:"text",value:A});continue}if(A!=="*"){(A==="$"||A==="^")&&(A=`\\${A}`);let v=lI.exec(Ft());v&&(A+=v[0],k.index+=v[0].length),re({type:"text",value:A});continue}if(_&&(_.type==="globstar"||_.star===!0)){_.type="star",_.star=!0,_.value+=A,_.output=qe,k.backtrack=!0,k.globstar=!0,ht(A);continue}let B=Ft();if(r.noextglob!==!0&&/^\([^?]/.test(B)){Ks("star",A);continue}if(_.type==="star"){if(r.noglobstar===!0){ht(A);continue}let v=_.prev,te=v.prev,Te=v.type==="slash"||v.type==="bos",rt=te&&(te.type==="star"||te.type==="globstar");if(r.bash===!0&&(!Te||B[0]&&B[0]!=="/")){re({type:"star",value:A,output:""});continue}let Fe=k.braces>0&&(v.type==="comma"||v.type==="brace"),Ja=_e.length&&(v.type==="pipe"||v.type==="paren");if(!Te&&v.type!=="paren"&&!Fe&&!Ja){re({type:"star",value:A,output:""});continue}for(;B.slice(0,3)==="/**";){let Vs=e[k.index+4];if(Vs&&Vs!=="/")break;B=B.slice(3),ht("/**",3)}if(v.type==="bos"&&tt()){_.type="globstar",_.value+=A,_.output=Z(r),k.output=_.output,k.globstar=!0,ht(A);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!rt&&tt()){k.output=k.output.slice(0,-(v.output+_.output).length),v.output=`(?:${v.output}`,_.type="globstar",_.output=Z(r)+(r.strictSlashes?")":"|$)"),_.value+=A,k.globstar=!0,k.output+=v.output+_.output,ht(A);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&B[0]==="/"){let Vs=B[1]!==void 0?"|$":"";k.output=k.output.slice(0,-(v.output+_.output).length),v.output=`(?:${v.output}`,_.type="globstar",_.output=`${Z(r)}${C}|${C}${Vs})`,_.value+=A,k.output+=v.output+_.output,k.globstar=!0,ht(A+Mt()),re({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&B[0]==="/"){_.type="globstar",_.value+=A,_.output=`(?:^|${C}|${Z(r)}${C})`,k.output=_.output,k.globstar=!0,ht(A+Mt()),re({type:"slash",value:"/",output:""});continue}k.output=k.output.slice(0,-_.output.length),_.type="globstar",_.output=Z(r),_.value+=A,k.output+=_.output,k.globstar=!0,ht(A);continue}let we={type:"star",value:A,output:qe};if(r.bash===!0){we.output=".*?",(_.type==="bos"||_.type==="slash")&&(we.output=V+we.output),re(we);continue}if(_&&(_.type==="bracket"||_.type==="paren")&&r.regex===!0){we.output=A,re(we);continue}(k.index===k.start||_.type==="slash"||_.type==="dot")&&(_.type==="dot"?(k.output+=$,_.output+=$):r.dot===!0?(k.output+=ie,_.output+=ie):(k.output+=V,_.output+=V),ce()!=="*"&&(k.output+=g,_.output+=g)),re(we)}for(;k.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Uo("closing","]"));k.output=gt.escapeLast(k.output,"["),Cn("brackets")}for(;k.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Uo("closing",")"));k.output=gt.escapeLast(k.output,"("),Cn("parens")}for(;k.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Uo("closing","}"));k.output=gt.escapeLast(k.output,"{"),Cn("braces")}if(r.strictSlashes!==!0&&(_.type==="star"||_.type==="bracket")&&re({type:"maybe_slash",value:"",output:`${C}?`}),k.backtrack===!0){k.output="";for(let B of k.tokens)k.output+=B.output!=null?B.output:B.value,B.suffix&&(k.output+=B.suffix)}return k};Fl.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(ka,r.maxLength):ka,o=e.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);e=Fw[e]||e;let s=gt.isWindows(t),{DOT_LITERAL:i,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:d,NO_DOT:l,NO_DOTS:m,NO_DOTS_SLASH:f,STAR:C,START_ANCHOR:g}=Ra.globChars(s),b=r.dot?m:l,T=r.dot?f:l,$=r.capture?"":"?:",ie={negated:!1,prefix:""},ee=r.bash===!0?".*?":C;r.capture&&(ee=`(${ee})`);let Oe=V=>V.noglobstar===!0?ee:`(${$}(?:(?!${g}${V.dot?d:i}).)*?)`,X=V=>{switch(V){case"*":return`${b}${c}${ee}`;case".*":return`${i}${c}${ee}`;case"*.*":return`${b}${ee}${i}${c}${ee}`;case"*/*":return`${b}${ee}${a}${c}${T}${ee}`;case"**":return b+Oe(r);case"**/*":return`(?:${b}${Oe(r)}${a})?${T}${c}${ee}`;case"**/*.*":return`(?:${b}${Oe(r)}${a})?${T}${ee}${i}${c}${ee}`;case"**/.*":return`(?:${b}${Oe(r)}${a})?${i}${c}${ee}`;default:{let me=/^(.*?)\.(\w+)$/.exec(V);if(!me)return;let qe=X(me[1]);return qe?qe+i+me[2]:void 0}}},xe=gt.removePrefix(e,ie),Z=X(xe);return Z&&r.strictSlashes!==!0&&(Z+=`${a}?`),Z};Lw.exports=Fl});var zw=R((mX,Uw)=>{"use strict";var mI=G("path"),hI=Mw(),Ll=$w(),$l=$s(),pI=Ls(),yI=e=>e&&typeof e=="object"&&!Array.isArray(e),Pe=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(f=>Pe(f,t,r));return f=>{for(let C of l){let g=C(f);if(g)return g}return!1}}let n=yI(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let o=t||{},s=$l.isWindows(t),i=n?Pe.compileRe(e,t):Pe.makeRe(e,t,!1,!0),a=i.state;delete i.state;let c=()=>!1;if(o.ignore){let l={...t,ignore:null,onMatch:null,onResult:null};c=Pe(o.ignore,l,r)}let d=(l,m=!1)=>{let{isMatch:f,match:C,output:g}=Pe.test(l,i,t,{glob:e,posix:s}),b={glob:e,state:a,regex:i,posix:s,input:l,output:g,match:C,isMatch:f};return typeof o.onResult=="function"&&o.onResult(b),f===!1?(b.isMatch=!1,m?b:!1):c(l)?(typeof o.onIgnore=="function"&&o.onIgnore(b),b.isMatch=!1,m?b:!1):(typeof o.onMatch=="function"&&o.onMatch(b),m?b:!0)};return r&&(d.state=a),d};Pe.test=(e,t,r,{glob:n,posix:o}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},i=s.format||(o?$l.toPosixSlashes:null),a=e===n,c=a&&i?i(e):e;return a===!1&&(c=i?i(e):e,a=c===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=Pe.matchBase(e,t,r,o):a=t.exec(c)),{isMatch:!!a,match:a,output:c}};Pe.matchBase=(e,t,r,n=$l.isWindows(r))=>(t instanceof RegExp?t:Pe.makeRe(t,r)).test(mI.basename(e));Pe.isMatch=(e,t,r)=>Pe(t,r)(e);Pe.parse=(e,t)=>Array.isArray(e)?e.map(r=>Pe.parse(r,t)):Ll(e,{...t,fastpaths:!1});Pe.scan=(e,t)=>hI(e,t);Pe.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let o=t||{},s=o.contains?"":"^",i=o.contains?"":"$",a=`${s}(?:${e.output})${i}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let c=Pe.toRegex(a,t);return n===!0&&(c.state=e),c};Pe.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(o.output=Ll.fastpaths(e,t)),o.output||(o=Ll(e,t)),Pe.compileRe(o,t,r,n)};Pe.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Pe.constants=pI;Uw.exports=Pe});var jw=R((hX,qw)=>{"use strict";qw.exports=zw()});var Ww=R((pX,Vw)=>{"use strict";var Gw=G("util"),Kw=bw(),ir=jw(),Ul=$s(),Hw=e=>e===""||e==="./",ke=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,o=new Set,s=new Set,i=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let m=ir(String(t[l]),{...r,onResult:a},!0),f=m.state.negated||m.state.negatedExtglob;f&&i++;for(let C of e){let g=m(C,!0);(f?!g.isMatch:g.isMatch)&&(f?n.add(g.output):(n.delete(g.output),o.add(g.output)))}}let d=(i===t.length?[...s]:[...o]).filter(l=>!n.has(l));if(r&&d.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return d};ke.match=ke;ke.matcher=(e,t)=>ir(e,t);ke.isMatch=(e,t,r)=>ir(t,r)(e);ke.any=ke.isMatch;ke.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,o=[],s=a=>{r.onResult&&r.onResult(a),o.push(a.output)},i=new Set(ke(e,t,{...r,onResult:s}));for(let a of o)i.has(a)||n.add(a);return[...n]};ke.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Gw.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ke.contains(e,n,r));if(typeof t=="string"){if(Hw(e)||Hw(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ke.isMatch(e,t,{...r,contains:!0})};ke.matchKeys=(e,t,r)=>{if(!Ul.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ke(Object.keys(e),t,r),o={};for(let s of n)o[s]=e[s];return o};ke.some=(e,t,r)=>{let n=[].concat(e);for(let o of[].concat(t)){let s=ir(String(o),r);if(n.some(i=>s(i)))return!0}return!1};ke.every=(e,t,r)=>{let n=[].concat(e);for(let o of[].concat(t)){let s=ir(String(o),r);if(!n.every(i=>s(i)))return!1}return!0};ke.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Gw.inspect(e)}"`);return[].concat(t).every(n=>ir(n,r)(e))};ke.capture=(e,t,r)=>{let n=Ul.isWindows(r),s=ir.makeRe(String(e),{...r,capture:!0}).exec(n?Ul.toPosixSlashes(t):t);if(s)return s.slice(1).map(i=>i===void 0?"":i)};ke.makeRe=(...e)=>ir.makeRe(...e);ke.scan=(...e)=>ir.scan(...e);ke.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let o of Kw(String(n),t))r.push(ir.parse(o,t));return r};ke.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:Kw(e,t)};ke.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ke.braces(e,{...t,expand:!0})};Vw.exports=ke});var rS=R(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.matchAny=Q.convertPatternsToRe=Q.makeRe=Q.getPatternParts=Q.expandBraceExpansion=Q.expandPatternsWithBraceExpansion=Q.isAffectDepthOfReadingPattern=Q.endsWithSlashGlobStar=Q.hasGlobStar=Q.getBaseDirectory=Q.isPatternRelatedToParentDirectory=Q.getPatternsOutsideCurrentDirectory=Q.getPatternsInsideCurrentDirectory=Q.getPositivePatterns=Q.getNegativePatterns=Q.isPositivePattern=Q.isNegativePattern=Q.convertToNegativePattern=Q.convertToPositivePattern=Q.isDynamicPattern=Q.isStaticPattern=void 0;var gI=G("path"),xI=UC(),zl=Ww(),Yw="**",EI="\\",CI=/[*?]|^!/,wI=/\[[^[]*]/,SI=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,bI=/[!*+?@]\([^(]*\)/,_I=/,|\.\./;function Qw(e,t={}){return!Xw(e,t)}Q.isStaticPattern=Qw;function Xw(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(EI)||CI.test(e)||wI.test(e)||SI.test(e)||t.extglob!==!1&&bI.test(e)||t.braceExpansion!==!1&&AI(e))}Q.isDynamicPattern=Xw;function AI(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return _I.test(n)}function RI(e){return Ta(e)?e.slice(1):e}Q.convertToPositivePattern=RI;function kI(e){return"!"+e}Q.convertToNegativePattern=kI;function Ta(e){return e.startsWith("!")&&e[1]!=="("}Q.isNegativePattern=Ta;function Jw(e){return!Ta(e)}Q.isPositivePattern=Jw;function TI(e){return e.filter(Ta)}Q.getNegativePatterns=TI;function NI(e){return e.filter(Jw)}Q.getPositivePatterns=NI;function vI(e){return e.filter(t=>!ql(t))}Q.getPatternsInsideCurrentDirectory=vI;function PI(e){return e.filter(ql)}Q.getPatternsOutsideCurrentDirectory=PI;function ql(e){return e.startsWith("..")||e.startsWith("./..")}Q.isPatternRelatedToParentDirectory=ql;function OI(e){return xI(e,{flipBackslashes:!1})}Q.getBaseDirectory=OI;function II(e){return e.includes(Yw)}Q.hasGlobStar=II;function Zw(e){return e.endsWith("/"+Yw)}Q.endsWithSlashGlobStar=Zw;function DI(e){let t=gI.basename(e);return Zw(e)||Qw(t)}Q.isAffectDepthOfReadingPattern=DI;function BI(e){return e.reduce((t,r)=>t.concat(eS(r)),[])}Q.expandPatternsWithBraceExpansion=BI;function eS(e){return zl.braces(e,{expand:!0,nodupes:!0})}Q.expandBraceExpansion=eS;function MI(e,t){let{parts:r}=zl.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}Q.getPatternParts=MI;function tS(e,t){return zl.makeRe(e,t)}Q.makeRe=tS;function FI(e,t){return e.map(r=>tS(r,t))}Q.convertPatternsToRe=FI;function LI(e,t){return t.some(r=>r.test(e))}Q.matchAny=LI});var oS=R(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.merge=void 0;var $I=Sl();function UI(e){let t=$I(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>nS(e)),t.once("end",()=>nS(e)),t}Na.merge=UI;function nS(e){e.forEach(t=>t.emit("close"))}});var sS=R(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.isEmpty=zo.isString=void 0;function zI(e){return typeof e=="string"}zo.isString=zI;function qI(e){return e===""}zo.isEmpty=qI});var Sr=R(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.string=Je.stream=Je.pattern=Je.path=Je.fs=Je.errno=Je.array=void 0;var jI=vC();Je.array=jI;var HI=PC();Je.errno=HI;var GI=OC();Je.fs=GI;var KI=IC();Je.path=KI;var VI=rS();Je.pattern=VI;var WI=oS();Je.stream=WI;var YI=sS();Je.string=YI});var cS=R(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.convertPatternGroupToTask=Ze.convertPatternGroupsToTasks=Ze.groupPatternsByBaseDirectory=Ze.getNegativePatternsAsPositive=Ze.getPositivePatterns=Ze.convertPatternsToTasks=Ze.generate=void 0;var br=Sr();function QI(e,t){let r=iS(e),n=aS(e,t.ignore),o=r.filter(c=>br.pattern.isStaticPattern(c,t)),s=r.filter(c=>br.pattern.isDynamicPattern(c,t)),i=jl(o,n,!1),a=jl(s,n,!0);return i.concat(a)}Ze.generate=QI;function jl(e,t,r){let n=[],o=br.pattern.getPatternsOutsideCurrentDirectory(e),s=br.pattern.getPatternsInsideCurrentDirectory(e),i=Hl(o),a=Hl(s);return n.push(...Gl(i,t,r)),"."in a?n.push(Kl(".",s,t,r)):n.push(...Gl(a,t,r)),n}Ze.convertPatternsToTasks=jl;function iS(e){return br.pattern.getPositivePatterns(e)}Ze.getPositivePatterns=iS;function aS(e,t){return br.pattern.getNegativePatterns(e).concat(t).map(br.pattern.convertToPositivePattern)}Ze.getNegativePatternsAsPositive=aS;function Hl(e){let t={};return e.reduce((r,n)=>{let o=br.pattern.getBaseDirectory(n);return o in r?r[o].push(n):r[o]=[n],r},t)}Ze.groupPatternsByBaseDirectory=Hl;function Gl(e,t,r){return Object.keys(e).map(n=>Kl(n,e[n],t,r))}Ze.convertPatternGroupsToTasks=Gl;function Kl(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(br.pattern.convertToNegativePattern))}}Ze.convertPatternGroupToTask=Kl});var lS=R(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.removeDuplicateSlashes=qo.transform=void 0;var XI=/(?!^)\/{2,}/g;function JI(e){return e.map(t=>dS(t))}qo.transform=JI;function dS(e){return e.replace(XI,"/")}qo.removeDuplicateSlashes=dS});var fS=R(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.read=void 0;function ZI(e,t,r){t.fs.lstat(e,(n,o)=>{if(n!==null){uS(r,n);return}if(!o.isSymbolicLink()||!t.followSymbolicLink){Vl(r,o);return}t.fs.stat(e,(s,i)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){uS(r,s);return}Vl(r,o);return}t.markSymbolicLink&&(i.isSymbolicLink=()=>!0),Vl(r,i)})})}va.read=ZI;function uS(e,t){e(t)}function Vl(e,t){e(null,t)}});var mS=R(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.read=void 0;function eD(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Pa.read=eD});var hS=R(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.createFileSystemAdapter=hn.FILE_SYSTEM_ADAPTER=void 0;var Oa=G("fs");hn.FILE_SYSTEM_ADAPTER={lstat:Oa.lstat,stat:Oa.stat,lstatSync:Oa.lstatSync,statSync:Oa.statSync};function tD(e){return e===void 0?hn.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},hn.FILE_SYSTEM_ADAPTER),e)}hn.createFileSystemAdapter=tD});var pS=R(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});var rD=hS(),Wl=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=rD.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};Yl.default=Wl});var Mn=R(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.statSync=pn.stat=pn.Settings=void 0;var yS=fS(),nD=mS(),Ql=pS();pn.Settings=Ql.default;function oD(e,t,r){if(typeof t=="function"){yS.read(e,Xl(),t);return}yS.read(e,Xl(t),r)}pn.stat=oD;function sD(e,t){let r=Xl(t);return nD.read(e,r)}pn.statSync=sD;function Xl(e={}){return e instanceof Ql.default?e:new Ql.default(e)}});var ES=R((kX,xS)=>{var gS;xS.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(gS||(gS=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var wS=R((TX,CS)=>{CS.exports=aD;var iD=ES();function aD(e,t){let r,n,o,s=!0;Array.isArray(e)?(r=[],n=e.length):(o=Object.keys(e),r={},n=o.length);function i(c){function d(){t&&t(c,r),t=null}s?iD(d):d()}function a(c,d,l){r[c]=l,(--n===0||d)&&i(d)}n?o?o.forEach(function(c){e[c](function(d,l){a(c,d,l)})}):e.forEach(function(c,d){c(function(l,m){a(d,l,m)})}):i(null),s=!1}});var Jl=R(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Ia=process.versions.node.split(".");if(Ia[0]===void 0||Ia[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var SS=Number.parseInt(Ia[0],10),cD=Number.parseInt(Ia[1],10),bS=10,dD=10,lD=SS>bS,uD=SS===bS&&cD>=dD;Da.IS_SUPPORT_READDIR_WITH_FILE_TYPES=lD||uD});var _S=R(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.createDirentFromStats=void 0;var Zl=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function fD(e,t){return new Zl(e,t)}Ba.createDirentFromStats=fD});var eu=R(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.fs=void 0;var mD=_S();Ma.fs=mD});var tu=R(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.joinPathSegments=void 0;function hD(e,t,r){return e.endsWith(r)?e+t:e+r+t}Fa.joinPathSegments=hD});var vS=R(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.readdir=yn.readdirWithFileTypes=yn.read=void 0;var pD=Mn(),AS=wS(),yD=Jl(),RS=eu(),kS=tu();function gD(e,t,r){if(!t.stats&&yD.IS_SUPPORT_READDIR_WITH_FILE_TYPES){TS(e,t,r);return}NS(e,t,r)}yn.read=gD;function TS(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,o)=>{if(n!==null){La(r,n);return}let s=o.map(a=>({dirent:a,name:a.name,path:kS.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){ru(r,s);return}let i=s.map(a=>xD(a,t));AS(i,(a,c)=>{if(a!==null){La(r,a);return}ru(r,c)})})}yn.readdirWithFileTypes=TS;function xD(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,o)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=RS.fs.createDirentFromStats(e.name,o),r(null,e)})}}function NS(e,t,r){t.fs.readdir(e,(n,o)=>{if(n!==null){La(r,n);return}let s=o.map(i=>{let a=kS.joinPathSegments(e,i,t.pathSegmentSeparator);return c=>{pD.stat(a,t.fsStatSettings,(d,l)=>{if(d!==null){c(d);return}let m={name:i,path:a,dirent:RS.fs.createDirentFromStats(i,l)};t.stats&&(m.stats=l),c(null,m)})}});AS(s,(i,a)=>{if(i!==null){La(r,i);return}ru(r,a)})})}yn.readdir=NS;function La(e,t){e(t)}function ru(e,t){e(null,t)}});var BS=R(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.readdir=gn.readdirWithFileTypes=gn.read=void 0;var ED=Mn(),CD=Jl(),PS=eu(),OS=tu();function wD(e,t){return!t.stats&&CD.IS_SUPPORT_READDIR_WITH_FILE_TYPES?IS(e,t):DS(e,t)}gn.read=wD;function IS(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let o={dirent:n,name:n.name,path:OS.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(o.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(o.path);o.dirent=PS.fs.createDirentFromStats(o.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return o})}gn.readdirWithFileTypes=IS;function DS(e,t){return t.fs.readdirSync(e).map(n=>{let o=OS.joinPathSegments(e,n,t.pathSegmentSeparator),s=ED.statSync(o,t.fsStatSettings),i={name:n,path:o,dirent:PS.fs.createDirentFromStats(n,s)};return t.stats&&(i.stats=s),i})}gn.readdir=DS});var MS=R(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.createFileSystemAdapter=xn.FILE_SYSTEM_ADAPTER=void 0;var jo=G("fs");xn.FILE_SYSTEM_ADAPTER={lstat:jo.lstat,stat:jo.stat,lstatSync:jo.lstatSync,statSync:jo.statSync,readdir:jo.readdir,readdirSync:jo.readdirSync};function SD(e){return e===void 0?xn.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},xn.FILE_SYSTEM_ADAPTER),e)}xn.createFileSystemAdapter=SD});var FS=R(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});var bD=G("path"),_D=Mn(),AD=MS(),nu=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=AD.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,bD.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new _D.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};ou.default=nu});var $a=R(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.Settings=En.scandirSync=En.scandir=void 0;var LS=vS(),RD=BS(),su=FS();En.Settings=su.default;function kD(e,t,r){if(typeof t=="function"){LS.read(e,iu(),t);return}LS.read(e,iu(t),r)}En.scandir=kD;function TD(e,t){let r=iu(t);return RD.read(e,r)}En.scandirSync=TD;function iu(e={}){return e instanceof su.default?e:new su.default(e)}});var US=R((LX,$S)=>{"use strict";function ND(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function o(s){r.next=s,r=s}return{get:n,release:o}}$S.exports=ND});var qS=R(($X,au)=>{"use strict";var vD=US();function zS(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=vD(PD),o=null,s=null,i=0,a=null,c={push:b,drain:Pt,saturated:Pt,pause:l,paused:!1,concurrency:r,running:d,resume:C,idle:g,length:m,getQueue:f,unshift:T,empty:Pt,kill:ie,killAndDrain:ee,error:Oe};return c;function d(){return i}function l(){c.paused=!0}function m(){for(var X=o,xe=0;X;)X=X.next,xe++;return xe}function f(){for(var X=o,xe=[];X;)xe.push(X.value),X=X.next;return xe}function C(){if(c.paused){c.paused=!1;for(var X=0;X<c.concurrency;X++)i++,$()}}function g(){return i===0&&c.length()===0}function b(X,xe){var Z=n.get();Z.context=e,Z.release=$,Z.value=X,Z.callback=xe||Pt,Z.errorHandler=a,i===c.concurrency||c.paused?s?(s.next=Z,s=Z):(o=Z,s=Z,c.saturated()):(i++,t.call(e,Z.value,Z.worked))}function T(X,xe){var Z=n.get();Z.context=e,Z.release=$,Z.value=X,Z.callback=xe||Pt,i===c.concurrency||c.paused?o?(Z.next=o,o=Z):(o=Z,s=Z,c.saturated()):(i++,t.call(e,Z.value,Z.worked))}function $(X){X&&n.release(X);var xe=o;xe?c.paused?i--:(s===o&&(s=null),o=xe.next,xe.next=null,t.call(e,xe.value,xe.worked),s===null&&c.empty()):--i===0&&c.drain()}function ie(){o=null,s=null,c.drain=Pt}function ee(){o=null,s=null,c.drain(),c.drain=Pt}function Oe(X){a=X}}function Pt(){}function PD(){this.value=null,this.callback=Pt,this.next=null,this.release=Pt,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var o=e.callback,s=e.errorHandler,i=e.value;e.value=null,e.callback=Pt,e.errorHandler&&s(r,i),o.call(e.context,r,n),e.release(e)}}function OD(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,m){t.call(this,l).then(function(f){m(null,f)},m)}var o=zS(e,n,r),s=o.push,i=o.unshift;return o.push=a,o.unshift=c,o.drained=d,o;function a(l){var m=new Promise(function(f,C){s(l,function(g,b){if(g){C(g);return}f(b)})});return m.catch(Pt),m}function c(l){var m=new Promise(function(f,C){i(l,function(g,b){if(g){C(g);return}f(b)})});return m.catch(Pt),m}function d(){if(o.idle())return new Promise(function(f){f()});var l=o.drain,m=new Promise(function(f){o.drain=function(){l(),f()}});return m}}au.exports=zS;au.exports.promise=OD});var Ua=R(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.joinPathSegments=ar.replacePathSegmentSeparator=ar.isAppliedFilter=ar.isFatalError=void 0;function ID(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}ar.isFatalError=ID;function DD(e,t){return e===null||e(t)}ar.isAppliedFilter=DD;function BD(e,t){return e.split(/[/\\]/).join(t)}ar.replacePathSegmentSeparator=BD;function MD(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}ar.joinPathSegments=MD});var lu=R(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});var FD=Ua(),cu=class{constructor(t,r){this._root=t,this._settings=r,this._root=FD.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};du.default=cu});var mu=R(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});var LD=G("events"),$D=$a(),UD=qS(),za=Ua(),zD=lu(),uu=class extends zD.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=$D.scandir,this._emitter=new LD.EventEmitter,this._queue=UD(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,o=>{o!==null&&this._handleError(o)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,o)=>{if(n!==null){r(n,void 0);return}for(let s of o)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!za.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=za.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),za.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&za.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};fu.default=uu});var jS=R(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});var qD=mu(),hu=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new qD.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{jD(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{HD(t,this._storage)}),this._reader.read()}};pu.default=hu;function jD(e,t){e(t)}function HD(e,t){e(null,t)}});var HS=R(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});var GD=G("stream"),KD=mu(),yu=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new KD.default(this._root,this._settings),this._stream=new GD.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};gu.default=yu});var GS=R(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var VD=$a(),qa=Ua(),WD=lu(),xu=class extends WD.default{constructor(){super(...arguments),this._scandir=VD.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let o of n)this._handleEntry(o,r)}catch(n){this._handleError(n)}}_handleError(t){if(qa.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=qa.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),qa.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&qa.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};Eu.default=xu});var KS=R(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});var YD=GS(),Cu=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new YD.default(this._root,this._settings)}read(){return this._reader.read()}};wu.default=Cu});var VS=R(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});var QD=G("path"),XD=$a(),Su=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,QD.sep),this.fsScandirSettings=new XD.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};bu.default=Su});var Ha=R(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.Settings=cr.walkStream=cr.walkSync=cr.walk=void 0;var WS=jS(),JD=HS(),ZD=KS(),_u=VS();cr.Settings=_u.default;function eB(e,t,r){if(typeof t=="function"){new WS.default(e,ja()).read(t);return}new WS.default(e,ja(t)).read(r)}cr.walk=eB;function tB(e,t){let r=ja(t);return new ZD.default(e,r).read()}cr.walkSync=tB;function rB(e,t){let r=ja(t);return new JD.default(e,r).read()}cr.walkStream=rB;function ja(e={}){return e instanceof _u.default?e:new _u.default(e)}});var Ga=R(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});var nB=G("path"),oB=Mn(),YS=Sr(),Au=class{constructor(t){this._settings=t,this._fsStatSettings=new oB.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return nB.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:YS.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!YS.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Ru.default=Au});var Nu=R(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});var sB=G("stream"),iB=Mn(),aB=Ha(),cB=Ga(),ku=class extends cB.default{constructor(){super(...arguments),this._walkStream=aB.walkStream,this._stat=iB.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),o=new sB.PassThrough({objectMode:!0});o._write=(s,i,a)=>this._getEntry(n[s],t[s],r).then(c=>{c!==null&&r.entryFilter(c)&&o.push(c),s===n.length-1&&o.end(),a()}).catch(a);for(let s=0;s<n.length;s++)o.write(s);return o}_getEntry(t,r,n){return this._getStat(t).then(o=>this._makeEntry(o,r)).catch(o=>{if(n.errorFilter(o))return null;throw o})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(o,s)=>o===null?r(s):n(o))})}};Tu.default=ku});var QS=R(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});var dB=Ha(),lB=Ga(),uB=Nu(),vu=class extends lB.default{constructor(){super(...arguments),this._walkAsync=dB.walk,this._readerStream=new uB.default(this._settings)}dynamic(t,r){return new Promise((n,o)=>{this._walkAsync(t,r,(s,i)=>{s===null?n(i):o(s)})})}async static(t,r){let n=[],o=this._readerStream.static(t,r);return new Promise((s,i)=>{o.once("error",i),o.on("data",a=>n.push(a)),o.once("end",()=>s(n))})}};Pu.default=vu});var XS=R(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});var Ho=Sr(),Ou=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=Ho.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),o=this._splitSegmentsIntoSections(n);this._storage.push({complete:o.length<=1,pattern:r,segments:n,sections:o})}}_getPatternSegments(t){return Ho.pattern.getPatternParts(t,this._micromatchOptions).map(n=>Ho.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Ho.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return Ho.array.splitWhen(t,r=>r.dynamic&&Ho.pattern.hasGlobStar(r.pattern))}};Iu.default=Ou});var JS=R(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});var fB=XS(),Du=class extends fB.default{match(t){let r=t.split("/"),n=r.length,o=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of o){let i=s.sections[0];if(!s.complete&&n>i.length||r.every((c,d)=>{let l=s.segments[d];return!!(l.dynamic&&l.patternRe.test(c)||!l.dynamic&&l.pattern===c)}))return!0}return!1}};Bu.default=Du});var ZS=R(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});var Ka=Sr(),mB=JS(),Mu=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let o=this._getMatcher(r),s=this._getNegativePatternsRe(n);return i=>this._filter(t,i,o,s)}_getMatcher(t){return new mB.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(Ka.pattern.isAffectDepthOfReadingPattern);return Ka.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,o){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=Ka.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,o)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let o=t.split("/").length;return n-o}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!Ka.pattern.matchAny(t,r)}};Fu.default=Mu});var eb=R($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var Fn=Sr(),Lu=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Fn.pattern.convertPatternsToRe(t,this._micromatchOptions),o=Fn.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,o)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let o=this._settings.baseNameMatch?t.name:t.path,s=t.dirent.isDirectory(),i=this._isMatchToPatterns(o,r,s)&&!this._isMatchToPatterns(t.path,n,s);return this._settings.unique&&i&&this._createIndexRecord(t),i}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Fn.path.makeAbsolute(this._settings.cwd,t);return Fn.pattern.matchAny(n,r)}_isMatchToPatterns(t,r,n){let o=Fn.path.removeLeadingDotSegment(t),s=Fn.pattern.matchAny(o,r);return!s&&n?Fn.pattern.matchAny(o+"/",r):s}};$u.default=Lu});var tb=R(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var hB=Sr(),Uu=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return hB.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};zu.default=Uu});var nb=R(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});var rb=Sr(),qu=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=rb.path.makeAbsolute(this._settings.cwd,r),r=rb.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};ju.default=qu});var Va=R(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var pB=G("path"),yB=ZS(),gB=eb(),xB=tb(),EB=nb(),Hu=class{constructor(t){this._settings=t,this.errorFilter=new xB.default(this._settings),this.entryFilter=new gB.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new yB.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new EB.default(this._settings)}_getRootDirectory(t){return pB.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Gu.default=Hu});var ob=R(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});var CB=QS(),wB=Va(),Ku=class extends wB.default{constructor(){super(...arguments),this._reader=new CB.default(this._settings)}async read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return(await this.api(r,t,n)).map(s=>n.transform(s))}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Vu.default=Ku});var sb=R(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});var SB=G("stream"),bB=Nu(),_B=Va(),Wu=class extends _B.default{constructor(){super(...arguments),this._reader=new bB.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),o=this.api(r,t,n),s=new SB.Readable({objectMode:!0,read:()=>{}});return o.once("error",i=>s.emit("error",i)).on("data",i=>s.emit("data",n.transform(i))).once("end",()=>s.emit("end")),s.once("close",()=>o.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Yu.default=Wu});var ib=R(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});var AB=Mn(),RB=Ha(),kB=Ga(),Qu=class extends kB.default{constructor(){super(...arguments),this._walkSync=RB.walkSync,this._statSync=AB.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let o of t){let s=this._getFullEntryPath(o),i=this._getEntry(s,o,r);i===null||!r.entryFilter(i)||n.push(i)}return n}_getEntry(t,r,n){try{let o=this._getStat(t);return this._makeEntry(o,r)}catch(o){if(n.errorFilter(o))return null;throw o}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Xu.default=Qu});var ab=R(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});var TB=ib(),NB=Va(),Ju=class extends NB.default{constructor(){super(...arguments),this._reader=new TB.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Zu.default=Ju});var cb=R(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Go=G("fs"),vB=G("os"),PB=Math.max(vB.cpus().length,1);Ko.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Go.lstat,lstatSync:Go.lstatSync,stat:Go.stat,statSync:Go.statSync,readdir:Go.readdir,readdirSync:Go.readdirSync};var ef=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,PB),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Ko.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};Ko.default=ef});var of=R((lJ,ub)=>{"use strict";var db=cS(),lb=lS(),OB=ob(),IB=sb(),DB=ab(),tf=cb(),Ln=Sr();async function rf(e,t){Vo(e);let r=nf(e,OB.default,t),n=await Promise.all(r);return Ln.array.flatten(n)}(function(e){function t(i,a){Vo(i);let c=nf(i,DB.default,a);return Ln.array.flatten(c)}e.sync=t;function r(i,a){Vo(i);let c=nf(i,IB.default,a);return Ln.stream.merge(c)}e.stream=r;function n(i,a){Vo(i);let c=lb.transform([].concat(i)),d=new tf.default(a);return db.generate(c,d)}e.generateTasks=n;function o(i,a){Vo(i);let c=new tf.default(a);return Ln.pattern.isDynamicPattern(i,c)}e.isDynamicPattern=o;function s(i){return Vo(i),Ln.path.escape(i)}e.escapePath=s})(rf||(rf={}));function nf(e,t,r){let n=lb.transform([].concat(e)),o=new tf.default(r),s=db.generate(n,o),i=new t(o);return s.map(i.read,i)}function Vo(e){if(![].concat(e).every(n=>Ln.string.isString(n)&&!Ln.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}ub.exports=rf});var mb=R($n=>{"use strict";var{promisify:BB}=G("util"),fb=G("fs");async function sf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await BB(fb[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function af(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return fb[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}$n.isFile=sf.bind(null,"stat","isFile");$n.isDirectory=sf.bind(null,"stat","isDirectory");$n.isSymlink=sf.bind(null,"lstat","isSymbolicLink");$n.isFileSync=af.bind(null,"statSync","isFile");$n.isDirectorySync=af.bind(null,"statSync","isDirectory");$n.isSymlinkSync=af.bind(null,"lstatSync","isSymbolicLink")});var xb=R((fJ,cf)=>{"use strict";var Un=G("path"),hb=mb(),pb=e=>e.length>1?`{${e.join(",")}}`:e[0],yb=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return Un.isAbsolute(r)?r:Un.join(t,r)},MB=(e,t)=>Un.extname(e)?`**/${e}`:`**/${e}.${pb(t)}`,gb=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>Un.posix.join(e,MB(r,t.extensions))):t.files?t.files.map(r=>Un.posix.join(e,`**/${r}`)):t.extensions?[Un.posix.join(e,`**/*.${pb(t.extensions)}`)]:[Un.posix.join(e,"**")]};cf.exports=async(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await hb.isDirectory(yb(n,t.cwd))?gb(n,t):n));return[].concat.apply([],r)};cf.exports.sync=(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>hb.isDirectorySync(yb(n,t.cwd))?gb(n,t):n);return[].concat.apply([],r)}});var Tb=R((mJ,kb)=>{function Eb(e){return Array.isArray(e)?e:[e]}var bb="",Cb=" ",df="\\",FB=/^\s+$/,LB=/(?:[^\\]|^)\\$/,$B=/^\\!/,UB=/^\\#/,zB=/\r?\n/g,qB=/^\.*\/|^\.+$/,lf="/",_b="node-ignore";typeof Symbol<"u"&&(_b=Symbol.for("node-ignore"));var wb=_b,jB=(e,t,r)=>Object.defineProperty(e,t,{value:r}),HB=/([0-z])-([0-z])/g,Ab=()=>!1,GB=e=>e.replace(HB,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:bb),KB=e=>{let{length:t}=e;return e.slice(0,t-t%2)},VB=[[/\\?\s+$/,e=>e.indexOf("\\")===0?Cb:bb],[/\\\s/g,()=>Cb],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>df],[/\\\\/g,()=>df],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,o)=>t===df?`\\[${r}${KB(n)}${o}`:o==="]"&&n.length%2===0?`[${GB(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Sb=Object.create(null),WB=(e,t)=>{let r=Sb[e];return r||(r=VB.reduce((n,o)=>n.replace(o[0],o[1].bind(e)),e),Sb[e]=r),t?new RegExp(r,"i"):new RegExp(r)},mf=e=>typeof e=="string",YB=e=>e&&mf(e)&&!FB.test(e)&&!LB.test(e)&&e.indexOf("#")!==0,QB=e=>e.split(zB),uf=class{constructor(t,r,n,o){this.origin=t,this.pattern=r,this.negative=n,this.regex=o}},XB=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace($B,"!").replace(UB,"#");let o=WB(e,t);return new uf(r,e,n,o)},JB=(e,t)=>{throw new t(e)},_r=(e,t,r)=>mf(e)?e?_r.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Rb=e=>qB.test(e);_r.isNotRelative=Rb;_r.convert=e=>e;var ff=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){jB(this,wb,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[wb]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(YB(t)){let r=XB(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,Eb(mf(t)?QB(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,o=!1;return this._rules.forEach(s=>{let{negative:i}=s;if(o===i&&n!==o||i&&!n&&!o&&!r)return;s.regex.test(t)&&(n=!i,o=i)}),{ignored:n,unignored:o}}_test(t,r,n,o){let s=t&&_r.convert(t);return _r(s,t,this._allowRelativePaths?Ab:JB),this._t(s,r,n,o)}_t(t,r,n,o){if(t in r)return r[t];if(o||(o=t.split(lf)),o.pop(),!o.length)return r[t]=this._testOne(t,n);let s=this._t(o.join(lf)+lf,r,n,o);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return Eb(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Wa=e=>new ff(e),ZB=e=>_r(e&&_r.convert(e),e,Ab);Wa.isPathValid=ZB;Wa.default=Wa;kb.exports=Wa;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");_r.convert=e;let t=/^[a-z]:\//i;_r.isNotRelative=r=>t.test(r)||Rb(r)}});var et=xt(yc(),1);import{join as f1,posix as m1}from"node:path";import{createReadStream as h1}from"node:fs";import{stat as p1}from"node:fs/promises";import{inspect as Yb}from"node:util";var $t=class{trace(){}debug(){}info(){}warn(){}error(){}};var Yn=()=>{let e=[],t=[],r=new Set,n=l=>l.sort((m,f)=>hm[f.step]-hm[m.step]||pm[f.priority||"normal"]-pm[m.priority||"normal"]),o=l=>{let m=!1,f=C=>C.name&&C.name===l?(m=!0,r.delete(l),!1):!0;return e=e.filter(f),t=t.filter(f),m},s=l=>{let m=!1,f=C=>C.middleware===l?(m=!0,C.name&&r.delete(C.name),!1):!0;return e=e.filter(f),t=t.filter(f),m},i=l=>(e.forEach(m=>{l.add(m.middleware,{...m})}),t.forEach(m=>{l.addRelativeTo(m.middleware,{...m})}),l),a=l=>{let m=[];return l.before.forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...a(f))}),m.push(l),l.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...a(f))}),m},c=(l=!1)=>{let m=[],f=[],C={};return e.forEach(b=>{let T={...b,before:[],after:[]};T.name&&(C[T.name]=T),m.push(T)}),t.forEach(b=>{let T={...b,before:[],after:[]};T.name&&(C[T.name]=T),f.push(T)}),f.forEach(b=>{if(b.toMiddleware){let T=C[b.toMiddleware];if(T===void 0){if(l)return;throw new Error(`${b.toMiddleware} is not found when adding ${b.name||"anonymous"} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&T.after.push(b),b.relation==="before"&&T.before.push(b)}}),n(m).map(a).reduce((b,T)=>(b.push(...T),b),[])},d={add:(l,m={})=>{let{name:f,override:C}=m,g={step:"initialize",priority:"normal",middleware:l,...m};if(f){if(r.has(f)){if(!C)throw new Error(`Duplicate middleware name '${f}'`);let b=e.findIndex($=>$.name===f),T=e[b];if(T.step!==g.step||T.priority!==g.priority)throw new Error(`"${f}" middleware with ${T.priority} priority in ${T.step} step cannot be overridden by same-name middleware with ${g.priority} priority in ${g.step} step.`);e.splice(b,1)}r.add(f)}e.push(g)},addRelativeTo:(l,m)=>{let{name:f,override:C}=m,g={middleware:l,...m};if(f){if(r.has(f)){if(!C)throw new Error(`Duplicate middleware name '${f}'`);let b=t.findIndex($=>$.name===f),T=t[b];if(T.toMiddleware!==g.toMiddleware||T.relation!==g.relation)throw new Error(`"${f}" middleware ${T.relation} "${T.toMiddleware}" middleware cannot be overridden by same-name middleware ${g.relation} "${g.toMiddleware}" middleware.`);t.splice(b,1)}r.add(f)}t.push(g)},clone:()=>i(Yn()),use:l=>{l.applyToStack(d)},remove:l=>typeof l=="string"?o(l):s(l),removeByTag:l=>{let m=!1,f=C=>{let{tags:g,name:b}=C;return g&&g.includes(l)?(b&&r.delete(b),m=!0,!1):!0};return e=e.filter(f),t=t.filter(f),m},concat:l=>{let m=i(Yn());return m.use(l),m},applyToStack:i,identify:()=>c(!0).map(l=>l.name+": "+(l.tags||[]).join(",")),resolve:(l,m)=>{for(let f of c().map(C=>C.middleware).reverse())l=f(l,m);return l}};return d},hm={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},pm={high:3,normal:2,low:1};var Ut=class{constructor(t){this.middlewareStack=Yn(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var St=class{constructor(){this.middlewareStack=Yn()}};var zt="***SensitiveInformation***";var Em=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};var I0=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Am.warn(_m(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},D0=Math.ceil(34028234663852886e22),ym=e=>{let t=I0(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>D0)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Cm=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var ii=e=>bc(e,32),gm=e=>bc(e,16),xm=e=>bc(e,8),bc=(e,t)=>{let r=Cm(e);if(r!==void 0&&B0(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},B0=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},lr=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Zo=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},U=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Am.warn(_m(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};var wm=e=>ym(typeof e=="string"?ai(e):e),M0=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ai=e=>{let t=e.match(M0);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var ci=e=>ii(typeof e=="string"?ai(e):e),Sm=e=>gm(typeof e=="string"?ai(e):e),bm=e=>xm(typeof e=="string"?ai(e):e),_m=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Am={warn:console.warn};var F0=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Rm=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function km(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,m=a<10?`0${a}`:`${a}`;return`${F0[n]}, ${c} ${Rm[r]} ${t} ${d}:${l}:${m} GMT`}var P3=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var L0=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_c=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=L0.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,m=Sm(Tm(n)),f=es(o,"month",1,12),C=es(s,"day",1,31),g=$0(m,f,C,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&g.setTime(g.getTime()-H0(l)),g},O3=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),I3=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),D3=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var $0=(e,t,r,n)=>{let o=t-1;return z0(e,o,r),new Date(Date.UTC(e,o,r,es(n.hours,"hour",0,23),es(n.minutes,"minute",0,59),es(n.seconds,"seconds",0,60),j0(n.fractionalMilliseconds)))};var B3=50*365*24*60*60*1e3;var U0=[31,28,31,30,31,30,31,31,30,31,30,31],z0=(e,t,r)=>{let n=U0[t];if(t===1&&q0(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Rm[t]} in ${e}: ${r}`)},q0=e=>e%4===0&&(e%100!==0||e%400===0),es=(e,t,r,n)=>{let o=bm(Tm(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},j0=e=>e==null?0:wm("0."+e)*1e3,H0=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Tm=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};var bt=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,bt.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},ye=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};var G0=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=K0(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:o});throw ye(i,t)},Pr=e=>({output:t,parsedBody:r,errorCode:n})=>{G0({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},K0=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var Or=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var Nm=!1,Ir=e=>{e&&!Nm&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Nm=!0)};function Qn(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ts=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=ts(e[r]));return e};var Ac=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Ac.prototype=Object.create(String.prototype,{constructor:{value:Ac,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Ac,String);function Ee(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,V0(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}vm(n,null,s,i)}return n}var De=(e,t)=>{let r={};for(let n in t)vm(r,e,t,n);return r},V0=(e,t,r)=>Ee(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),vm=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=W0,c=Y0,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},W0=e=>e!=null,Y0=e=>e;var Rc=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Qn(a)).join("/"):Qn(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};var rs=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=rs(e[r]));return t}return e};var Pm=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),eA(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Z0(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Q0=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,X0=/(\d+\.){3}\d+/,J0=/\.\./;var Z0=e=>Q0.test(e)&&!X0.test(e)&&!J0.test(e),eA=e=>{let[t,r,n,o,s,i]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,s,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!i};var Om=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n};var Im=async(e,t,r,n)=>{let o=await tA(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},tA=async(e,t,r)=>{var s;let n={},o=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(let[i,a]of Object.entries(o))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await Om(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Pm(n),n};function Dm(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}var it=e=>{if(typeof e=="string")return it(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=Dm(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};var Bm=e=>typeof e=="object"?"url"in e?it(e.url):e:it(e);var Mm=({config:e,instructions:t})=>(r,n)=>async o=>{var a,c;let s=await Im(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),r({...o})};var Fm=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var Lm=(e,t)=>(r,n)=>async o=>{var a;let s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let i=await t(o.input,{...e,endpoint:s});return r({...o,request:i})};var rA={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},kc={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function qt(e,t,r){return{applyToStack:n=>{n.add(Fm(e,r),rA),n.add(Lm(e,t),kc)}}}var nA={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:kc.name},jt=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Mm({config:e,instructions:t}),nA)}});var He=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var Dr=e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Bm(await He(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:He(e.useDualstackEndpoint??!1),useFipsEndpoint:He(e.useFipsEndpoint??!1)}};var Tc;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Tc||(Tc={}));var oe=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new oe({...this,headers:{...this.headers}});return t.query&&(t.query=oA(t.query)),t}};function oA(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var It=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};var wh=xt($c());var Xn=class extends bt{constructor(t){super(t),Object.setPrototypeOf(this,Xn.prototype)}};var ph;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(ph||(ph={}));var yh;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(yh||(yh={}));var gh;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(gh||(gh={}));var xh;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(xh||(xh={}));var Eh=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:zt},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:zt}}),Ch=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:zt},...e.SSEKMSKeyId&&{SSEKMSKeyId:zt},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:zt}});var Sh=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=Ee({},ss,{"content-type":e.ContentType||"application/octet-stream","x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-length":[()=>ss(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,expires:[()=>ss(e.Expires),()=>km(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>ss(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>ss(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((m,f)=>(m[`x-amz-meta-${f.toLowerCase()}`]=e.Metadata[f],m),{})}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Rc(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Rc(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=Ee({"x-id":[,"PutObject"]}),d;e.Body!==void 0&&(d=e.Body);let l;return e.Body!==void 0&&(l=e.Body,d=l),new oe({protocol:n,hostname:r,port:o,method:"PUT",headers:i,path:a,query:c,body:d})};var bh=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return aR(e,t);let r=Ee({$metadata:dR(e),Expiration:[,e.headers["x-amz-expiration"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Em(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await _h(e.body,t),r},aR=async(e,t)=>{let r={...e,body:await fR(e.body,t)},n=mR(e,r.body),o=r.body;return cR({output:e,parsedBody:o,errorCode:n})};var cR=Pr(Xn);var dR=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),_h=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),lR=(e,t)=>_h(e,t).then(r=>t.utf8Encoder(r)),ss=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),uR=(e,t)=>lR(e,t).then(r=>{if(r.length){let n=new wh.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),ts(a)}return{}}),fR=async(e,t)=>{let r=await uR(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},mR=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};var hR="content-length";function pR(){return(e,t)=>async r=>{var o;let{request:n}=r;if(oe.isInstance(n)&&!n.headers[hR]){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((o=t==null?void 0:t.logger)==null?void 0:o.warn)=="function"?t.logger.warn(s):console.warn(s)}return e({...r})}}var yR={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Ah=e=>({applyToStack:t=>{t.add(pR(),yR)}});var Rh=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1});var Uc=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function gR(){return e=>async t=>{let{input:{Bucket:r}}=t;if(typeof r=="string"&&!Uc(r)&&r.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return e({...t})}}var xR={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},kh=e=>({applyToStack:t=>{t.add(gR(),xR)}});function ER(e){return t=>async r=>{let n={...r.input},o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let s of o){let i=n[s.target];if(i){let a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):typeof i=="string"?e.utf8Decoder(i):new Uint8Array(i),c=e.base64Encoder(a),d=new e.md5;d.update(a),n={...n,[s.target]:c,[s.hash]:e.base64Encoder(await d.digest())}}}return t({...r,input:n})}}var CR={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Th=e=>({applyToStack:t=>{t.add(ER(e),CR)}});var ve;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(ve||(ve={}));var Nh;(function(e){e.HEADER="header",e.TRAILER="trailer"})(Nh||(Nh={}));var is=[ve.CRC32,ve.CRC32C,ve.SHA1,ve.SHA256],vh=[ve.CRC32,ve.CRC32C,ve.SHA1,ve.SHA256];var Ph=(e,{requestChecksumRequired:t,requestAlgorithmMember:r})=>{if(!r||!e[r])return t?ve.MD5:void 0;let n=e[r];if(!is.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${is}.`);return n};var di=e=>e===ve.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`;var Oh=(e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1};var Jn=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var li=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!Jn(e);var tp=xt(ds()),rp=xt(Zc());var gi=(e,t)=>({[ve.MD5]:t.md5,[ve.CRC32]:tp.AwsCrc32,[ve.CRC32C]:rp.AwsCrc32c,[ve.SHA1]:t.sha1,[ve.SHA256]:t.sha256})[e];import{Buffer as ed}from"buffer";var fr=(e,t=0,r=e.byteLength-t)=>{if(!Jn(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return ed.from(e,t,r)},Zn=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?ed.from(e,t):ed.from(e)};var Gt=e=>{let t=Zn(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var ct=e=>typeof e=="string"?Gt(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var Lr=e=>fr(e.buffer,e.byteOffset,e.byteLength).toString("utf8");var xi=(e,t)=>{let r=new e;return r.update(ct(t||"")),r.digest()};var np=async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{let o=li(e)?t(r,e):xi(r,e);return n(await o)};var op=(e=[])=>{let t=[];for(let r of vh)!e.includes(r)||!is.includes(r)||t.push(r);return t};var sp=async(e,{config:t,responseAlgorithms:r})=>{let n=op(r),{body:o,headers:s}=e;for(let i of n){let a=di(i),c=s[a];if(c){let d=gi(i,t),{streamHasher:l,base64Encoder:m}=t,f=await np(o,{streamHasher:l,checksumAlgorithmFn:d,base64Encoder:m});if(f===c)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${c}" in response header "${a}".`)}}};var ip=(e,t)=>r=>async n=>{if(!oe.isInstance(n.request))return r(n);let{request:o}=n,{body:s,headers:i}=o,{base64Encoder:a,streamHasher:c}=e,{input:d,requestChecksumRequired:l,requestAlgorithmMember:m}=t,f=Ph(d,{requestChecksumRequired:l,requestAlgorithmMember:m}),C=s,g=i;if(f){let ie=di(f),ee=gi(f,e);if(li(s)){let{getAwsChunkedEncodingStream:Oe,bodyLengthChecker:X}=e;C=Oe(s,{base64Encoder:a,bodyLengthChecker:X,checksumLocationName:ie,checksumAlgorithmFn:ee,streamHasher:c}),g={...i,"content-encoding":i["content-encoding"]?`${i["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":i["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":ie},delete g["content-length"]}else if(!Oh(ie,i)){let Oe=await xi(ee,s);g={...i,[ie]:a(Oe)}}}let b=await r({...n,request:{...o,headers:g,body:C}}),{requestValidationModeMember:T,responseAlgorithms:$}=t;return T&&d[T]==="ENABLED"&&sp(b.response,{config:e,responseAlgorithms:$}),b};var Pk={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},ap=(e,t)=>({applyToStack:r=>{r.add(ip(e,t),Pk)}});var eo=class extends St{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(qt(r,this.serialize,this.deserialize)),this.middlewareStack.use(jt(r,eo.getEndpointParameterInstructions())),this.middlewareStack.use(Ah(r)),this.middlewareStack.use(Th(r)),this.middlewareStack.use(ap(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:Ch,outputFilterSensitiveLog:Eh},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return Sh(t,r)}deserialize(t,r){return bh(t,r)}};var _t;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(_t||(_t={}));var Kt=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var Ok="AWS_USE_DUALSTACK_ENDPOINT",Ik="use_dualstack_endpoint";var $r={environmentVariableSelector:e=>Kt(e,Ok,_t.ENV),configFileSelector:e=>Kt(e,Ik,_t.CONFIG),default:!1};var Dk="AWS_USE_FIPS_ENDPOINT",Bk="use_fips_endpoint";var Ur={environmentVariableSelector:e=>Kt(e,Dk,_t.ENV),configFileSelector:e=>Kt(e,Bk,_t.CONFIG),default:!1};var Mk="AWS_REGION",Fk="region",Vt={environmentVariableSelector:e=>e[Mk],configFileSelector:e=>e[Fk],default:()=>{throw new Error("Region is missing")}},zr={preferredFile:"credentials"};var Ei=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var td=e=>Ei(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var qr=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return td(t);let n=await t();return td(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Ei(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};var cp=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)});var dp="content-length";function Lk(e){return t=>async r=>{let n=r.request;if(oe.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(dp)===-1)try{let i=e(o);n.headers={...n.headers,[dp]:String(i)}}catch{}}return t({...r,request:n})}}var $k={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},jr=e=>({applyToStack:t=>{t.add(Lk(e.bodyLengthChecker),$k)}});function Uk(e){return t=>async r=>{let{request:n}=r;return oe.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}var zk={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},lp=e=>({applyToStack:t=>{t.add(Uk(e),zk)}});var qk=e=>t=>async r=>{if(!oe.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},jk={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Hr=e=>({applyToStack:t=>{t.add(qk(e),jk)}});var Hk=()=>(e,t)=>async r=>{var n,o;try{let s=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:m}=d,f=l??t.inputFilterSensitiveLog,C=m??t.outputFilterSensitiveLog,{$metadata:g,...b}=s.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:f(r.input),output:C(b),metadata:g}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l}=d,m=l??t.inputFilterSensitiveLog;throw(o=c==null?void 0:c.error)==null||o.call(c,{clientName:i,commandName:a,input:m(r.input),error:s,metadata:s.$metadata}),s}},Gk={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Gr=e=>({applyToStack:t=>{t.add(Hk(),Gk)}});var up="X-Amzn-Trace-Id",Kk="AWS_LAMBDA_FUNCTION_NAME",Vk="_X_AMZN_TRACE_ID",Wk=e=>t=>async r=>{let{request:n}=r;if(!oe.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(up))return t(r);let o=process.env[Kk],s=process.env[Vk],i=a=>typeof a=="string"&&a.length>0;return i(o)&&i(s)&&(n.headers[up]=s),t({...r,request:n})},Yk={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Kr=e=>({applyToStack:t=>{t.add(Wk(e),Yk)}});var Wt;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Wt||(Wt={}));var bn=3,Yt="STANDARD";var fp=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],mp=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],hp=[500,502,503,504],pp=["ECONNRESET","EPIPE","ETIMEDOUT"];var to=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||fp.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},Ci=e=>{var t;return mp.includes(e.name)||pp.includes((e==null?void 0:e.code)||"")||hp.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},yp=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Ci(e)}return!1};var us=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),to(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};var wi="amz-sdk-invocation-id",Si="amz-sdk-request";var gp=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};var Sp=(e,t,r,n)=>{let o=e,s=(n==null?void 0:n.retryCost)??5,i=(n==null?void 0:n.timeoutRetryCost)??10,a=(n==null?void 0:n.retryBackoffStrategy)??gp(),c=e,d=Math.min(2e4,t),l,m=r??0,f=ee=>ee==="TRANSIENT"?i:s,C=()=>m,g=()=>d,b=()=>l,T=ee=>f(ee)<=c;return{getRetryCount:C,getRetryDelay:g,getLastRetryCost:b,hasRetryTokens:T,getRetryTokenCount:ee=>{let Oe=ee.errorType;if(!T(Oe))throw new Error("No retry token available");let X=f(Oe),xe=Oe==="THROTTLING"?500:100;a.setDelayBase(xe);let Z=a.computeNextBackoffDelay(m);if(ee.retryAfterHint){let V=ee.retryAfterHint.getTime()-Date.now();d=Math.max(V||0,Z)}else d=Z;return m++,l=X,c-=X,X},releaseRetryTokens:ee=>{c+=ee??1,c=Math.min(c,o)}}};var no=class{constructor(t){this.maxAttemptsProvider=t,this.mode=Wt.STANDARD,this.retryToken=Sp(500,100),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n))return t.getRetryTokenCount(r),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${bn}`),bn}}shouldRetry(t,r,n){return t.getRetryCount()<n&&t.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var _i=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Wt.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new us,this.standardRetryStrategy=new no(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};var rd=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var _p="AWS_MAX_ATTEMPTS",Ap="max_attempts",Vr={environmentVariableSelector:e=>{let t=e[_p];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${_p} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Ap];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Ap} mast be a number, got "${t}"`);return r},default:bn},Wr=e=>{let{retryStrategy:t}=e,r=He(e.maxAttempts??bn);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await He(e.retryMode)()===Wt.ADAPTIVE?new _i(r):new no(r))}},Qk="AWS_RETRY_MODE",Xk="retry_mode",Yr={environmentVariableSelector:e=>e[Qk],configFileSelector:e=>e[Xk],default:Yt};ic();var Jk=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(Zk(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:l}=n;for(oe.isInstance(l)&&(l.headers[wi]=ei());;)try{oe.isInstance(l)&&(l.headers[Si]=`attempt=${c+1}; max=${s}`);let{response:m,output:f}=await t(n);return o.recordSuccess(i),f.$metadata.attempts=c+1,f.$metadata.totalRetryDelay=d,{response:m,output:f}}catch(m){let f=eT(m);a=rd(m);try{i=await o.refreshRetryTokenForRetry(i,f)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let C=i.getRetryDelay();d+=C,await new Promise(g=>setTimeout(g,C))}}else return o=o,o!=null&&o.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},Zk=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",eT=e=>{let t={errorType:tT(e)},r=nT(e.$response);return r&&(t.retryAfterHint=r),t},tT=e=>to(e)?"THROTTLING":Ci(e)?"TRANSIENT":yp(e)?"SERVER_ERROR":"CLIENT_ERROR",rT={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Qr=e=>({applyToStack:t=>{t.add(Jk(e),rT)}}),nT=e=>{if(!It.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var dt=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,dt.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};var z=class extends dt{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,z.prototype)}};var lt=class extends dt{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,lt.prototype)}};function Ai(...e){return()=>{let t=Promise.reject(new dt("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return t}}var Rp=e=>()=>Promise.resolve(e);var Xr=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!s||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};var kp={},nd={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),kp[e]=t,nd[t]=e}function Tp(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in nd)t[r/2]=nd[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function Ge(e){let t="";for(let r=0;r<e.byteLength;r++)t+=kp[e[r]];return t}var Np="X-Amz-Algorithm",vp="X-Amz-Credential",od="X-Amz-Date",Pp="X-Amz-SignedHeaders",Op="X-Amz-Expires",sd="X-Amz-Signature",id="X-Amz-Security-Token";var ad="authorization",cd=od.toLowerCase(),oT="date",Ip=[ad,cd,oT],Dp=sd.toLowerCase(),fs="x-amz-content-sha256",Bp=id.toLowerCase();var Mp={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Fp=/^proxy-/,Lp=/^sec-/;var Ri="AWS4-HMAC-SHA256";var $p="AWS4-HMAC-SHA256-PAYLOAD",Up="UNSIGNED-PAYLOAD",zp=50,dd="aws4_request",qp=60*60*24*7;var ki={},ld=[],Ti=(e,t,r)=>`${e}/${t}/${r}/${dd}`,Hp=async(e,t,r,n,o)=>{let s=await jp(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${Ge(s)}:${t.sessionToken}`;if(i in ki)return ki[i];for(ld.push(i);ld.length>zp;)delete ki[ld.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,dd])a=await jp(e,a,c);return ki[i]=a};var jp=(e,t,r)=>{let n=new e(t);return n.update(ct(r)),n.digest()};var Ni=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in Mp||t!=null&&t.has(s)||Fp.test(s)||Lp.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n};var Qt=e=>encodeURIComponent(e).replace(/[!'()*]/g,sT),sT=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;var ud=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===Dp)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${Qt(n)}=${Qt(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).sort().reduce((s,i)=>s.concat([`${Qt(n)}=${Qt(i)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};var ms=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===fs)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Jn(t)){let n=new r;return n.update(ct(t)),Ge(await n.digest())}return Up};var Gp=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};var vi=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?iT(t):void 0}),iT=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});var fd=(e,t={})=>{var o;let{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():vi(e);for(let s of Object.keys(r)){let i=s.toLowerCase();i.slice(0,6)==="x-amz-"&&!((o=t.unhoistableHeaders)!=null&&o.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}};var Pi=e=>{e=typeof e.clone=="function"?e.clone():vi(e);for(let t of Object.keys(e.headers))Ip.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var Kp=e=>aT(e).toISOString().replace(/\.\d{3}Z$/,"Z"),aT=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;var _n=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=He(n),this.credentialProvider=He(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let m=c??await this.regionProvider(),{longDate:f,shortDate:C}=Oi(n);if(o>qp)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let g=Ti(C,m,d??this.service),b=fd(Pi(t),{unhoistableHeaders:i});l.sessionToken&&(b.query[id]=l.sessionToken),b.query[Np]=Ri,b.query[vp]=`${l.accessKeyId}/${g}`,b.query[od]=f,b.query[Op]=o.toString(10);let T=Ni(b,s,a);return b.query[Pp]=Vp(T),b.query[sd]=await this.getSignature(f,g,this.getSigningKey(l,m,C,d),this.createCanonicalRequest(b,T,await ms(t,this.sha256))),b}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=Oi(n),l=Ti(c,a,i??this.service),m=await ms({headers:{},body:r},this.sha256),f=new this.sha256;f.update(t);let C=Ge(await f.digest()),g=[$p,d,l,o,C,m].join(`
`);return this.signString(g,{signingDate:n,signingRegion:a,signingService:i})}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=Oi(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update(ct(t)),Ge(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=Pi(t),{longDate:l,shortDate:m}=Oi(r),f=Ti(m,c,i??this.service);d.headers[cd]=l,a.sessionToken&&(d.headers[Bp]=a.sessionToken);let C=await ms(d,this.sha256);!Gp(fs,d.headers)&&this.applyChecksum&&(d.headers[fs]=C);let g=Ni(d,o,n),b=await this.getSignature(l,f,this.getSigningKey(a,c,m,i),this.createCanonicalRequest(d,g,C));return d.headers[ad]=`${Ri} Credential=${a.accessKeyId}/${f}, SignedHeaders=${Vp(g)}, Signature=${b}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${ud(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update(ct(n));let s=await o.digest();return`${Ri}
${t}
${r}
${Ge(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o),i=new this.sha256(await n);return i.update(ct(s)),Ge(await i.digest())}getSigningKey(t,r,n,o){return Hp(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Oi=e=>{let t=Kp(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},Vp=e=>Object.keys(e).sort().join(";");var cT=3e5,Ii=e=>{let t=e.credentials?dT(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=He(e.signer):e.regionInfoProvider?s=()=>He(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},m=e.signerConstructor||_n;return new m(l)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await He(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},l=e.signerConstructor||_n;return new l(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};var dT=e=>typeof e=="function"?Xr(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<cT,t=>t.expiration!==void 0):He(e);var Di=e=>new Date(Date.now()+e);var Wp=(e,t)=>Math.abs(Di(t).getTime()-e)>=3e5;var md=(e,t)=>{let r=Date.parse(e);return Wp(r,t)?r-Date.now():t};var lT=e=>(t,r)=>async function(n){var d,l,m,f;if(!oe.isInstance(n.request))return t(n);let o=(m=(l=(d=r.endpointV2)==null?void 0:d.properties)==null?void 0:l.authSchemes)==null?void 0:m[0],s=(o==null?void 0:o.name)==="sigv4a"?(f=o==null?void 0:o.signingRegionSet)==null?void 0:f.join(","):void 0,i=await e.signer(o),a=await t({...n,request:await i.sign(n.request,{signingDate:Di(e.systemClockOffset),signingRegion:s||r.signing_region,signingService:r.signing_service})}).catch(C=>{let g=C.ServerTime??Yp(C.$response);throw g&&(e.systemClockOffset=md(g,e.systemClockOffset)),C}),c=Yp(a.response);return c&&(e.systemClockOffset=md(c,e.systemClockOffset)),a},Yp=e=>{var t,r;return It.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},uT={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Bi=e=>({applyToStack:t=>{t.addRelativeTo(lT(e),uT)}});function Jr(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var hd={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var Qp=hd,Xp="",mT=e=>{let{partitions:t}=Qp;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Jp=(e,t="")=>{Qp=e,Xp=t},hT=()=>{Jp(hd,"")},pd=()=>Xp;var mr="endpoints";function At(e){return typeof e!="object"||e==null?e:"ref"in e?`$${At(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(At).join(", ")})`:JSON.stringify(e,null,2)}var Se=class extends Error{constructor(t){super(t),this.name="EndpointError"}};var Ed={};zn(Ed,{aws:()=>yd,booleanEquals:()=>xT,getAttr:()=>gd,isSet:()=>ET,isValidHostLabel:()=>Fi,not:()=>CT,parseURL:()=>wT,stringEquals:()=>ST,substring:()=>bT,uriEncode:()=>_T});var yd={};zn(yd,{getUserAgentPrefix:()=>pd,isVirtualHostableS3Bucket:()=>Zp,parseArn:()=>gT,partition:()=>mT,setPartitionInfo:()=>Jp,useDefaultPartitionInfo:()=>hT});var pT=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Mi=e=>pT.test(e)||e.startsWith("[")&&e.endsWith("]");var yT=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Fi=(e,t=!1)=>{if(!t)return yT.test(e);let r=e.split(".");for(let n of r)if(!Fi(n))return!1;return!0};var Zp=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!Zp(r))return!1;return!0}return!(!Fi(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Mi(e))};var gT=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:s,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var xT=(e,t)=>e===t;var ey=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Se(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new Se(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r};var gd=(e,t)=>ey(t).reduce((r,n)=>{if(typeof r!="object")throw new Se(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);var ET=e=>e!=null;var CT=e=>!e;var ty;(function(e){e.HEADER="header",e.QUERY="query"})(ty||(ty={}));var ry;(function(e){e.AAAA="AAAA",e.A="A"})(ry||(ry={}));var oo;(function(e){e.HTTP="http",e.HTTPS="https"})(oo||(oo={}));var ny;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(ny||(ny={}));var xd={[oo.HTTP]:80,[oo.HTTPS]:443},wT=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:C,protocol:g="",path:b="",query:T={}}=e,$=new URL(`${g}//${f}${C?`:${C}`:""}${b}`);return $.search=Object.entries(T).map(([ie,ee])=>`${ie}=${ee}`).join("&"),$}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(oo).includes(c))return null;let d=Mi(o),l=r.includes(`${n}:${xd[c]}`)||typeof e=="string"&&e.includes(`${n}:${xd[c]}`),m=`${n}${l?`:${xd[c]}`:""}`;return{scheme:c,authority:m,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}};var ST=(e,t)=>e===t;var bT=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);var _T=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var Li=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(gd(n[c],d))}else r.push(n[a]);o=i+1}return r.join("")};var oy=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];var Zr=(e,t,r)=>{if(typeof e=="string")return Li(e,r);if(e.fn)return $i(e,r);if(e.ref)return oy(e,r);throw new Se(`'${t}': ${String(e)} is not a string, function or reference.`)};var $i=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:Zr(o,"arg",r));return e.split(".").reduce((o,s)=>o[s],Ed)(...n)};var sy=({assign:e,...t},r)=>{var o,s;if(e&&e in r.referenceRecord)throw new Se(`'${e}' is already defined in Reference Record.`);let n=$i(t,r);return(s=(o=r.logger)==null?void 0:o.debug)==null||s.call(o,mr,`evaluateCondition: ${At(t)} = ${At(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}};var so=(e=[],t)=>{var n,o;let r={};for(let s of e){let{result:i,toAssign:a}=sy(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(o=(n=t.logger)==null?void 0:n.debug)==null||o.call(n,mr,`assign: ${a.name} := ${At(a.value)}`))}return{result:!0,referenceRecord:r}};var iy=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Zr(s,"Header value entry",t);if(typeof i!="string")throw new Se(`Header '${n}' value '${i}' is not a string`);return i})}),{});var Cd=(e,t)=>{if(Array.isArray(e))return e.map(r=>Cd(r,t));switch(typeof e){case"string":return Li(e,t);case"object":if(e===null)throw new Se(`Unexpected endpoint property: ${e}`);return Ui(e,t);case"boolean":return e;default:throw new Se(`Unexpected endpoint property type: ${typeof e}`)}};var Ui=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Cd(o,t)}),{});var ay=(e,t)=>{let r=Zr(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Se(`Endpoint URL must be a string, got ${typeof r}`)};var cy=(e,t)=>{var l,m;let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=so(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:d}=n;return(m=(l=t.logger)==null?void 0:l.debug)==null||m.call(l,mr,`Resolving endpoint from template: ${At(n)}`),{...d!=null&&{headers:iy(d,i)},...c!=null&&{properties:Ui(c,i)},url:ay(a,i)}};var dy=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=so(r,t);if(o)throw new Se(Zr(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))};var ly=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=so(r,t);if(o)return zi(n,{...t,referenceRecord:{...t.referenceRecord,...s}})};var zi=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=cy(r,t);if(n)return n}else if(r.type==="error")dy(r,t);else if(r.type==="tree"){let n=ly(r,t);if(n)return n}else throw new Se(`Unknown endpoint rule: ${r}`);throw new Se("Rules evaluation failed")};var en=(e,t)=>{var d,l,m,f,C;let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;(l=(d=t.logger)==null?void 0:d.debug)==null||l.call(d,mr,`Initial EndpointParams: ${At(r)}`);let i=Object.entries(o).filter(([,g])=>g.default!=null).map(([g,b])=>[g,b.default]);if(i.length>0)for(let[g,b]of i)r[g]=r[g]??b;let a=Object.entries(o).filter(([,g])=>g.required).map(([g])=>g);for(let g of a)if(r[g]==null)throw new Se(`Missing required parameter: '${g}'`);let c=zi(s,{endpointParams:r,logger:n,referenceRecord:{}});if((m=t.endpointParams)!=null&&m.Endpoint)try{let g=new URL(t.endpointParams.Endpoint),{protocol:b,port:T}=g;c.url.protocol=b,c.url.port=T}catch{}return(C=(f=t.logger)==null?void 0:f.debug)==null||C.call(f,mr,`Resolved endpoint: ${At(c)}`),c};var wd="user-agent",qi="x-amz-user-agent",Sd=" ",uy=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var AT=e=>(t,r)=>async n=>{var f,C;let{request:o}=n;if(!oe.isInstance(o))return t(n);let{headers:s}=o,i=((f=r==null?void 0:r.userAgent)==null?void 0:f.map(bd))||[],a=(await e.defaultUserAgentProvider()).map(bd),c=((C=e==null?void 0:e.customUserAgent)==null?void 0:C.map(bd))||[],d=pd(),l=(d?[d]:[]).concat([...a,...i,...c]).join(Sd),m=[...a.filter(g=>g.startsWith("aws-sdk-")),...c].join(Sd);return e.runtime!=="browser"?(m&&(s[qi]=s[qi]?`${s[wd]} ${m}`:m),s[wd]=l):s[qi]=l,t({...n,request:o})},bd=([e,t])=>{let r=e.indexOf("/"),n=e.substring(0,r),o=e.substring(r+1);return n==="api"&&(o=o.toLowerCase()),[n,o,t].filter(s=>s&&s.length>0).map(s=>s==null?void 0:s.replace(uy,"_")).join("/")},RT={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},tn=e=>({applyToStack:t=>{t.add(AT(e),RT)}});var fy=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var my={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.321.1",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.321.1","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/credential-provider-node":"3.321.1","@aws-sdk/eventstream-serde-browser":"3.310.0","@aws-sdk/eventstream-serde-config-resolver":"3.310.0","@aws-sdk/eventstream-serde-node":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-blob-browser":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/hash-stream-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/md5-js":"3.310.0","@aws-sdk/middleware-bucket-endpoint":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-expect-continue":"3.310.0","@aws-sdk/middleware-flexible-checksums":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-location-constraint":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-sdk-s3":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-signing":"3.310.0","@aws-sdk/middleware-ssec":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.319.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.321.1","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/signature-v4-multi-region":"3.310.0","@aws-sdk/smithy-client":"3.316.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.316.0","@aws-sdk/util-defaults-mode-node":"3.316.0","@aws-sdk/util-endpoints":"3.319.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-stream-browser":"3.310.0","@aws-sdk/util-stream-node":"3.321.1","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0","@aws-sdk/util-waiter":"3.310.0","@aws-sdk/xml-builder":"3.310.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var hy=xt($c());var ut=class extends bt{constructor(t){super(t),Object.setPrototypeOf(this,ut.prototype)}};var io=class extends ut{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,io.prototype)}},ao=class extends ut{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,ao.prototype)}},co=class extends ut{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,co.prototype)}},lo=class extends ut{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,lo.prototype)}},uo=class extends ut{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,uo.prototype)}},fo=class extends ut{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,fo.prototype)}},mo=class extends ut{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,mo.prototype)}};var py=async(e,t)=>{let r=Ty,n;return n=vy({...IT(e,t),Action:"AssumeRole",Version:"2011-06-15"}),ky(t,r,"/",void 0,n)};var yy=async(e,t)=>{let r=Ty,n;return n=vy({...DT(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),ky(t,r,"/",void 0,n)};var gy=async(e,t)=>{if(e.statusCode>=300)return TT(e,t);let r=await _d(e.body,t),n={};return n=$T(r.AssumeRoleResult,t),{$metadata:hr(e),...n}},TT=async(e,t)=>{let r={...e,body:await Ny(e.body,t)},n=Py(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Ey(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Cy(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await wy(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Sy(r,t);default:let o=r.body;return Ry({output:e,parsedBody:o.Error,errorCode:n})}};var xy=async(e,t)=>{if(e.statusCode>=300)return NT(e,t);let r=await _d(e.body,t),n={};return n=UT(r.AssumeRoleWithWebIdentityResult,t),{$metadata:hr(e),...n}},NT=async(e,t)=>{let r={...e,body:await Ny(e.body,t)},n=Py(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Ey(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await vT(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await PT(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await OT(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Cy(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await wy(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Sy(r,t);default:let o=r.body;return Ry({output:e,parsedBody:o.Error,errorCode:n})}};var Ey=async(e,t)=>{let r=e.body,n=zT(r.Error,t),o=new io({$metadata:hr(e),...n});return ye(o,r)},vT=async(e,t)=>{let r=e.body,n=qT(r.Error,t),o=new mo({$metadata:hr(e),...n});return ye(o,r)},PT=async(e,t)=>{let r=e.body,n=jT(r.Error,t),o=new uo({$metadata:hr(e),...n});return ye(o,r)};var OT=async(e,t)=>{let r=e.body,n=HT(r.Error,t),o=new fo({$metadata:hr(e),...n});return ye(o,r)},Cy=async(e,t)=>{let r=e.body,n=GT(r.Error,t),o=new ao({$metadata:hr(e),...n});return ye(o,r)},wy=async(e,t)=>{let r=e.body,n=KT(r.Error,t),o=new co({$metadata:hr(e),...n});return ye(o,r)},Sy=async(e,t)=>{let r=e.body,n=VT(r.Error,t),o=new lo({$metadata:hr(e),...n});return ye(o,r)},IT=(e,t)=>{var n,o,s;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let i=by(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let d=`PolicyArns.${a}`;r[d]=c})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let i=LT(e.Tags,t);((o=e.Tags)==null?void 0:o.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let d=`Tags.${a}`;r[d]=c})}if(e.TransitiveTagKeys!=null){let i=FT(e.TransitiveTagKeys,t);((s=e.TransitiveTagKeys)==null?void 0:s.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let d=`TransitiveTagKeys.${a}`;r[d]=c})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r};var DT=(e,t)=>{var n;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let o=by(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(o).forEach(([s,i])=>{let a=`PolicyArns.${s}`;r[a]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r};var by=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=BT(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},BT=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},MT=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},FT=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},LT=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=MT(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},_y=(e,t)=>{let r={};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=U(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=U(e.Arn)),r},$T=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Ay(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=_y(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=ci(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=U(e.SourceIdentity)),r};var UT=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Ay(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=U(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=_y(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=ci(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=U(e.Provider)),e.Audience!==void 0&&(r.Audience=U(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=U(e.SourceIdentity)),r},Ay=(e,t)=>{let r={};return e.AccessKeyId!==void 0&&(r.AccessKeyId=U(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=U(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=U(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=lr(_c(e.Expiration))),r};var zT=(e,t)=>{let r={};return e.message!==void 0&&(r.message=U(e.message)),r};var qT=(e,t)=>{let r={};return e.message!==void 0&&(r.message=U(e.message)),r},jT=(e,t)=>{let r={};return e.message!==void 0&&(r.message=U(e.message)),r};var HT=(e,t)=>{let r={};return e.message!==void 0&&(r.message=U(e.message)),r},GT=(e,t)=>{let r={};return e.message!==void 0&&(r.message=U(e.message)),r},KT=(e,t)=>{let r={};return e.message!==void 0&&(r.message=U(e.message)),r},VT=(e,t)=>{let r={};return e.message!==void 0&&(r.message=U(e.message)),r},hr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),WT=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),YT=(e,t)=>WT(e,t).then(r=>t.utf8Encoder(r)),Ry=Pr(ut),ky=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new oe(d)},Ty={"content-type":"application/x-www-form-urlencoded"},_d=(e,t)=>YT(e,t).then(r=>{if(r.length){let n=new hy.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),ts(a)}return{}}),Ny=async(e,t)=>{let r=await _d(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},vy=e=>Object.entries(e).map(([t,r])=>Qn(t)+"="+Qn(r)).join("&"),Py=(e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"};var ho=class extends St{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(qt(r,this.serialize,this.deserialize)),this.middlewareStack.use(jt(r,ho.getEndpointParameterInstructions())),this.middlewareStack.use(Bi(r));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return py(t,r)}deserialize(t,r){return gy(t,r)}};var po=class extends St{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(qt(r,this.serialize,this.deserialize)),this.middlewareStack.use(jt(r,po.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return yy(t,r)}deserialize(t,r){return xy(t,r)}};var Oy=(e,{stsClientCtor:t})=>Ii({...e,stsClientCtor:t});var Iy=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});var Dy={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.321.1",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/credential-provider-node":"3.321.1","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-sdk-sts":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-signing":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.319.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.321.1","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.316.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.316.0","@aws-sdk/util-defaults-mode-node":"3.316.0","@aws-sdk/util-endpoints":"3.319.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var By="us-east-1",My=e=>typeof e!="function"?e===void 0?By:e:async()=>{try{return await e()}catch{return By}},Ad=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:My(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new ho(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Rd=(e,t)=>{let r;return async n=>{if(!r){let{logger:s,region:i,requestHandler:a}=e;r=new t({logger:s,region:My(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:o}=await r.send(new po(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}},Fy=e=>t=>e({roleAssumer:Ad(t,t.stsClientCtor),roleAssumerWithWebIdentity:Rd(t,t.stsClientCtor),...t});var XT="AWS_ACCESS_KEY_ID",JT="AWS_SECRET_ACCESS_KEY",ZT="AWS_SESSION_TOKEN",eN="AWS_CREDENTIAL_EXPIRATION",ji=()=>async()=>{let e=process.env[XT],t=process.env[JT],r=process.env[ZT],n=process.env[eN];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new z("Unable to find environment variable credentials.")};import{homedir as tN}from"os";import{sep as rN}from"path";var yo=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${rN}`}=process.env;return e||t||(r?`${n}${r}`:tN())};var kd="AWS_PROFILE",nN="default",Rt=e=>e.profile||process.env[kd]||nN;import{createHash as oN}from"crypto";import{join as sN}from"path";var Hi=e=>{let r=oN("sha1").update(e).digest("hex");return sN(yo(),".aws","sso","cache",`${r}.json`)};import{promises as iN}from"fs";var{readFile:aN}=iN,Gi=async e=>{let t=Hi(e),r=await aN(t,"utf8");return JSON.parse(r)};import{join as cN}from"path";var dN="AWS_CONFIG_FILE",Ki=()=>process.env[dN]||cN(yo(),".aws","config");import{join as lN}from"path";var uN="AWS_SHARED_CREDENTIALS_FILE",Ly=()=>process.env[uN]||lN(yo(),".aws","credentials");var $y=/^profile\s(["'])?([^\1]+)\1$/,Uy=e=>Object.entries(e).filter(([t])=>$y.test(t)).reduce((t,[r,n])=>({...t,[$y.exec(r)[2]]:n}),{...e.default&&{default:e.default}});var fN=["__proto__","profile __proto__"],hs=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),fN.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),i=0,a=n.length-1;if(s!==-1&&s!==i&&s!==a){let[d,l]=[n.substring(0,s).trim(),n.substring(s+1).trim()];t[r]=t[r]||{},t[r][d]=l}}return t};import{promises as mN}from"fs";var{readFile:hN}=mN,Td={},ps=(e,t)=>((!Td[e]||t!=null&&t.ignoreCache)&&(Td[e]=hN(e,"utf8")),Td[e]);var zy=()=>({}),Vi=async(e={})=>{let{filepath:t=Ly(),configFilepath:r=Ki()}=e,n=await Promise.all([ps(r,{ignoreCache:e.ignoreCache}).then(hs).then(Uy).catch(zy),ps(t,{ignoreCache:e.ignoreCache}).then(hs).catch(zy)]);return{configFile:n[0],credentialsFile:n[1]}};var qy=/^sso-session\s(["'])?([^\1]+)\1$/,jy=e=>Object.entries(e).filter(([t])=>qy.test(t)).reduce((t,[r,n])=>({...t,[qy.exec(r)[2]]:n}),{});var pN=()=>({}),Wi=async(e={})=>ps(e.configFilepath??Ki()).then(hs).then(jy).catch(pN);var Hy=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t};var rn=async e=>{let t=await Vi(e);return Hy(t.configFile,t.credentialsFile)};import{parse as xN}from"url";import{Buffer as yN}from"buffer";import{request as gN}from"http";function pr(e){return new Promise((t,r)=>{var o;let n=gN({method:"GET",...e,hostname:(o=e.hostname)==null?void 0:o.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new dt("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new dt("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new dt("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(yN.concat(a)),n.destroy()})}),n.end()})}var Yi=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Qi=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});var Xi=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t});var ys=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};var gs="AWS_CONTAINER_CREDENTIALS_FULL_URI",xs="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Gy="AWS_CONTAINER_AUTHORIZATION_TOKEN",Ji=(e={})=>{let{timeout:t,maxRetries:r}=Xi(e);return()=>ys(async()=>{let n=await bN(),o=JSON.parse(await EN(t,n));if(!Yi(o))throw new z("Invalid response received from instance metadata service.");return Qi(o)},r)},EN=async(e,t)=>(process.env[Gy]&&(t.headers={...t.headers,Authorization:process.env[Gy]}),(await pr({...t,timeout:e})).toString()),CN="169.254.170.2",wN={localhost:!0,"127.0.0.1":!0},SN={"http:":!0,"https:":!0},bN=async()=>{if(process.env[xs])return{hostname:CN,path:process.env[xs]};if(process.env[gs]){let e=xN(process.env[gs]);if(!e.hostname||!(e.hostname in wN))throw new z(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in SN))throw new z(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new z(`The container metadata credential provider cannot be used unless the ${xs} or ${gs} environment variable is set`,!1)};var Ky=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new z(t.message||`Cannot load config from environment variables with getter: ${e}`)}};var Vy=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=Rt(r),{configFile:o,credentialsFile:s}=await Vi(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new z(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};var _N=e=>typeof e=="function",Wy=e=>_N(e)?async()=>await e():Rp(e);var ae=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>Xr(Ai(Ky(e),Vy(t,n),Wy(r)));var Es;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Es||(Es={}));var AN="AWS_EC2_METADATA_SERVICE_ENDPOINT",RN="ec2_metadata_service_endpoint",Yy={environmentVariableSelector:e=>e[AN],configFileSelector:e=>e[RN],default:void 0};var nn;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(nn||(nn={}));var kN="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",TN="ec2_metadata_service_endpoint_mode",Qy={environmentVariableSelector:e=>e[kN],configFileSelector:e=>e[TN],default:nn.IPv4};var Cs=async()=>it(await NN()||await vN()),NN=async()=>ae(Yy)(),vN=async()=>{let e=await ae(Qy)();switch(e){case nn.IPv4:return Es.IPv4;case nn.IPv6:return Es.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(nn)}`)}};var PN="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Nd=(e,t)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+PN);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}};var Xy=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Nd(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Nd(n,r);else throw s}return n=o,o}};var Jy="/latest/meta-data/iam/security-credentials/",ON="/latest/api/token",Zi=(e={})=>Xy(IN(e),{logger:e.logger}),IN=e=>{let t=!1,{timeout:r,maxRetries:n}=Xi(e),o=async(s,i)=>{let a=(await ys(async()=>{let c;try{c=await BN(i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)).trim();return ys(async()=>{let c;try{c=await MN(a,i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},s)};return async()=>{let s=await Cs();if(t)return o(n,{...s,timeout:r});{let i;try{i=(await DN({...s,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),o(n,{...s,timeout:r})}return o(n,{...s,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},DN=async e=>pr({...e,path:ON,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),BN=async e=>(await pr({...e,path:Jy})).toString(),MN=async(e,t)=>{let r=JSON.parse((await pr({...t,path:Jy+e})).toString());if(!Yi(r))throw new z("Invalid response received from instance metadata service.");return Qi(r)};var Zy=(e,t)=>{let r={EcsContainer:Ji,Ec2InstanceMetadata:Zi,Environment:ji};if(e in r)return r[e]();throw new z(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var eg=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(FN(e)||LN(e)),FN=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",LN=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",tg=async(e,t,r,n={})=>{let o=t[e];if(!r.roleAssumer)throw new z(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:s}=o;if(s&&s in n)throw new z(`Detected a cycle attempting to resolve credentials for profile ${Rt(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=s?ea(s,t,r,{...n,[s]:!0}):Zy(o.credential_source,e)(),a={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id},{mfa_serial:c}=o;if(c){if(!r.mfaCodeProvider)throw new z(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};import{exec as $N}from"child_process";import{promisify as UN}from"util";var rg=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};var ng=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=UN($N);try{let{stdout:s}=await o(n),i;try{i=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return rg(e,i)}catch(s){throw new z(s.message)}}else throw new z(`Profile ${e} did not contain credential_process.`)}else throw new z(`Profile ${e} could not be found in shared credentials file.`)};var ta=(e={})=>async()=>{let t=await rn(e);return ng(Rt(e),t)};var og=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",sg=async(e,t)=>ta({...e,profile:t})();var ws=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");var Dt=class extends bt{constructor(t){super(t),Object.setPrototypeOf(this,Dt.prototype)}};var go=class extends Dt{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,go.prototype)}},xo=class extends Dt{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,xo.prototype)}},Eo=class extends Dt{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Eo.prototype)}},Co=class extends Dt{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,Co.prototype)}},ig=e=>({...e,...e.accessToken&&{accessToken:zt}}),zN=e=>({...e,...e.secretAccessKey&&{secretAccessKey:zt},...e.sessionToken&&{sessionToken:zt}}),ag=e=>({...e,...e.roleCredentials&&{roleCredentials:zN(e.roleCredentials)}});var cg=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i=Ee({},QN,{"x-amz-sso_bearer_token":e.accessToken}),a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/federation/credentials`,c=Ee({role_name:[,lr(e.roleName,"roleName")],account_id:[,lr(e.accountId,"accountId")]}),d;return new oe({protocol:n,hostname:r,port:o,method:"GET",headers:i,path:a,query:c,body:d})};var dg=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return qN(e,t);let r=Ee({$metadata:Ss(e)}),n=lr(Zo(await lg(e.body,t)),"body"),o=De(n,{roleCredentials:rs});return Object.assign(r,o),r},qN=async(e,t)=>{let r={...e,body:await XN(e.body,t)},n=JN(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await HN(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await GN(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await KN(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await VN(r,t);default:let o=r.body;return jN({output:e,parsedBody:o,errorCode:n})}};var jN=Pr(Dt),HN=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{message:U});Object.assign(r,o);let s=new go({$metadata:Ss(e),...r});return ye(s,e.body)},GN=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{message:U});Object.assign(r,o);let s=new xo({$metadata:Ss(e),...r});return ye(s,e.body)},KN=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{message:U});Object.assign(r,o);let s=new Eo({$metadata:Ss(e),...r});return ye(s,e.body)},VN=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{message:U});Object.assign(r,o);let s=new Co({$metadata:Ss(e),...r});return ye(s,e.body)},Ss=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),WN=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),YN=(e,t)=>WN(e,t).then(r=>t.utf8Encoder(r)),QN=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),lg=(e,t)=>YN(e,t).then(r=>r.length?JSON.parse(r):{}),XN=async(e,t)=>{let r=await lg(e,t);return r.message=r.message??r.Message,r},JN=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var wo=class extends St{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(qt(r,this.serialize,this.deserialize)),this.middlewareStack.use(jt(r,wo.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:ig,outputFilterSensitiveLog:ag},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return cg(t,r)}deserialize(t,r){return dg(t,r)}};var ug=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var fg={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.321.1",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.319.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.321.1","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.316.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.316.0","@aws-sdk/util-defaults-mode-node":"3.316.0","@aws-sdk/util-endpoints":"3.319.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};import{Buffer as ev}from"buffer";import{createHash as tv,createHmac as rv}from"crypto";var kt=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(ct(mg(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?rv(this.algorithmIdentifier,mg(this.secret)):tv(this.algorithmIdentifier)}};function mg(e,t){return ev.isBuffer(e)?e:typeof e=="string"?Zn(e,t):ArrayBuffer.isView(e)?fr(e.buffer,e.byteOffset,e.byteLength):fr(e)}function vd(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Qt(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${Qt(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${Qt(n)}`),t.push(o)}}return t.join("&")}import{Agent as ov,request as sv}from"http";import{Agent as iv,request as av}from"https";var hg=["ECONNRESET","EPIPE","ETIMEDOUT"];var Pd=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};var pg=(e,t,r=0)=>{r&&e.on("socket",n=>{if(n.connecting){let o=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);n.on("connect",()=>{clearTimeout(o)})}})};var yg=(e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};import{Readable as nv}from"stream";function Od(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{gg(e,t.body)}):gg(e,t.body)}function gg(e,t){t instanceof nv?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var Xt=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:s,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:s||new ov({keepAlive:a,maxSockets:c}),httpsAgent:i||new iv({keepAlive:a,maxSockets:c})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,o)=>{if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let l=new Error("Request aborted");l.name="AbortError",o(l);return}let s=t.protocol==="https:",i=vd(t.query||{}),a={headers:t.headers,host:t.hostname,method:t.method,path:i?`${t.path}?${i}`:t.path,port:t.port,agent:s?this.config.httpsAgent:this.config.httpAgent},d=(s?av:sv)(a,l=>{let m=new It({statusCode:l.statusCode||-1,headers:Pd(l.headers),body:l});n({response:m})});d.on("error",l=>{hg.includes(l.code)?o(Object.assign(l,{name:"TimeoutError"})):o(l)}),pg(d,o,this.config.connectionTimeout),yg(d,o,this.config.requestTimeout),r&&(r.onabort=()=>{d.abort();let l=new Error("Request aborted");l.name="AbortError",o(l)}),Od(d,t)})}};var Id=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};import{Writable as cv}from"stream";var ra=class extends cv{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};var Jt=e=>new Promise((t,r)=>{let n=new ra;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})});import{fstatSync as dv,lstatSync as lv}from"fs";var on=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return lv(e.path).size;if(typeof e.fd=="number")return dv(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};import{platform as uv,release as fv}from"os";import{env as Eg,versions as mv}from"process";var xg=()=>{try{return typeof G=="function"&&typeof module<"u"&&G("aws-crt")?["md/crt-avail"]:null}catch{return null}};var hv="AWS_SDK_UA_APP_ID",pv="sdk-ua-app-id",sn=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],[`os/${uv()}`,fv()],["lang/js"],["md/nodejs",`${mv.node}`]],n=xg();n&&r.push(n),e&&r.push([`api/${e}`,t]),Eg.AWS_EXECUTION_ENV&&r.push([`exec-env/${Eg.AWS_EXECUTION_ENV}`]);let o=ae({environmentVariableSelector:i=>i[hv],configFileSelector:i=>i[pv],default:void 0})(),s;return async()=>{if(!s){let i=await o;s=i?[...r,[`app/${i}`]]:[...r]}return s}};var yv=/^[A-Za-z0-9+/]*={0,2}$/,an=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!yv.exec(e))throw new TypeError("Invalid base64 string.");let t=Zn(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var cn=e=>fr(e.buffer,e.byteOffset,e.byteLength).toString("base64");var kg="required",yr="fn",gr="argv",So="ref",Dd="PartitionResult",Zt="tree",bs="error",_s="endpoint",Cg={[kg]:!1,type:"String"},wg={[kg]:!0,default:!1,type:"Boolean"},Tg={[So]:"Endpoint"},Ng={[yr]:"booleanEquals",[gr]:[{[So]:"UseFIPS"},!0]},vg={[yr]:"booleanEquals",[gr]:[{[So]:"UseDualStack"},!0]},er={},Sg={[yr]:"booleanEquals",[gr]:[!0,{[yr]:"getAttr",[gr]:[{[So]:Dd},"supportsFIPS"]}]},bg={[yr]:"booleanEquals",[gr]:[!0,{[yr]:"getAttr",[gr]:[{[So]:Dd},"supportsDualStack"]}]},_g=[Tg],Ag=[Ng],Rg=[vg],gv={version:"1.0",parameters:{Region:Cg,UseDualStack:wg,UseFIPS:wg,Endpoint:Cg},rules:[{conditions:[{[yr]:"aws.partition",[gr]:[{[So]:"Region"}],assign:Dd}],type:Zt,rules:[{conditions:[{[yr]:"isSet",[gr]:_g},{[yr]:"parseURL",[gr]:_g,assign:"url"}],type:Zt,rules:[{conditions:Ag,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:bs},{type:Zt,rules:[{conditions:Rg,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:bs},{endpoint:{url:Tg,properties:er,headers:er},type:_s}]}]},{conditions:[Ng,vg],type:Zt,rules:[{conditions:[Sg,bg],type:Zt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:er,headers:er},type:_s}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:bs}]},{conditions:Ag,type:Zt,rules:[{conditions:[Sg],type:Zt,rules:[{type:Zt,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:er,headers:er},type:_s}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:bs}]},{conditions:Rg,type:Zt,rules:[{conditions:[bg],type:Zt,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:er,headers:er},type:_s}]},{error:"DualStack is enabled but this partition does not support DualStack",type:bs}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:er,headers:er},type:_s}]}]},Pg=gv;var Og=(e,t={})=>en(Pg,{endpointParams:e,logger:t.logger});var Ig=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??an,base64Encoder:(e==null?void 0:e.base64Encoder)??cn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Og,logger:(e==null?void 0:e.logger)??new $t,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??it,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Gt,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Lr});var Dg="AWS_EXECUTION_ENV",Bd="AWS_REGION",Md="AWS_DEFAULT_REGION",Bg="AWS_EC2_METADATA_DISABLED",Mg=["in-region","cross-region","mobile","standard","legacy"],Fg="/latest/meta-data/placement/region";var xv="AWS_DEFAULTS_MODE",Ev="defaults_mode",Lg={environmentVariableSelector:e=>e[xv],configFileSelector:e=>e[Ev],default:"legacy"};var dn=({region:e=ae(Vt),defaultsMode:t=ae(Lg)}={})=>Xr(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return Cv(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Mg.join(", ")}, got ${r}`)}}),Cv=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await wv();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},wv=async()=>{if(process.env[Dg]&&(process.env[Bd]||process.env[Md]))return process.env[Bd]??process.env[Md];if(!process.env[Bg])try{let e=await Cs();return(await pr({...e,path:Fg})).toString()}catch{}};var $g=e=>{Ir(process.version);let t=dn(e),r=()=>t().then(Or),n=Ig(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??on,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??sn({serviceId:n.serviceId,clientVersion:fg.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ae(Vr),region:(e==null?void 0:e.region)??ae(Vt,zr),requestHandler:(e==null?void 0:e.requestHandler)??new Xt(r),retryMode:(e==null?void 0:e.retryMode)??ae({...Yr,default:async()=>(await r()).retryMode||Yt}),sha256:(e==null?void 0:e.sha256)??kt.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Jt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ae($r),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ae(Ur)}};var na=class extends Ut{constructor(t){let r=$g(t),n=ug(r),o=qr(n),s=Dr(o),i=Wr(s),a=i,c=Jr(a);super(c),this.config=c,this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(jr(this.config)),this.middlewareStack.use(Hr(this.config)),this.middlewareStack.use(Gr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(tn(this.config))}destroy(){super.destroy()}};var bo="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var Ue=class extends bt{constructor(t){super(t),Object.setPrototypeOf(this,Ue.prototype)}};var _o=class extends Ue{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,_o.prototype),this.error=t.error,this.error_description=t.error_description}},Ao=class extends Ue{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Ao.prototype),this.error=t.error,this.error_description=t.error_description}},Ro=class extends Ue{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Ro.prototype),this.error=t.error,this.error_description=t.error_description}},ko=class extends Ue{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,ko.prototype),this.error=t.error,this.error_description=t.error_description}},To=class extends Ue{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,To.prototype),this.error=t.error,this.error_description=t.error_description}},No=class extends Ue{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,No.prototype),this.error=t.error,this.error_description=t.error_description}},vo=class extends Ue{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,vo.prototype),this.error=t.error,this.error_description=t.error_description}},Po=class extends Ue{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Po.prototype),this.error=t.error,this.error_description=t.error_description}},Oo=class extends Ue{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Oo.prototype),this.error=t.error,this.error_description=t.error_description}},Io=class extends Ue{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Io.prototype),this.error=t.error,this.error_description=t.error_description}},Do=class extends Ue{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Do.prototype),this.error=t.error,this.error_description=t.error_description}};var Ug=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}/token`,c;return c=JSON.stringify(De(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:d=>rs(d)})),new oe({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})};var zg=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Sv(e,t);let r=Ee({$metadata:Tt(e)}),n=lr(Zo(await qg(e.body,t)),"body"),o=De(n,{accessToken:U,expiresIn:ii,idToken:U,refreshToken:U,tokenType:U});return Object.assign(r,o),r},Sv=async(e,t)=>{let r={...e,body:await Fv(e.body,t)},n=Lv(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await _v(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Av(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Rv(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await kv(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Tv(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Nv(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await vv(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Pv(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Ov(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Iv(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Dv(r,t);default:let o=r.body;return bv({output:e,parsedBody:o,errorCode:n})}};var bv=Pr(Ue),_v=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new _o({$metadata:Tt(e),...r});return ye(s,e.body)},Av=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new Ao({$metadata:Tt(e),...r});return ye(s,e.body)},Rv=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new Ro({$metadata:Tt(e),...r});return ye(s,e.body)},kv=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new ko({$metadata:Tt(e),...r});return ye(s,e.body)},Tv=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new To({$metadata:Tt(e),...r});return ye(s,e.body)};var Nv=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new No({$metadata:Tt(e),...r});return ye(s,e.body)},vv=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new vo({$metadata:Tt(e),...r});return ye(s,e.body)},Pv=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new Po({$metadata:Tt(e),...r});return ye(s,e.body)},Ov=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new Oo({$metadata:Tt(e),...r});return ye(s,e.body)},Iv=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new Io({$metadata:Tt(e),...r});return ye(s,e.body)},Dv=async(e,t)=>{let r=Ee({}),n=e.body,o=De(n,{error:U,error_description:U});Object.assign(r,o);let s=new Do({$metadata:Tt(e),...r});return ye(s,e.body)},Tt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Bv=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),Mv=(e,t)=>Bv(e,t).then(r=>t.utf8Encoder(r));var qg=(e,t)=>Mv(e,t).then(r=>r.length?JSON.parse(r):{}),Fv=async(e,t)=>{let r=await qg(e,t);return r.message=r.message??r.Message,r},Lv=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var Bo=class extends St{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(qt(r,this.serialize,this.deserialize)),this.middlewareStack.use(jt(r,Bo.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return Ug(t,r)}deserialize(t,r){return zg(t,r)}};var jg=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var Hg={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.321.1",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.319.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.321.1","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.316.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.316.0","@aws-sdk/util-defaults-mode-node":"3.316.0","@aws-sdk/util-endpoints":"3.319.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var Jg="required",xr="fn",Er="argv",Mo="ref",Ld="PartitionResult",tr="tree",As="error",Rs="endpoint",Gg={[Jg]:!1,type:"String"},Kg={[Jg]:!0,default:!1,type:"Boolean"},Zg={[Mo]:"Endpoint"},ex={[xr]:"booleanEquals",[Er]:[{[Mo]:"UseFIPS"},!0]},tx={[xr]:"booleanEquals",[Er]:[{[Mo]:"UseDualStack"},!0]},rr={},Vg={[xr]:"booleanEquals",[Er]:[!0,{[xr]:"getAttr",[Er]:[{[Mo]:Ld},"supportsFIPS"]}]},Wg={[xr]:"booleanEquals",[Er]:[!0,{[xr]:"getAttr",[Er]:[{[Mo]:Ld},"supportsDualStack"]}]},Yg=[Zg],Qg=[ex],Xg=[tx],Uv={version:"1.0",parameters:{Region:Gg,UseDualStack:Kg,UseFIPS:Kg,Endpoint:Gg},rules:[{conditions:[{[xr]:"aws.partition",[Er]:[{[Mo]:"Region"}],assign:Ld}],type:tr,rules:[{conditions:[{[xr]:"isSet",[Er]:Yg},{[xr]:"parseURL",[Er]:Yg,assign:"url"}],type:tr,rules:[{conditions:Qg,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:As},{type:tr,rules:[{conditions:Xg,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:As},{endpoint:{url:Zg,properties:rr,headers:rr},type:Rs}]}]},{conditions:[ex,tx],type:tr,rules:[{conditions:[Vg,Wg],type:tr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},type:Rs}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:As}]},{conditions:Qg,type:tr,rules:[{conditions:[Vg],type:tr,rules:[{type:tr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:rr,headers:rr},type:Rs}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:As}]},{conditions:Xg,type:tr,rules:[{conditions:[Wg],type:tr,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},type:Rs}]},{error:"DualStack is enabled but this partition does not support DualStack",type:As}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:rr,headers:rr},type:Rs}]}]},rx=Uv;var nx=(e,t={})=>en(rx,{endpointParams:e,logger:t.logger});var ox=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??an,base64Encoder:(e==null?void 0:e.base64Encoder)??cn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??nx,logger:(e==null?void 0:e.logger)??new $t,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??it,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Gt,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Lr});var sx=e=>{Ir(process.version);let t=dn(e),r=()=>t().then(Or),n=ox(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??on,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??sn({serviceId:n.serviceId,clientVersion:Hg.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ae(Vr),region:(e==null?void 0:e.region)??ae(Vt,zr),requestHandler:(e==null?void 0:e.requestHandler)??new Xt(r),retryMode:(e==null?void 0:e.retryMode)??ae({...Yr,default:async()=>(await r()).retryMode||Yt}),sha256:(e==null?void 0:e.sha256)??kt.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Jt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ae($r),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ae(Ur)}};var oa=class extends Ut{constructor(t){let r=sx(t),n=jg(r),o=qr(n),s=Dr(o),i=Wr(s),a=i,c=Jr(a);super(c),this.config=c,this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(jr(this.config)),this.middlewareStack.use(Hr(this.config)),this.middlewareStack.use(Gr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(tn(this.config))}destroy(){super.destroy()}};var $d={},ix=e=>{if($d[e])return $d[e];let t=new oa({region:e});return $d[e]=t,t};var ax=(e,t)=>ix(t).send(new Bo({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));var Ud=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new lt(`Token is expired. ${bo}`,!1)};var ln=(e,t,r=!1)=>{if(typeof t>"u")throw new lt(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${bo}`,!1)};import{promises as zv}from"fs";var{writeFile:qv}=zv,cx=(e,t)=>{let r=Hi(e),n=JSON.stringify(t,null,2);return qv(r,n)};var dx=new Date(0),lx=(e={})=>async()=>{let t=await rn(e),r=Rt(e),n=t[r];if(n){if(!n.sso_session)throw new lt(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new lt(`Profile '${r}' could not be found in shared credentials file.`,!1);let o=n.sso_session,i=(await Wi(e))[o];if(!i)throw new lt(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let C of["sso_start_url","sso_region"])if(!i[C])throw new lt(`Sso session '${o}' is missing required property '${C}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await Gi(o)}catch{throw new lt(`The SSO session token associated with profile=${r} was not found or is invalid. ${bo}`,!1)}ln("accessToken",d.accessToken),ln("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:m}=d,f={token:l,expiration:new Date(m)};if(f.expiration.getTime()-Date.now()>3e5)return f;if(Date.now()-dx.getTime()<30*1e3)return Ud(f),f;ln("clientId",d.clientId,!0),ln("clientSecret",d.clientSecret,!0),ln("refreshToken",d.refreshToken,!0);try{dx.setTime(Date.now());let C=await ax(d,c);ln("accessToken",C.accessToken),ln("expiresIn",C.expiresIn);let g=new Date(Date.now()+C.expiresIn*1e3);try{await cx(o,{...d,accessToken:C.accessToken,expiresAt:g.toISOString(),refreshToken:C.refreshToken})}catch{}return{token:C.accessToken,expiration:g}}catch{return Ud(f),f}};var Hv=15*60*1e3,ks=!1,zd=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let T=await lx({profile:i})();a={accessToken:T.token,expiresAt:new Date(T.expiration).toISOString()}}catch(T){throw new z(T.message,ks)}else try{a=await Gi(e)}catch{throw new z(`The SSO session associated with this profile is invalid. ${c}`,ks)}if(new Date(a.expiresAt).getTime()-Date.now()<=Hv)throw new z(`The SSO session associated with this profile has expired. ${c}`,ks);let{accessToken:d}=a,l=s||new na({region:n}),m;try{m=await l.send(new wo({accountId:r,roleName:o,accessToken:d}))}catch(T){throw z.from(T,ks)}let{roleCredentials:{accessKeyId:f,secretAccessKey:C,sessionToken:g,expiration:b}={}}=m;if(!f||!C||!g||!b)throw new z("SSO returns an invalid temporary credential.",ks);return{accessKeyId:f,secretAccessKey:C,sessionToken:g,expiration:new Date(b)}};var sa=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new z(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};var ia=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,ssoSession:i}=e,a=Rt(e);if(!t&&!r&&!n&&!o&&!i){let d=(await rn(e))[a];if(!d)throw new z(`Profile ${a} was not found.`);if(!ws(d))throw new z(`Profile ${a} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let T=(await Wi(e))[d.sso_session],$=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==T.sso_region)throw new z("Conflicting SSO region"+$,!1);if(t&&t!==T.sso_start_url)throw new z("Conflicting SSO start_url"+$,!1);d.sso_region=T.sso_region,d.sso_start_url=T.sso_start_url}let{sso_start_url:l,sso_account_id:m,sso_region:f,sso_role_name:C,sso_session:g}=sa(d);return zd({ssoStartUrl:l,ssoSession:g,ssoAccountId:m,ssoRegion:f,ssoRoleName:C,ssoClient:s,profile:a})}else{if(!t||!r||!n||!o)throw new z('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return zd({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:a})}};var ux=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:o,sso_role_name:s}=sa(e);return ia({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:o,ssoRoleName:s})()};var qd=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,jd=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});import{readFileSync as Gv}from"fs";var fx=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:s,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new z(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:s,Policy:i,DurationSeconds:a})};var Kv="AWS_WEB_IDENTITY_TOKEN_FILE",Vv="AWS_ROLE_ARN",Wv="AWS_ROLE_SESSION_NAME",aa=(e={})=>async()=>Yv(e),Yv=e=>{let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[Kv],r=(e==null?void 0:e.roleArn)??process.env[Vv],n=(e==null?void 0:e.roleSessionName)??process.env[Wv];if(!t||!r)throw new z("Web identity configuration not specified");return fx({...e,webIdentityToken:Gv(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};var mx=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,hx=async(e,t)=>aa({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();var ea=async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&qd(o))return jd(o);if(eg(o))return tg(e,t,r,n);if(qd(o))return jd(o);if(mx(o))return hx(o,r);if(og(o))return sg(r,e);if(ws(o))return ux(o);throw new z(`Profile ${e} could not be found or parsed in shared credentials file.`)};var px=(e={})=>async()=>{let t=await rn(e);return ea(Rt(e),t,e)};var Qv="AWS_EC2_METADATA_DISABLED",yx=e=>process.env[xs]||process.env[gs]?Ji(e):process.env[Qv]?async()=>{throw new z("EC2 Instance Metadata Service access disabled")}:Zi(e);var ca=(e={})=>Xr(Ai(...e.profile||process.env[kd]?[]:[ji()],ia(e),px(e),ta(e),aa(e),yx(e),async()=>{throw new z("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);var Ax="required",J="type",le="fn",ue="argv",un="ref",An="properties",Rn="headers";var Gd="PartitionResult",Nt="tree",kn="booleanEquals",Ke="stringEquals",Rx="sigv4",kx="us-east-1",Tx="sts",Ae="endpoint",Nx="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ts="error",Kd="getAttr",gx={[Ax]:!1,[J]:"String"},Hd={[Ax]:!0,default:!1,[J]:"Boolean"},Ve={[un]:"Region"},vx={[un]:"UseFIPS"},Px={[un]:"UseDualStack"},xx={[le]:"isSet",[ue]:[{[un]:"Endpoint"}]},Ox={[un]:"Endpoint"},We={url:"https://sts.amazonaws.com",[An]:{authSchemes:[{name:Rx,signingRegion:kx,signingName:Tx}]},[Rn]:{}},Cr={},Ex={conditions:[{[le]:Ke,[ue]:[Ve,"aws-global"]}],[Ae]:We,[J]:Ae},Ix={[le]:kn,[ue]:[vx,!0]},Dx={[le]:kn,[ue]:[Px,!0]},Cx={[le]:kn,[ue]:[!0,{[le]:Kd,[ue]:[{[un]:Gd},"supportsFIPS"]}]},Bx={[un]:Gd},wx={[le]:kn,[ue]:[!0,{[le]:Kd,[ue]:[Bx,"supportsDualStack"]}]},Sx={url:Nx,[An]:{},[Rn]:{}},Xv=[Ox],bx=[Ix],_x=[Dx],Jv={version:"1.0",parameters:{Region:gx,UseDualStack:Hd,UseFIPS:Hd,Endpoint:gx,UseGlobalEndpoint:Hd},rules:[{conditions:[{[le]:"aws.partition",[ue]:[Ve],assign:Gd}],[J]:Nt,rules:[{conditions:[{[le]:kn,[ue]:[{[un]:"UseGlobalEndpoint"},!0]},{[le]:kn,[ue]:[vx,!1]},{[le]:kn,[ue]:[Px,!1]},{[le]:"not",[ue]:[xx]}],[J]:Nt,rules:[{conditions:[{[le]:Ke,[ue]:[Ve,"ap-northeast-1"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"ap-south-1"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"ap-southeast-1"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"ap-southeast-2"]}],endpoint:We,[J]:Ae},Ex,{conditions:[{[le]:Ke,[ue]:[Ve,"ca-central-1"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"eu-central-1"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"eu-north-1"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"eu-west-1"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"eu-west-2"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"eu-west-3"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"sa-east-1"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,kx]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"us-east-2"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"us-west-1"]}],endpoint:We,[J]:Ae},{conditions:[{[le]:Ke,[ue]:[Ve,"us-west-2"]}],endpoint:We,[J]:Ae},{endpoint:{url:Nx,[An]:{authSchemes:[{name:Rx,signingRegion:"{Region}",signingName:Tx}]},[Rn]:Cr},[J]:Ae}]},{conditions:[xx,{[le]:"parseURL",[ue]:Xv,assign:"url"}],[J]:Nt,rules:[{conditions:bx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[J]:Ts},{[J]:Nt,rules:[{conditions:_x,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[J]:Ts},{endpoint:{url:Ox,[An]:Cr,[Rn]:Cr},[J]:Ae}]}]},{conditions:[Ix,Dx],[J]:Nt,rules:[{conditions:[Cx,wx],[J]:Nt,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[An]:Cr,[Rn]:Cr},[J]:Ae}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[J]:Ts}]},{conditions:bx,[J]:Nt,rules:[{conditions:[Cx],[J]:Nt,rules:[{[J]:Nt,rules:[{conditions:[{[le]:Ke,[ue]:["aws-us-gov",{[le]:Kd,[ue]:[Bx,"name"]}]}],endpoint:Sx,[J]:Ae},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[An]:Cr,[Rn]:Cr},[J]:Ae}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[J]:Ts}]},{conditions:_x,[J]:Nt,rules:[{conditions:[wx],[J]:Nt,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[An]:Cr,[Rn]:Cr},[J]:Ae}]},{error:"DualStack is enabled but this partition does not support DualStack",[J]:Ts}]},{[J]:Nt,rules:[Ex,{endpoint:Sx,[J]:Ae}]}]}]},Mx=Jv;var Fx=(e,t={})=>en(Mx,{endpointParams:e,logger:t.logger});var Lx=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??an,base64Encoder:(e==null?void 0:e.base64Encoder)??cn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Fx,logger:(e==null?void 0:e.logger)??new $t,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??it,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Gt,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Lr});var $x=e=>{Ir(process.version);let t=dn(e),r=()=>t().then(Or),n=Lx(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??on,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??Fy(ca),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??sn({serviceId:n.serviceId,clientVersion:Dy.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ae(Vr),region:(e==null?void 0:e.region)??ae(Vt,zr),requestHandler:(e==null?void 0:e.requestHandler)??new Xt(r),retryMode:(e==null?void 0:e.retryMode)??ae({...Yr,default:async()=>(await r()).retryMode||Yt}),sha256:(e==null?void 0:e.sha256)??kt.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Jt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ae($r),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ae(Ur)}};var Tn=class extends Ut{constructor(t){let r=$x(t),n=Iy(r),o=qr(n),s=Dr(o),i=Wr(s),a=i,c=Oy(a,{stsClientCtor:Tn}),d=Jr(c);super(d),this.config=d,this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(jr(this.config)),this.middlewareStack.use(Hr(this.config)),this.middlewareStack.use(Gr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(tn(this.config))}destroy(){super.destroy()}};var Ux=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,Zv=(e={},t)=>Ad(e,Ux(Tn,t)),eP=(e={},t)=>Rd(e,Ux(Tn,t)),zx=e=>t=>e({roleAssumer:Zv(t),roleAssumerWithWebIdentity:eP(t),...t});var Wx=xt(ds());var fn=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&qx(r),new fn(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&qx(t),parseInt(Ge(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function qx(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var da=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let s of Object.keys(t)){let i=this.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(fn.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!dP.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let m=new Uint8Array(17);return m[0]=9,m.set(Tp(t.value.replace(/\-/g,"")),1),m}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[s]={type:Hx,value:!0};break;case 1:r[s]={type:Hx,value:!1};break;case 2:r[s]={type:tP,value:t.getInt8(n++)};break;case 3:r[s]={type:rP,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:nP,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:oP,value:new fn(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let i=t.getUint16(n,!1);n+=2,r[s]={type:sP,value:new Uint8Array(t.buffer,t.byteOffset+n,i)},n+=i;break;case 7:let a=t.getUint16(n,!1);n+=2,r[s]={type:iP,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:aP,value:new Date(new fn(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:cP,value:`${Ge(c.subarray(0,4))}-${Ge(c.subarray(4,6))}-${Ge(c.subarray(6,8))}-${Ge(c.subarray(8,10))}-${Ge(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},jx;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(jx||(jx={}));var Hx="boolean",tP="byte",rP="short",nP="integer",oP="long",sP="binary",iP="string",aP="timestamp",cP="uuid",dP=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var Gx=xt(ds()),Kx=4,mn=Kx*2,Nn=4,lP=mn+Nn*2;function Vx({byteLength:e,byteOffset:t,buffer:r}){if(e<lP)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let s=n.getUint32(Kx,!1),i=n.getUint32(mn,!1),a=n.getUint32(e-Nn,!1),c=new Gx.Crc32().update(new Uint8Array(r,t,mn));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+mn,e-(mn+Nn))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+mn+Nn,s),body:new Uint8Array(r,t+mn+Nn+s,o-s-(mn+Nn+Nn))}}var la=class{constructor(t,r){this.headerMarshaller=new da(t,r)}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,s=new Uint8Array(o),i=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Wx.Crc32;return i.setUint32(0,o,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),i.setUint32(o-4,a.update(s.subarray(8,o-4)).digest(),!1),s}decode(t){let{headers:r,body:n}=Vx(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};function Yx(e){let t=0,r=0,n=null,o=null,s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},i=async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let l=c.length,m=0;for(;m<l;){if(!n){let C=l-m;o||(o=new Uint8Array(4));let g=Math.min(4-r,C);if(o.set(c.slice(m,m+g),r),r+=g,m+=g,r<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}let f=Math.min(t-r,l-m);n.set(c.slice(m,m+f),r),r+=f,m+=f,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function Qx(e,t){return{[Symbol.asyncIterator]:async function*(){for await(let r of e){let n=t.eventStreamCodec.decode(r),{value:o}=n.headers[":message-type"];if(o==="error"){let s=new Error(n.headers[":error-message"].value||"UnknownError");throw s.name=n.headers[":error-code"].value,s}else if(o==="exception"){let s=n.headers[":exception-type"].value,i={[s]:n},a=await t.deserializer(i);if(a.$unknown){let c=new Error(t.toUtf8(n.body));throw c.name=s,c}throw a[s]}else if(o==="event"){let s={[n.headers[":event-type"].value]:n},i=await t.deserializer(s);if(i.$unknown)continue;yield i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}}}var Ns=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new la(t,r),this.utfEncoder=t}deserialize(t,r){let n=Yx(t);return Qx(n,{eventStreamCodec:this.eventStreamCodec,deserializer:r,toUtf8:this.utfEncoder})}serialize(t,r){let n=this,o=async function*(){for await(let s of t)yield n.eventStreamCodec.encode(r(s));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:o}}};import{Readable as uP}from"stream";async function*Xx(e){let t=!1,r=!1,n=new Array;for(e.on("error",o=>{if(t||(t=!0),o)throw o}),e.on("data",o=>{n.push(o)}),e.on("end",()=>{t=!0});!r;){let o=await new Promise(s=>setTimeout(()=>s(n.shift()),0));o&&(yield o),r=t&&n.length===0}}var ua=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Ns({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:Xx(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return uP.from(this.universalMarshaller.serialize(t,r))}};var Jx=e=>new ua(e);import{Writable as fP}from"stream";var vs=class extends fP{constructor(t,r){super(r),this.hash=t}_write(t,r,n){try{this.hash.update(ct(t))}catch(o){return n(o)}n()}};var Zx=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new vs(r);return t.pipe(n),new Promise((o,s)=>{t.on("error",i=>{n.end(),s(i)}),n.on("error",s),n.on("finish",()=>{r.digest().then(o).catch(s)})})};var mP="AWS_S3_USE_ARN_REGION",hP="s3_use_arn_region",eE={environmentVariableSelector:e=>Kt(e,mP,_t.ENV),configFileSelector:e=>Kt(e,hP,_t.CONFIG),default:!1};import{Readable as _P}from"stream";var tE=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new _P({read:()=>{}});return e.on("data",l=>{d.push(`${(n(l)||0).toString(16)}\r
${l.toString()}\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${s}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};import{Readable as Vd}from"stream";import{TextDecoder as AP}from"util";var rE="The stream has already been transformed.",nE=e=>{var n,o;if(!(e instanceof Vd)){let s=((o=(n=e==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(rE);return t=!0,await Jt(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let i=await r();return s===void 0||Buffer.isEncoding(s)?fr(i.buffer,i.byteOffset,i.byteLength).toString(s):new AP(s).decode(i)},transformToWebStream:()=>{if(t)throw new Error(rE);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Vd.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,Vd.toWeb(e)}})};var fa=class{constructor(t){this.sigv4Signer=new _n(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let t;try{if(t=typeof G=="function"&&G("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var pl="required",u="type",x="rules",y="conditions",h="fn",p="argv",w="ref",ze="assign",P="url",O="properties",q="authSchemes",j="disableDoubleEncoding",H="signingName",K="signingRegion",I="headers";var E="tree",pt="isSet",Ps="substring",lC="hardwareType",uC="regionPrefix",oE="abbaSuffix",ml="outpostId",Ms="aws.partition",M="stringEquals",On="isValidHostLabel",Ne="not",D="error",fC="parseURL",yl="s3-outposts",S="endpoint",N="booleanEquals",mC="aws.parseArn",W="s3",sE="aws.isVirtualHostableS3Bucket",Re="getAttr",L="name",Wd="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",hC="https://{Bucket}.s3.{partitionResult#dnsSuffix}",pC="bucketArn",yC="arnType",xa="",gl="s3-object-lambda",gC="accesspoint",xl="accessPointName",iE="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",aE="mrapPartition",cE="outpostType",dE="arnPrefix",In="{url#scheme}://{url#authority}{url#path}",xC="https://s3.{partitionResult#dnsSuffix}",Yd={[pl]:!1,[u]:"String"},Os={[pl]:!0,default:!1,[u]:"Boolean"},ma={[pl]:!1,[u]:"Boolean"},EC={[h]:pt,[p]:[{[w]:"Bucket"}]},nr={[w]:"Bucket"},lE={[w]:lC},uE={[y]:[{[h]:Ne,[p]:[{[h]:pt,[p]:[{[w]:"Endpoint"}]}]}],[D]:"Expected a endpoint to be specified but no endpoint was found",[u]:D},Y={[h]:Ne,[p]:[{[h]:pt,[p]:[{[w]:"Endpoint"}]}]},ne={[h]:pt,[p]:[{[w]:"Endpoint"}]},pe={[h]:fC,[p]:[{[w]:"Endpoint"}],[ze]:"url"},ha={[q]:[{[j]:!0,[L]:"sigv4",[H]:yl,[K]:"{Region}"}]},Me={},fE={[w]:"ForcePathStyle"},mE={[y]:[{[h]:"uriEncode",[p]:[nr],[ze]:"uri_encoded_bucket"}],[u]:E,[x]:[{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},ne],[D]:"Cannot set dual-stack in combination with a custom endpoint.",[u]:D},{[u]:E,[x]:[{[y]:[{[h]:Ms,[p]:[{[w]:"Region"}],[ze]:"partitionResult"}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:N,[p]:[{[w]:"Accelerate"},!1]}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:E,[x]:[{[S]:{[P]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},ne,pe,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},ne,pe,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},ne,pe,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:E,[x]:[{[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},ne,pe,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:E,[x]:[{[S]:{[P]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!0]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:E,[x]:[{[S]:{[P]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!0]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},ne,pe,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},ne,pe,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},ne,pe,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:E,[x]:[{[y]:[{[h]:M,[p]:[{[w]:"Region"},"us-east-1"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S},{[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},ne,pe,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]}],[u]:E,[x]:[{[y]:[{[h]:M,[p]:[{[w]:"Region"},"us-east-1"]}],[S]:{[P]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S},{[S]:{[P]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S}]},{[y]:[{[h]:N,[p]:[{[w]:"UseDualStack"},!1]},Y,{[h]:N,[p]:[{[w]:"UseFIPS"},!1]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},{[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]}],[S]:{[P]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},[I]:{}},[u]:S}]}]},{[D]:"Path-style addressing cannot be used with S3 Accelerate",[u]:D}]}]},{[D]:"A valid partition could not be determined",[u]:D}]}]},ge={[h]:N,[p]:[{[w]:"UseDualStack"},!0]},$e={[h]:N,[p]:[{[w]:"Accelerate"},!1]},be={[h]:N,[p]:[{[w]:"UseFIPS"},!0]},de={[h]:Ne,[p]:[{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}]},Ye={[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!0]},Xe={[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{Region}"}]},Qe={[h]:N,[p]:[{[w]:"UseGlobalEndpoint"},!1]},fe={[h]:N,[p]:[{[w]:"UseDualStack"},!1]},se={[h]:N,[p]:[{[w]:"UseFIPS"},!1]},vn={[D]:"A valid partition could not be determined",[u]:D},Qd={[y]:[be,{[h]:M,[p]:[{[h]:Re,[p]:[{[w]:"partitionResult"},L]},"aws-cn"]}],[D]:"Partition does not support FIPS",[u]:D},RP={[h]:M,[p]:[{[h]:Re,[p]:[{[w]:"partitionResult"},L]},"aws-cn"]},Bt={[h]:N,[p]:[{[w]:"Accelerate"},!0]},hE={[y]:[ge,be,$e,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},pE={[P]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},yE={[y]:[fe,be,$e,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},gE={[P]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},xE={[y]:[ge,se,Bt,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},EE={[P]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},CE={[y]:[ge,se,$e,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},wE={[P]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},SE={[y]:[fe,se,$e,ne,pe,{[h]:N,[p]:[{[h]:Re,[p]:[{[w]:"url"},"isIp"]},!0]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},bE={[h]:N,[p]:[{[h]:Re,[p]:[{[w]:"url"},"isIp"]},!0]},El={[w]:"url"},_E={[y]:[fe,se,$e,ne,pe,{[h]:N,[p]:[{[h]:Re,[p]:[El,"isIp"]},!1]},{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},AE={[h]:N,[p]:[{[h]:Re,[p]:[El,"isIp"]},!1]},Xd={[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[O]:Xe,[I]:{}},hl={[P]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[O]:Xe,[I]:{}},RE={[S]:hl,[u]:S},kE={[y]:[fe,se,Bt,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},Jd={[P]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},TE={[y]:[fe,se,$e,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:hC,[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},NE={[P]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},pa={[D]:"Invalid region: region was not a valid DNS name.",[u]:D},ft={[w]:pC},CC={[w]:yC},Zd={[h]:Re,[p]:[ft,"service"]},Cl={[w]:xl},vE={[y]:[ge],[D]:"S3 Object Lambda does not support Dual-stack",[u]:D},PE={[y]:[Bt],[D]:"S3 Object Lambda does not support S3 Accelerate",[u]:D},OE={[y]:[{[h]:pt,[p]:[{[w]:"DisableAccessPoints"}]},{[h]:N,[p]:[{[w]:"DisableAccessPoints"},!0]}],[D]:"Access points are not supported for this operation",[u]:D},el={[y]:[{[h]:pt,[p]:[{[w]:"UseArnRegion"}]},{[h]:N,[p]:[{[w]:"UseArnRegion"},!1]},{[h]:Ne,[p]:[{[h]:M,[p]:[{[h]:Re,[p]:[ft,"region"]},"{Region}"]}]}],[D]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[u]:D},wl={[h]:Re,[p]:[{[w]:"bucketPartition"},L]},wC={[h]:Re,[p]:[ft,"accountId"]},IE={[y]:[be,{[h]:M,[p]:[wl,"aws-cn"]}],[D]:"Partition does not support FIPS",[u]:D},tl={[q]:[{[j]:!0,[L]:"sigv4",[H]:gl,[K]:"{bucketArn#region}"}]},DE={[D]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[u]:D},rl={[D]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[u]:D},nl={[D]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[u]:D},ol={[D]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[u]:D},BE={[D]:"Could not load partition for ARN region `{bucketArn#region}`",[u]:D},ME={[D]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[u]:D},FE={[D]:"Invalid ARN: bucket ARN is missing a region",[u]:D},LE={[D]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[u]:D},Is={[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"{bucketArn#region}"}]},$E={[q]:[{[j]:!0,[L]:"sigv4",[H]:yl,[K]:"{bucketArn#region}"}]},UE={[w]:"UseObjectLambdaEndpoint"},sl={[q]:[{[j]:!0,[L]:"sigv4",[H]:gl,[K]:"{Region}"}]},zE={[y]:[be,ge,ne,pe,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:In,[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},SC={[S]:{[P]:In,[O]:Xe,[I]:{}},[u]:S},Ds={[P]:In,[O]:Xe,[I]:{}},qE={[y]:[be,ge,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},jE={[P]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},HE={[y]:[be,fe,ne,pe,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:In,[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},GE={[y]:[be,fe,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},KE={[P]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},VE={[y]:[se,ge,ne,pe,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:In,[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},WE={[y]:[se,ge,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},YE={[P]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},QE={[y]:[se,fe,ne,pe,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:In,[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},XE={[y]:[se,fe,Y,{[h]:M,[p]:[{[w]:"Region"},"aws-global"]}],[S]:{[P]:xC,[O]:{[q]:[{[j]:!0,[L]:"sigv4",[H]:W,[K]:"us-east-1"}]},[I]:{}},[u]:S},JE={[P]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[O]:Xe,[I]:{}},ga=[{[w]:"Region"}],kP=[nr],ZE=[{[h]:On,[p]:[{[w]:ml},!1]}],eC=[{[h]:M,[p]:[{[w]:uC},"beta"]}],TP=[{[w]:"Endpoint"}],Bs=[ne,pe],tC=[EC],rC=[{[h]:mC,[p]:[nr]}],NP=[ge,ne],Pn=[{[h]:Ms,[p]:ga,[ze]:"partitionResult"}],Fo=[{[h]:M,[p]:[{[w]:"Region"},"us-east-1"]}],nC=[{[h]:On,[p]:[{[w]:"Region"},!1]}],il=[{[h]:M,[p]:[CC,gC]}],oC=[{[h]:Re,[p]:[ft,"resourceId[1]"],[ze]:xl},{[h]:Ne,[p]:[{[h]:M,[p]:[Cl,xa]}]}],vP=[ft,"resourceId[1]"],sC=[ge],al=[Bt],cl=[{[h]:Ne,[p]:[{[h]:M,[p]:[{[h]:Re,[p]:[ft,"region"]},xa]}]}],iC=[{[h]:Ne,[p]:[{[h]:pt,[p]:[{[h]:Re,[p]:[ft,"resourceId[2]"]}]}]}],PP=[ft,"resourceId[2]"],dl=[{[h]:Ms,[p]:[{[h]:Re,[p]:[ft,"region"]}],[ze]:"bucketPartition"}],aC=[{[h]:M,[p]:[wl,{[h]:Re,[p]:[{[w]:"partitionResult"},L]}]}],ll=[{[h]:On,[p]:[{[h]:Re,[p]:[ft,"region"]},!0]}],ul=[{[h]:On,[p]:[wC,!1]}],cC=[{[h]:On,[p]:[Cl,!1]}],ya=[be],dC=[{[h]:On,[p]:[{[w]:"Region"},!0]}],fl=[SC],OP={version:"1.0",parameters:{Bucket:Yd,Region:Yd,UseFIPS:Os,UseDualStack:Os,Endpoint:Yd,ForcePathStyle:ma,Accelerate:Os,UseGlobalEndpoint:Os,UseObjectLambdaEndpoint:ma,DisableAccessPoints:ma,DisableMultiRegionAccessPoints:Os,UseArnRegion:ma},[x]:[{[u]:E,[x]:[{[y]:[{[h]:pt,[p]:ga}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:[EC,{[h]:Ps,[p]:[nr,49,50,!0],[ze]:lC},{[h]:Ps,[p]:[nr,8,12,!0],[ze]:uC},{[h]:Ps,[p]:[nr,0,7,!0],[ze]:oE},{[h]:Ps,[p]:[nr,32,49,!0],[ze]:ml},{[h]:Ms,[p]:ga,[ze]:"regionPartition"},{[h]:M,[p]:[{[w]:oE},"--op-s3"]}],[u]:E,[x]:[{[y]:ZE,[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:M,[p]:[lE,"e"]}],[u]:E,[x]:[{[y]:eC,[u]:E,[x]:[uE,{[y]:Bs,endpoint:{[P]:"https://{Bucket}.ec2.{url#authority}",[O]:ha,[I]:Me},[u]:S}]},{endpoint:{[P]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[O]:ha,[I]:Me},[u]:S}]},{[y]:[{[h]:M,[p]:[lE,"o"]}],[u]:E,[x]:[{[y]:eC,[u]:E,[x]:[uE,{[y]:Bs,endpoint:{[P]:"https://{Bucket}.op-{outpostId}.{url#authority}",[O]:ha,[I]:Me},[u]:S}]},{endpoint:{[P]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[O]:ha,[I]:Me},[u]:S}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[u]:D}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[u]:D}]},{[y]:tC,[u]:E,[x]:[{[y]:[ne,{[h]:Ne,[p]:[{[h]:pt,[p]:[{[h]:fC,[p]:TP}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[u]:D},{[u]:E,[x]:[{[y]:[{[h]:pt,[p]:[fE]},{[h]:N,[p]:[fE,!0]}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:rC,error:"Path-style addressing cannot be used with ARN buckets",[u]:D},mE]}]},{[y]:[{[h]:sE,[p]:[nr,!1]}],[u]:E,[x]:[{[y]:Pn,[u]:E,[x]:[{[u]:E,[x]:[{[y]:nC,[u]:E,[x]:[{[u]:E,[x]:[Qd,{[u]:E,[x]:[{[y]:[Bt,be],error:"Accelerate cannot be used with FIPS",[u]:D},{[u]:E,[x]:[{[y]:[Bt,RP],error:"S3 Accelerate cannot be used in this region",[u]:D},{[u]:E,[x]:[{[y]:[ne,ge],error:Wd,[u]:D},{[u]:E,[x]:[{[y]:[ne,be],error:Wd,[u]:D},{[u]:E,[x]:[{[y]:[ne,Bt],error:Wd,[u]:D},{[u]:E,[x]:[hE,hE,{[y]:[ge,be,$e,Y,de,Ye],[u]:E,[x]:[{endpoint:pE,[u]:S}]},{[y]:[ge,be,$e,Y,de,Qe],endpoint:pE,[u]:S},yE,yE,{[y]:[fe,be,$e,Y,de,Ye],[u]:E,[x]:[{endpoint:gE,[u]:S}]},{[y]:[fe,be,$e,Y,de,Qe],endpoint:gE,[u]:S},xE,xE,{[y]:[ge,se,Bt,Y,de,Ye],[u]:E,[x]:[{endpoint:EE,[u]:S}]},{[y]:[ge,se,Bt,Y,de,Qe],endpoint:EE,[u]:S},CE,CE,{[y]:[ge,se,$e,Y,de,Ye],[u]:E,[x]:[{endpoint:wE,[u]:S}]},{[y]:[ge,se,$e,Y,de,Qe],endpoint:wE,[u]:S},SE,_E,SE,_E,{[y]:[fe,se,$e,ne,pe,bE,de,Ye],[u]:E,[x]:[{[y]:Fo,endpoint:Xd,[u]:S},{endpoint:Xd,[u]:S}]},{[y]:[fe,se,$e,ne,pe,AE,de,Ye],[u]:E,[x]:[{[y]:Fo,endpoint:hl,[u]:S},RE]},{[y]:[fe,se,$e,ne,pe,bE,de,Qe],endpoint:Xd,[u]:S},{[y]:[fe,se,$e,ne,pe,AE,de,Qe],endpoint:hl,[u]:S},kE,kE,{[y]:[fe,se,Bt,Y,de,Ye],[u]:E,[x]:[{[y]:Fo,endpoint:Jd,[u]:S},{endpoint:Jd,[u]:S}]},{[y]:[fe,se,Bt,Y,de,Qe],endpoint:Jd,[u]:S},TE,TE,{[y]:[fe,se,$e,Y,de,Ye],[u]:E,[x]:[{[y]:Fo,endpoint:{[P]:hC,[O]:Xe,[I]:Me},[u]:S},{endpoint:NE,[u]:S}]},{[y]:[fe,se,$e,Y,de,Qe],endpoint:NE,[u]:S}]}]}]}]}]}]}]}]},pa]}]},vn]},{[y]:[ne,pe,{[h]:M,[p]:[{[h]:Re,[p]:[El,"scheme"]},"http"]},{[h]:sE,[p]:[nr,!0]},se,fe,$e],[u]:E,[x]:[{[y]:Pn,[u]:E,[x]:[{[u]:E,[x]:[{[y]:nC,[u]:E,[x]:[RE]},pa]}]},vn]},{[y]:[{[h]:mC,[p]:kP,[ze]:pC}],[u]:E,[x]:[{[y]:[{[h]:Re,[p]:[ft,"resourceId[0]"],[ze]:yC},{[h]:Ne,[p]:[{[h]:M,[p]:[CC,xa]}]}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:M,[p]:[Zd,gl]}],[u]:E,[x]:[{[y]:il,[u]:E,[x]:[{[u]:E,[x]:[{[y]:oC,[u]:E,[x]:[{[u]:E,[x]:[vE,{[u]:E,[x]:[PE,{[u]:E,[x]:[{[y]:cl,[u]:E,[x]:[{[u]:E,[x]:[OE,{[u]:E,[x]:[{[y]:iC,[u]:E,[x]:[{[u]:E,[x]:[el,{[u]:E,[x]:[{[y]:dl,[u]:E,[x]:[{[u]:E,[x]:[{[y]:Pn,[u]:E,[x]:[{[u]:E,[x]:[{[y]:aC,[u]:E,[x]:[{[u]:E,[x]:[{[y]:ll,[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:M,[p]:[wC,xa]}],error:"Invalid ARN: Missing account id",[u]:D},{[u]:E,[x]:[{[y]:ul,[u]:E,[x]:[{[u]:E,[x]:[{[y]:cC,[u]:E,[x]:[{[u]:E,[x]:[IE,{[u]:E,[x]:[{[y]:Bs,endpoint:{[P]:iE,[O]:tl,[I]:Me},[u]:S},{[y]:ya,endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:tl,[I]:Me},[u]:S},{endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:tl,[I]:Me},[u]:S}]}]}]},DE]}]},rl]}]}]},nl]}]},ol]}]},vn]}]},BE]}]}]},ME]}]}]},FE]}]}]}]},LE]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[u]:D}]},{[y]:il,[u]:E,[x]:[{[y]:oC,[u]:E,[x]:[{[u]:E,[x]:[{[y]:cl,[u]:E,[x]:[{[y]:il,[u]:E,[x]:[{[y]:cl,[u]:E,[x]:[{[u]:E,[x]:[OE,{[u]:E,[x]:[{[y]:iC,[u]:E,[x]:[{[u]:E,[x]:[el,{[u]:E,[x]:[{[y]:dl,[u]:E,[x]:[{[u]:E,[x]:[{[y]:Pn,[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:M,[p]:[wl,"{partitionResult#name}"]}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:ll,[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:M,[p]:[Zd,W]}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:ul,[u]:E,[x]:[{[u]:E,[x]:[{[y]:cC,[u]:E,[x]:[{[u]:E,[x]:[{[y]:al,error:"Access Points do not support S3 Accelerate",[u]:D},{[u]:E,[x]:[IE,{[u]:E,[x]:[{[y]:NP,error:"DualStack cannot be combined with a Host override (PrivateLink)",[u]:D},{[u]:E,[x]:[{[y]:[be,ge],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Is,[I]:Me},[u]:S},{[y]:[be,fe],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Is,[I]:Me},[u]:S},{[y]:[se,ge],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Is,[I]:Me},[u]:S},{[y]:[se,fe,ne,pe],endpoint:{[P]:iE,[O]:Is,[I]:Me},[u]:S},{[y]:[se,fe],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Is,[I]:Me},[u]:S}]}]}]}]}]},DE]}]},rl]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[u]:D}]}]},nl]}]},ol]}]},vn]}]},BE]}]}]},ME]}]}]},FE]}]},{[u]:E,[x]:[{[y]:[{[h]:On,[p]:[Cl,!0]}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:sC,error:"S3 MRAP does not support dual-stack",[u]:D},{[u]:E,[x]:[{[y]:ya,error:"S3 MRAP does not support FIPS",[u]:D},{[u]:E,[x]:[{[y]:al,error:"S3 MRAP does not support S3 Accelerate",[u]:D},{[u]:E,[x]:[{[y]:[{[h]:N,[p]:[{[w]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[u]:D},{[u]:E,[x]:[{[y]:[{[h]:Ms,[p]:ga,[ze]:aE}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:M,[p]:[{[h]:Re,[p]:[{[w]:aE},L]},{[h]:Re,[p]:[ft,"partition"]}]}],[u]:E,[x]:[{endpoint:{[P]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[O]:{[q]:[{[j]:!0,name:"sigv4a",[H]:W,signingRegionSet:["*"]}]},[I]:Me},[u]:S}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[u]:D}]}]},{error:"{Region} was not a valid region",[u]:D}]}]}]}]}]}]},{error:"Invalid Access Point Name",[u]:D}]}]}]},LE]},{[y]:[{[h]:M,[p]:[Zd,yl]}],[u]:E,[x]:[{[y]:sC,error:"S3 Outposts does not support Dual-stack",[u]:D},{[u]:E,[x]:[{[y]:ya,error:"S3 Outposts does not support FIPS",[u]:D},{[u]:E,[x]:[{[y]:al,error:"S3 Outposts does not support S3 Accelerate",[u]:D},{[u]:E,[x]:[{[y]:[{[h]:pt,[p]:[{[h]:Re,[p]:[ft,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[u]:D},{[u]:E,[x]:[{[y]:[{[h]:Re,[p]:vP,[ze]:ml}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:ZE,[u]:E,[x]:[{[u]:E,[x]:[el,{[u]:E,[x]:[{[y]:dl,[u]:E,[x]:[{[u]:E,[x]:[{[y]:Pn,[u]:E,[x]:[{[u]:E,[x]:[{[y]:aC,[u]:E,[x]:[{[u]:E,[x]:[{[y]:ll,[u]:E,[x]:[{[u]:E,[x]:[{[y]:ul,[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:Re,[p]:PP,[ze]:cE}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:Re,[p]:[ft,"resourceId[3]"],[ze]:xl}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:[{[h]:M,[p]:[{[w]:cE},gC]}],[u]:E,[x]:[{[u]:E,[x]:[{[y]:Bs,endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[O]:$E,[I]:Me},[u]:S},{endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:$E,[I]:Me},[u]:S}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[u]:D}]}]},{error:"Invalid ARN: expected an access point name",[u]:D}]}]},{error:"Invalid ARN: Expected a 4-component resource",[u]:D}]}]},rl]}]},nl]}]},ol]}]},vn]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[u]:D}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[u]:D}]}]},{error:"Invalid ARN: The Outpost Id was not set",[u]:D}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[u]:D}]}]},{error:"Invalid ARN: No ARN type specified",[u]:D}]},{[y]:[{[h]:Ps,[p]:[nr,0,4,!1],[ze]:dE},{[h]:M,[p]:[{[w]:dE},"arn:"]},{[h]:Ne,[p]:[{[h]:pt,[p]:rC}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[u]:D},mE]}]},{[y]:[{[h]:pt,[p]:[UE]},{[h]:N,[p]:[UE,!0]}],[u]:E,[x]:[{[y]:Pn,[u]:E,[x]:[{[u]:E,[x]:[{[y]:dC,[u]:E,[x]:[{[u]:E,[x]:[vE,{[u]:E,[x]:[PE,{[u]:E,[x]:[Qd,{[u]:E,[x]:[{[y]:Bs,endpoint:{[P]:In,[O]:sl,[I]:Me},[u]:S},{[y]:ya,endpoint:{[P]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[O]:sl,[I]:Me},[u]:S},{endpoint:{[P]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[O]:sl,[I]:Me},[u]:S}]}]}]}]}]},pa]}]},vn]},{[y]:[{[h]:Ne,[p]:tC}],[u]:E,[x]:[{[y]:Pn,[u]:E,[x]:[{[u]:E,[x]:[{[y]:dC,[u]:E,[x]:[{[u]:E,[x]:[Qd,{[u]:E,[x]:[zE,zE,{[y]:[be,ge,ne,pe,de,Ye],[u]:E,[x]:fl},{[y]:[be,ge,ne,pe,de,Qe],endpoint:Ds,[u]:S},qE,qE,{[y]:[be,ge,Y,de,Ye],[u]:E,[x]:[{endpoint:jE,[u]:S}]},{[y]:[be,ge,Y,de,Qe],endpoint:jE,[u]:S},HE,HE,{[y]:[be,fe,ne,pe,de,Ye],[u]:E,[x]:fl},{[y]:[be,fe,ne,pe,de,Qe],endpoint:Ds,[u]:S},GE,GE,{[y]:[be,fe,Y,de,Ye],[u]:E,[x]:[{endpoint:KE,[u]:S}]},{[y]:[be,fe,Y,de,Qe],endpoint:KE,[u]:S},VE,VE,{[y]:[se,ge,ne,pe,de,Ye],[u]:E,[x]:fl},{[y]:[se,ge,ne,pe,de,Qe],endpoint:Ds,[u]:S},WE,WE,{[y]:[se,ge,Y,de,Ye],[u]:E,[x]:[{endpoint:YE,[u]:S}]},{[y]:[se,ge,Y,de,Qe],endpoint:YE,[u]:S},QE,QE,{[y]:[se,fe,ne,pe,de,Ye],[u]:E,[x]:[{[y]:Fo,endpoint:Ds,[u]:S},SC]},{[y]:[se,fe,ne,pe,de,Qe],endpoint:Ds,[u]:S},XE,XE,{[y]:[se,fe,Y,de,Ye],[u]:E,[x]:[{[y]:Fo,endpoint:{[P]:xC,[O]:Xe,[I]:Me},[u]:S},{endpoint:JE,[u]:S}]},{[y]:[se,fe,Y,de,Qe],endpoint:JE,[u]:S}]}]}]},pa]}]},vn]}]}]},{error:"A region must be set when sending requests to S3.",[u]:D}]}]},bC=OP;var _C=(e,t={})=>en(bC,{endpointParams:e,logger:t.logger});var AC=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??an,base64Encoder:(e==null?void 0:e.base64Encoder)??cn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??_C,logger:(e==null?void 0:e.logger)??new $t,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??fa,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??it,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Gt,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Lr});var RC=e=>{Ir(process.version);let t=dn(e),r=()=>t().then(Or),n=AC(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??on,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??zx(ca),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??sn({serviceId:n.serviceId,clientVersion:my.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??Jx,getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??tE,maxAttempts:(e==null?void 0:e.maxAttempts)??ae(Vr),md5:(e==null?void 0:e.md5)??kt.bind(null,"md5"),region:(e==null?void 0:e.region)??ae(Vt,zr),requestHandler:(e==null?void 0:e.requestHandler)??new Xt(r),retryMode:(e==null?void 0:e.retryMode)??ae({...Yr,default:async()=>(await r()).retryMode||Yt}),sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??nE,sha1:(e==null?void 0:e.sha1)??kt.bind(null,"sha1"),sha256:(e==null?void 0:e.sha256)??kt.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Jt,streamHasher:(e==null?void 0:e.streamHasher)??Zx,useArnRegion:(e==null?void 0:e.useArnRegion)??ae(eE),useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ae($r),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ae(Ur)}};var Ea=class extends Ut{constructor(t){let r=RC(t),n=fy(r),o=qr(n),s=Dr(o),i=Wr(s),a=i,c=Ii(a),d=Rh(c),l=Jr(d),m=cp(l);super(m),this.config=m,this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(jr(this.config)),this.middlewareStack.use(Hr(this.config)),this.middlewareStack.use(Gr(this.config)),this.middlewareStack.use(Kr(this.config)),this.middlewareStack.use(Bi(this.config)),this.middlewareStack.use(kh(this.config)),this.middlewareStack.use(lp(this.config)),this.middlewareStack.use(tn(this.config))}destroy(){super.destroy()}};var Fb=xt(Sl(),1),js=xt(of(),1),qs=xt(xb(),1);import i1 from"node:fs";import a1 from"node:path";var hf=xt(of(),1),vb=xt(Tb(),1);import r1 from"node:process";import Nb from"node:fs";import Yo from"node:path";function Wo(e){let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}import{fileURLToPath as e1}from"node:url";import{Transform as t1}from"node:stream";var zs=e=>e instanceof URL?e1(e):e,Ya=class extends t1{constructor(t){super({objectMode:!0,transform(r,n,o){o(void 0,t(r)?r:void 0)}})}},Qa=e=>e[0]==="!";var Pb={ignore:["**/node_modules","**/flow-typed","**/coverage","**/.git"],absolute:!0,dot:!0},Ob="**/.gitignore",n1=(e,t)=>Qa(e)?"!"+Yo.posix.join(t,e.slice(1)):Yo.posix.join(t,e),o1=(e,t)=>{let r=Wo(Yo.relative(t,Yo.dirname(e.filePath)));return e.content.split(/\r?\n/).filter(n=>n&&!n.startsWith("#")).map(n=>n1(n,r))},s1=(e,t)=>{if(t=Wo(t),Yo.isAbsolute(e)){if(Wo(e).startsWith(t))return Yo.relative(t,e);throw new Error(`Path ${e} is not in cwd ${t}`)}return e},Ib=(e,t)=>{let r=e.flatMap(o=>o1(o,t)),n=(0,vb.default)().add(r);return o=>(o=zs(o),o=s1(o,t),o?n.ignores(Wo(o)):!1)},Db=(e={})=>({cwd:zs(e.cwd)||r1.cwd(),suppressErrors:!!e.suppressErrors}),Bb=async(e,t)=>{let{cwd:r,suppressErrors:n}=Db(t),o=await(0,hf.default)(e,{cwd:r,suppressErrors:n,...Pb}),s=await Promise.all(o.map(async i=>({filePath:i,content:await Nb.promises.readFile(i,"utf8")})));return Ib(s,r)},Mb=(e,t)=>{let{cwd:r,suppressErrors:n}=Db(t),s=hf.default.sync(e,{cwd:r,suppressErrors:n,...Pb}).map(i=>({filePath:i,content:Nb.readFileSync(i,"utf8")}));return Ib(s,r)};var c1=e=>{if(e.some(t=>typeof t!="string"))throw new TypeError("Patterns must be a string or an array of strings")},pf=e=>(e=[...new Set([e].flat())],c1(e),e),d1=e=>{if(!e.cwd)return;let t;try{t=i1.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},Lb=(e={})=>(e={ignore:[],expandDirectories:!0,...e,cwd:zs(e.cwd)},d1(e),e),$b=e=>async(t,r)=>e(pf(t),Lb(r)),Xa=e=>(t,r)=>e(pf(t),Lb(r)),Ub=e=>{let{ignoreFiles:t,gitignore:r}=e,n=t?pf(t):[];return r&&n.push(Ob),n},l1=async e=>{let t=Ub(e);return qb(t.length>0&&await Bb(t,e))},zb=e=>{let t=Ub(e);return qb(t.length>0&&Mb(t,e))},qb=e=>{let t=new Set;return r=>{let n=r.path||r,o=a1.normalize(n),s=t.has(o)||e&&e(n);return t.add(o),!s}},jb=(e,t)=>e.flat().filter(r=>t(r)),u1=(e,t)=>(0,Fb.default)(e).pipe(new Ya(r=>t(r))),Hb=(e,t)=>{let r=[];for(;e.length>0;){let n=e.findIndex(s=>Qa(s));if(n===-1){r.push({patterns:e,options:t});break}let o=e[n].slice(1);for(let s of r)s.options.ignore.push(o);n!==0&&r.push({patterns:e.slice(0,n),options:{...t,ignore:[...t.ignore,o]}}),e=e.slice(n+1)}return r},Gb=(e,t)=>({...t?{cwd:t}:{},...Array.isArray(e)?{files:e}:e}),Kb=async(e,t)=>{let r=Hb(e,t),{cwd:n,expandDirectories:o}=t;if(!o)return r;let s=Gb(o,n),i=n?{cwd:n}:void 0;return Promise.all(r.map(async a=>{let{patterns:c,options:d}=a;return[c,d.ignore]=await Promise.all([(0,qs.default)(c,s),(0,qs.default)(d.ignore,i)]),{patterns:c,options:d}}))},yf=(e,t)=>{let r=Hb(e,t),{cwd:n,expandDirectories:o}=t;if(!o)return r;let s=Gb(o,n),i=n?{cwd:n}:void 0;return r.map(a=>{let{patterns:c,options:d}=a;return c=qs.default.sync(c,s),d.ignore=qs.default.sync(d.ignore,i),{patterns:c,options:d}})},Vb=$b(async(e,t)=>{let[r,n]=await Promise.all([Kb(e,t),l1(t)]),o=await Promise.all(r.map(s=>(0,js.default)(s.patterns,s.options)));return jb(o,n)}),vJ=Xa((e,t)=>{let r=yf(e,t),n=zb(t),o=r.map(s=>js.default.sync(s.patterns,s.options));return jb(o,n)}),PJ=Xa((e,t)=>{let r=yf(e,t),n=zb(t),o=r.map(s=>js.default.stream(s.patterns,s.options));return u1(o,n)}),OJ=Xa((e,t)=>e.some(r=>js.default.isDynamicPattern(r,t))),IJ=$b(Kb),DJ=Xa(yf);function Wb(e){return e.filter((t,r,n)=>t.at(-1)!=="/"||!n.some((o,s)=>r!==s&&o.startsWith(t)&&o.length>t.length))}var y1=new Ea({});try{let e=(0,et.getInput)("bucket",{required:!0}),t=(0,et.getMultilineInput)("path",{required:!0}),r=(0,et.getInput)("prefix"),n=await Vb(t,{onlyFiles:!1,markDirectories:!0});(0,et.isDebug)()&&(0,et.debug)(`Matched file system paths: ${Yb(n)}`);let o=Wb(n),i=(await Promise.all(o.map(async a=>{let c=a.at(-1)==="/",d=f1(process.cwd(),a),l=m1.join(r,a),m=c?void 0:h1(d),f=c?void 0:(await p1(d)).size,C=await y1.send(new eo({Bucket:e,Key:l,Body:m,ContentLength:f}));(0,et.isDebug)()&&(0,et.debug)(`putObjectResponse: ${Yb(C)}`);let{httpStatusCode:g}=C.$metadata;return g===200&&(0,et.info)(`Uploaded: ${d}`),g??-1}))).filter(a=>a===200).length;(0,et.info)(`### Total files uploaded: ${Intl.NumberFormat("en").format(i)} ###`)}catch(e){e instanceof Error&&(0,et.setFailed)(e)}
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
